function ub(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var YR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function db(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return t[n]}})}),r}var km={exports:{}},Zd={},Pm={exports:{}},ur={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m1;function jN(){if(m1)return ur;m1=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function w(te){return te===null||typeof te!="object"?null:(te=g&&te[g]||te["@@iterator"],typeof te=="function"?te:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,x={};function _(te,I,Y){this.props=te,this.context=I,this.refs=x,this.updater=Y||v}_.prototype.isReactComponent={},_.prototype.setState=function(te,I){if(typeof te!="object"&&typeof te!="function"&&te!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,te,I,"setState")},_.prototype.forceUpdate=function(te){this.updater.enqueueForceUpdate(this,te,"forceUpdate")};function C(){}C.prototype=_.prototype;function L(te,I,Y){this.props=te,this.context=I,this.refs=x,this.updater=Y||v}var T=L.prototype=new C;T.constructor=L,S(T,_.prototype),T.isPureReactComponent=!0;var R=Array.isArray,H=Object.prototype.hasOwnProperty,J={current:null},Q={key:!0,ref:!0,__self:!0,__source:!0};function D(te,I,Y){var Z,ue={},ge=null,le=null;if(I!=null)for(Z in I.ref!==void 0&&(le=I.ref),I.key!==void 0&&(ge=""+I.key),I)H.call(I,Z)&&!Q.hasOwnProperty(Z)&&(ue[Z]=I[Z]);var xe=arguments.length-2;if(xe===1)ue.children=Y;else if(1<xe){for(var ye=Array(xe),ke=0;ke<xe;ke++)ye[ke]=arguments[ke+2];ue.children=ye}if(te&&te.defaultProps)for(Z in xe=te.defaultProps,xe)ue[Z]===void 0&&(ue[Z]=xe[Z]);return{$$typeof:t,type:te,key:ge,ref:le,props:ue,_owner:J.current}}function $(te,I){return{$$typeof:t,type:te.type,key:I,ref:te.ref,props:te.props,_owner:te._owner}}function G(te){return typeof te=="object"&&te!==null&&te.$$typeof===t}function z(te){var I={"=":"=0",":":"=2"};return"$"+te.replace(/[=:]/g,function(Y){return I[Y]})}var F=/\/+/g;function P(te,I){return typeof te=="object"&&te!==null&&te.key!=null?z(""+te.key):I.toString(36)}function M(te,I,Y,Z,ue){var ge=typeof te;(ge==="undefined"||ge==="boolean")&&(te=null);var le=!1;if(te===null)le=!0;else switch(ge){case"string":case"number":le=!0;break;case"object":switch(te.$$typeof){case t:case e:le=!0}}if(le)return le=te,ue=ue(le),te=Z===""?"."+P(le,0):Z,R(ue)?(Y="",te!=null&&(Y=te.replace(F,"$&/")+"/"),M(ue,I,Y,"",function(ke){return ke})):ue!=null&&(G(ue)&&(ue=$(ue,Y+(!ue.key||le&&le.key===ue.key?"":(""+ue.key).replace(F,"$&/")+"/")+te)),I.push(ue)),1;if(le=0,Z=Z===""?".":Z+":",R(te))for(var xe=0;xe<te.length;xe++){ge=te[xe];var ye=Z+P(ge,xe);le+=M(ge,I,Y,ye,ue)}else if(ye=w(te),typeof ye=="function")for(te=ye.call(te),xe=0;!(ge=te.next()).done;)ge=ge.value,ye=Z+P(ge,xe++),le+=M(ge,I,Y,ye,ue);else if(ge==="object")throw I=String(te),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(te).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return le}function fe(te,I,Y){if(te==null)return te;var Z=[],ue=0;return M(te,Z,"","",function(ge){return I.call(Y,ge,ue++)}),Z}function ae(te){if(te._status===-1){var I=te._result;I=I(),I.then(function(Y){(te._status===0||te._status===-1)&&(te._status=1,te._result=Y)},function(Y){(te._status===0||te._status===-1)&&(te._status=2,te._result=Y)}),te._status===-1&&(te._status=0,te._result=I)}if(te._status===1)return te._result.default;throw te._result}var se={current:null},q={transition:null},me={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:q,ReactCurrentOwner:J};function Ne(){throw Error("act(...) is not supported in production builds of React.")}return ur.Children={map:fe,forEach:function(te,I,Y){fe(te,function(){I.apply(this,arguments)},Y)},count:function(te){var I=0;return fe(te,function(){I++}),I},toArray:function(te){return fe(te,function(I){return I})||[]},only:function(te){if(!G(te))throw Error("React.Children.only expected to receive a single React element child.");return te}},ur.Component=_,ur.Fragment=r,ur.Profiler=a,ur.PureComponent=L,ur.StrictMode=n,ur.Suspense=d,ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,ur.act=Ne,ur.cloneElement=function(te,I,Y){if(te==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+te+".");var Z=S({},te.props),ue=te.key,ge=te.ref,le=te._owner;if(I!=null){if(I.ref!==void 0&&(ge=I.ref,le=J.current),I.key!==void 0&&(ue=""+I.key),te.type&&te.type.defaultProps)var xe=te.type.defaultProps;for(ye in I)H.call(I,ye)&&!Q.hasOwnProperty(ye)&&(Z[ye]=I[ye]===void 0&&xe!==void 0?xe[ye]:I[ye])}var ye=arguments.length-2;if(ye===1)Z.children=Y;else if(1<ye){xe=Array(ye);for(var ke=0;ke<ye;ke++)xe[ke]=arguments[ke+2];Z.children=xe}return{$$typeof:t,type:te.type,key:ue,ref:ge,props:Z,_owner:le}},ur.createContext=function(te){return te={$$typeof:c,_currentValue:te,_currentValue2:te,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},te.Provider={$$typeof:i,_context:te},te.Consumer=te},ur.createElement=D,ur.createFactory=function(te){var I=D.bind(null,te);return I.type=te,I},ur.createRef=function(){return{current:null}},ur.forwardRef=function(te){return{$$typeof:u,render:te}},ur.isValidElement=G,ur.lazy=function(te){return{$$typeof:p,_payload:{_status:-1,_result:te},_init:ae}},ur.memo=function(te,I){return{$$typeof:h,type:te,compare:I===void 0?null:I}},ur.startTransition=function(te){var I=q.transition;q.transition={};try{te()}finally{q.transition=I}},ur.unstable_act=Ne,ur.useCallback=function(te,I){return se.current.useCallback(te,I)},ur.useContext=function(te){return se.current.useContext(te)},ur.useDebugValue=function(){},ur.useDeferredValue=function(te){return se.current.useDeferredValue(te)},ur.useEffect=function(te,I){return se.current.useEffect(te,I)},ur.useId=function(){return se.current.useId()},ur.useImperativeHandle=function(te,I,Y){return se.current.useImperativeHandle(te,I,Y)},ur.useInsertionEffect=function(te,I){return se.current.useInsertionEffect(te,I)},ur.useLayoutEffect=function(te,I){return se.current.useLayoutEffect(te,I)},ur.useMemo=function(te,I){return se.current.useMemo(te,I)},ur.useReducer=function(te,I,Y){return se.current.useReducer(te,I,Y)},ur.useRef=function(te){return se.current.useRef(te)},ur.useState=function(te){return se.current.useState(te)},ur.useSyncExternalStore=function(te,I,Y){return se.current.useSyncExternalStore(te,I,Y)},ur.useTransition=function(){return se.current.useTransition()},ur.version="18.3.1",ur}var g1;function xv(){return g1||(g1=1,Pm.exports=jN()),Pm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v1;function SN(){if(v1)return Zd;v1=1;var t=xv(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(u,d,h){var p,g={},w=null,v=null;h!==void 0&&(w=""+h),d.key!==void 0&&(w=""+d.key),d.ref!==void 0&&(v=d.ref);for(p in d)n.call(d,p)&&!i.hasOwnProperty(p)&&(g[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)g[p]===void 0&&(g[p]=d[p]);return{$$typeof:e,type:u,key:w,ref:v,props:g,_owner:a.current}}return Zd.Fragment=r,Zd.jsx=c,Zd.jsxs=c,Zd}var y1;function EN(){return y1||(y1=1,km.exports=SN()),km.exports}var s=EN(),bf={},Om={exports:{}},ss={},Lm={exports:{}},Tm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b1;function CN(){return b1||(b1=1,(function(t){function e(q,me){var Ne=q.length;q.push(me);e:for(;0<Ne;){var te=Ne-1>>>1,I=q[te];if(0<a(I,me))q[te]=me,q[Ne]=I,Ne=te;else break e}}function r(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var me=q[0],Ne=q.pop();if(Ne!==me){q[0]=Ne;e:for(var te=0,I=q.length,Y=I>>>1;te<Y;){var Z=2*(te+1)-1,ue=q[Z],ge=Z+1,le=q[ge];if(0>a(ue,Ne))ge<I&&0>a(le,ue)?(q[te]=le,q[ge]=Ne,te=ge):(q[te]=ue,q[Z]=Ne,te=Z);else if(ge<I&&0>a(le,Ne))q[te]=le,q[ge]=Ne,te=ge;else break e}}return me}function a(q,me){var Ne=q.sortIndex-me.sortIndex;return Ne!==0?Ne:q.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var d=[],h=[],p=1,g=null,w=3,v=!1,S=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(q){for(var me=r(h);me!==null;){if(me.callback===null)n(h);else if(me.startTime<=q)n(h),me.sortIndex=me.expirationTime,e(d,me);else break;me=r(h)}}function R(q){if(x=!1,T(q),!S)if(r(d)!==null)S=!0,ae(H);else{var me=r(h);me!==null&&se(R,me.startTime-q)}}function H(q,me){S=!1,x&&(x=!1,C(D),D=-1),v=!0;var Ne=w;try{for(T(me),g=r(d);g!==null&&(!(g.expirationTime>me)||q&&!z());){var te=g.callback;if(typeof te=="function"){g.callback=null,w=g.priorityLevel;var I=te(g.expirationTime<=me);me=t.unstable_now(),typeof I=="function"?g.callback=I:g===r(d)&&n(d),T(me)}else n(d);g=r(d)}if(g!==null)var Y=!0;else{var Z=r(h);Z!==null&&se(R,Z.startTime-me),Y=!1}return Y}finally{g=null,w=Ne,v=!1}}var J=!1,Q=null,D=-1,$=5,G=-1;function z(){return!(t.unstable_now()-G<$)}function F(){if(Q!==null){var q=t.unstable_now();G=q;var me=!0;try{me=Q(!0,q)}finally{me?P():(J=!1,Q=null)}}else J=!1}var P;if(typeof L=="function")P=function(){L(F)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,fe=M.port2;M.port1.onmessage=F,P=function(){fe.postMessage(null)}}else P=function(){_(F,0)};function ae(q){Q=q,J||(J=!0,P())}function se(q,me){D=_(function(){q(t.unstable_now())},me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){S||v||(S=!0,ae(H))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(q){switch(w){case 1:case 2:case 3:var me=3;break;default:me=w}var Ne=w;w=me;try{return q()}finally{w=Ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,me){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Ne=w;w=q;try{return me()}finally{w=Ne}},t.unstable_scheduleCallback=function(q,me,Ne){var te=t.unstable_now();switch(typeof Ne=="object"&&Ne!==null?(Ne=Ne.delay,Ne=typeof Ne=="number"&&0<Ne?te+Ne:te):Ne=te,q){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=Ne+I,q={id:p++,callback:me,priorityLevel:q,startTime:Ne,expirationTime:I,sortIndex:-1},Ne>te?(q.sortIndex=Ne,e(h,q),r(d)===null&&q===r(h)&&(x?(C(D),D=-1):x=!0,se(R,Ne-te))):(q.sortIndex=I,e(d,q),S||v||(S=!0,ae(H))),q},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(q){var me=w;return function(){var Ne=w;w=me;try{return q.apply(this,arguments)}finally{w=Ne}}}})(Tm)),Tm}var x1;function AN(){return x1||(x1=1,Lm.exports=CN()),Lm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w1;function kN(){if(w1)return ss;w1=1;var t=xv(),e=AN();function r(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,f=1;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(o,l){c(o,l),c(o+"Capture",l)}function c(o,l){for(a[o]=l,o=0;o<l.length;o++)n.add(l[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function w(o){return d.call(g,o)?!0:d.call(p,o)?!1:h.test(o)?g[o]=!0:(p[o]=!0,!1)}function v(o,l,f,y){if(f!==null&&f.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return y?!1:f!==null?!f.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function S(o,l,f,y){if(l===null||typeof l>"u"||v(o,l,f,y))return!0;if(y)return!1;if(f!==null)switch(f.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function x(o,l,f,y,j,A,W){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=y,this.attributeNamespace=j,this.mustUseProperty=f,this.propertyName=o,this.type=l,this.sanitizeURL=A,this.removeEmptyString=W}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){_[o]=new x(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];_[l]=new x(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){_[o]=new x(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){_[o]=new x(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){_[o]=new x(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){_[o]=new x(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){_[o]=new x(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){_[o]=new x(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){_[o]=new x(o,5,!1,o.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function L(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(C,L);_[l]=new x(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(C,L);_[l]=new x(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(C,L);_[l]=new x(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){_[o]=new x(o,1,!1,o.toLowerCase(),null,!1,!1)}),_.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){_[o]=new x(o,1,!1,o.toLowerCase(),null,!0,!0)});function T(o,l,f,y){var j=_.hasOwnProperty(l)?_[l]:null;(j!==null?j.type!==0:y||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(S(l,f,j,y)&&(f=null),y||j===null?w(l)&&(f===null?o.removeAttribute(l):o.setAttribute(l,""+f)):j.mustUseProperty?o[j.propertyName]=f===null?j.type===3?!1:"":f:(l=j.attributeName,y=j.attributeNamespace,f===null?o.removeAttribute(l):(j=j.type,f=j===3||j===4&&f===!0?"":""+f,y?o.setAttributeNS(y,l,f):o.setAttribute(l,f))))}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),J=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),z=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),q=Symbol.iterator;function me(o){return o===null||typeof o!="object"?null:(o=q&&o[q]||o["@@iterator"],typeof o=="function"?o:null)}var Ne=Object.assign,te;function I(o){if(te===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);te=l&&l[1]||""}return`
`+te+o}var Y=!1;function Z(o,l){if(!o||Y)return"";Y=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(ze){var y=ze}Reflect.construct(o,[],l)}else{try{l.call()}catch(ze){y=ze}o.call(l.prototype)}else{try{throw Error()}catch(ze){y=ze}o()}}catch(ze){if(ze&&y&&typeof ze.stack=="string"){for(var j=ze.stack.split(`
`),A=y.stack.split(`
`),W=j.length-1,ve=A.length-1;1<=W&&0<=ve&&j[W]!==A[ve];)ve--;for(;1<=W&&0<=ve;W--,ve--)if(j[W]!==A[ve]){if(W!==1||ve!==1)do if(W--,ve--,0>ve||j[W]!==A[ve]){var Se=`
`+j[W].replace(" at new "," at ");return o.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",o.displayName)),Se}while(1<=W&&0<=ve);break}}}finally{Y=!1,Error.prepareStackTrace=f}return(o=o?o.displayName||o.name:"")?I(o):""}function ue(o){switch(o.tag){case 5:return I(o.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return o=Z(o.type,!1),o;case 11:return o=Z(o.type.render,!1),o;case 1:return o=Z(o.type,!0),o;default:return""}}function ge(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case Q:return"Fragment";case J:return"Portal";case $:return"Profiler";case D:return"StrictMode";case P:return"Suspense";case M:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case z:return(o.displayName||"Context")+".Consumer";case G:return(o._context.displayName||"Context")+".Provider";case F:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case fe:return l=o.displayName||null,l!==null?l:ge(o.type)||"Memo";case ae:l=o._payload,o=o._init;try{return ge(o(l))}catch{}}return null}function le(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(l);case 8:return l===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function xe(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ye(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function ke(o){var l=ye(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),y=""+o[l];if(!o.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var j=f.get,A=f.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return j.call(this)},set:function(W){y=""+W,A.call(this,W)}}),Object.defineProperty(o,l,{enumerable:f.enumerable}),{getValue:function(){return y},setValue:function(W){y=""+W},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function De(o){o._valueTracker||(o._valueTracker=ke(o))}function He(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var f=l.getValue(),y="";return o&&(y=ye(o)?o.checked?"true":"false":o.value),o=y,o!==f?(l.setValue(o),!0):!1}function tt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Fe(o,l){var f=l.checked;return Ne({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??o._wrapperState.initialChecked})}function de(o,l){var f=l.defaultValue==null?"":l.defaultValue,y=l.checked!=null?l.checked:l.defaultChecked;f=xe(l.value!=null?l.value:f),o._wrapperState={initialChecked:y,initialValue:f,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function zt(o,l){l=l.checked,l!=null&&T(o,"checked",l,!1)}function wt(o,l){zt(o,l);var f=xe(l.value),y=l.type;if(f!=null)y==="number"?(f===0&&o.value===""||o.value!=f)&&(o.value=""+f):o.value!==""+f&&(o.value=""+f);else if(y==="submit"||y==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?Ve(o,l.type,f):l.hasOwnProperty("defaultValue")&&Ve(o,l.type,xe(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function bt(o,l,f){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var y=l.type;if(!(y!=="submit"&&y!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,f||l===o.value||(o.value=l),o.defaultValue=l}f=o.name,f!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,f!==""&&(o.name=f)}function Ve(o,l,f){(l!=="number"||tt(o.ownerDocument)!==o)&&(f==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+f&&(o.defaultValue=""+f))}var gt=Array.isArray;function we(o,l,f,y){if(o=o.options,l){l={};for(var j=0;j<f.length;j++)l["$"+f[j]]=!0;for(f=0;f<o.length;f++)j=l.hasOwnProperty("$"+o[f].value),o[f].selected!==j&&(o[f].selected=j),j&&y&&(o[f].defaultSelected=!0)}else{for(f=""+xe(f),l=null,j=0;j<o.length;j++){if(o[j].value===f){o[j].selected=!0,y&&(o[j].defaultSelected=!0);return}l!==null||o[j].disabled||(l=o[j])}l!==null&&(l.selected=!0)}}function Je(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return Ne({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function V(o,l){var f=l.value;if(f==null){if(f=l.children,l=l.defaultValue,f!=null){if(l!=null)throw Error(r(92));if(gt(f)){if(1<f.length)throw Error(r(93));f=f[0]}l=f}l==null&&(l=""),f=l}o._wrapperState={initialValue:xe(f)}}function be(o,l){var f=xe(l.value),y=xe(l.defaultValue);f!=null&&(f=""+f,f!==o.value&&(o.value=f),l.defaultValue==null&&o.defaultValue!==f&&(o.defaultValue=f)),y!=null&&(o.defaultValue=""+y)}function oe(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function Be(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ct(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?Be(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var ot,rt=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,f,y,j){MSApp.execUnsafeLocalFunction(function(){return o(l,f,y,j)})}:o})(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(ot=ot||document.createElement("div"),ot.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=ot.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function Xe(o,l){if(l){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=l;return}}o.textContent=l}var Me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ge=["Webkit","ms","Moz","O"];Object.keys(Me).forEach(function(o){Ge.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),Me[l]=Me[o]})});function xt(o,l,f){return l==null||typeof l=="boolean"||l===""?"":f||typeof l!="number"||l===0||Me.hasOwnProperty(o)&&Me[o]?(""+l).trim():l+"px"}function lt(o,l){o=o.style;for(var f in l)if(l.hasOwnProperty(f)){var y=f.indexOf("--")===0,j=xt(f,l[f],y);f==="float"&&(f="cssFloat"),y?o.setProperty(f,j):o[f]=j}}var mt=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function St(o,l){if(l){if(mt[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function Ze(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bt=null;function pt(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ar=null,nr=null,Qe=null;function at(o){if(o=kl(o)){if(typeof ar!="function")throw Error(r(280));var l=o.stateNode;l&&(l=Ac(l),ar(o.stateNode,o.type,l))}}function ne(o){nr?Qe?Qe.push(o):Qe=[o]:nr=o}function dt(){if(nr){var o=nr,l=Qe;if(Qe=nr=null,at(o),l)for(o=0;o<l.length;o++)at(l[o])}}function Tt(o,l){return o(l)}function Kt(){}var dr=!1;function yt(o,l,f){if(dr)return o(l,f);dr=!0;try{return Tt(o,l,f)}finally{dr=!1,(nr!==null||Qe!==null)&&(Kt(),dt())}}function fr(o,l){var f=o.stateNode;if(f===null)return null;var y=Ac(f);if(y===null)return null;f=y[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var yn=!1;if(u)try{var Cr={};Object.defineProperty(Cr,"passive",{get:function(){yn=!0}}),window.addEventListener("test",Cr,Cr),window.removeEventListener("test",Cr,Cr)}catch{yn=!1}function qr(o,l,f,y,j,A,W,ve,Se){var ze=Array.prototype.slice.call(arguments,3);try{l.apply(f,ze)}catch(st){this.onError(st)}}var Nr=!1,jr=null,sn=!1,Zs=null,Do={onError:function(o){Nr=!0,jr=o}};function ls(o,l,f,y,j,A,W,ve,Se){Nr=!1,jr=null,qr.apply(Do,arguments)}function Ts(o,l,f,y,j,A,W,ve,Se){if(ls.apply(this,arguments),Nr){if(Nr){var ze=jr;Nr=!1,jr=null}else throw Error(r(198));sn||(sn=!0,Zs=ze)}}function Wn(o){var l=o,f=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(f=l.return),o=l.return;while(o)}return l.tag===3?f:null}function Va(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function La(o){if(Wn(o)!==o)throw Error(r(188))}function fi(o){var l=o.alternate;if(!l){if(l=Wn(o),l===null)throw Error(r(188));return l!==o?null:o}for(var f=o,y=l;;){var j=f.return;if(j===null)break;var A=j.alternate;if(A===null){if(y=j.return,y!==null){f=y;continue}break}if(j.child===A.child){for(A=j.child;A;){if(A===f)return La(j),o;if(A===y)return La(j),l;A=A.sibling}throw Error(r(188))}if(f.return!==y.return)f=j,y=A;else{for(var W=!1,ve=j.child;ve;){if(ve===f){W=!0,f=j,y=A;break}if(ve===y){W=!0,y=j,f=A;break}ve=ve.sibling}if(!W){for(ve=A.child;ve;){if(ve===f){W=!0,f=A,y=j;break}if(ve===y){W=!0,y=A,f=j;break}ve=ve.sibling}if(!W)throw Error(r(189))}}if(f.alternate!==y)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:l}function cs(o){return o=fi(o),o!==null?Io(o):null}function Io(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=Io(o);if(l!==null)return l;o=o.sibling}return null}var pi=e.unstable_scheduleCallback,mi=e.unstable_cancelCallback,ul=e.unstable_shouldYield,Ed=e.unstable_requestPaint,zr=e.unstable_now,au=e.unstable_getCurrentPriorityLevel,dl=e.unstable_ImmediatePriority,Ta=e.unstable_UserBlockingPriority,Fo=e.unstable_NormalPriority,su=e.unstable_LowPriority,hl=e.unstable_IdlePriority,gi=null,Ra=null;function ou(o){if(Ra&&typeof Ra.onCommitFiberRoot=="function")try{Ra.onCommitFiberRoot(gi,o,void 0,(o.current.flags&128)===128)}catch{}}var Qn=Math.clz32?Math.clz32:iu,Cd=Math.log,bn=Math.LN2;function iu(o){return o>>>=0,o===0?32:31-(Cd(o)/bn|0)|0}var vi=64,Wa=4194304;function us(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function fa(o,l){var f=o.pendingLanes;if(f===0)return 0;var y=0,j=o.suspendedLanes,A=o.pingedLanes,W=f&268435455;if(W!==0){var ve=W&~j;ve!==0?y=us(ve):(A&=W,A!==0&&(y=us(A)))}else W=f&~j,W!==0?y=us(W):A!==0&&(y=us(A));if(y===0)return 0;if(l!==0&&l!==y&&(l&j)===0&&(j=y&-y,A=l&-l,j>=A||j===16&&(A&4194240)!==0))return l;if((y&4)!==0&&(y|=f&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=y;0<l;)f=31-Qn(l),j=1<<f,y|=o[f],l&=~j;return y}function yi(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function on(o,l){for(var f=o.suspendedLanes,y=o.pingedLanes,j=o.expirationTimes,A=o.pendingLanes;0<A;){var W=31-Qn(A),ve=1<<W,Se=j[W];Se===-1?((ve&f)===0||(ve&y)!==0)&&(j[W]=yi(ve,l)):Se<=l&&(o.expiredLanes|=ve),A&=~ve}}function bi(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function lu(){var o=vi;return vi<<=1,(vi&4194240)===0&&(vi=64),o}function uc(o){for(var l=[],f=0;31>f;f++)l.push(o);return l}function xi(o,l,f){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-Qn(l),o[l]=f}function Rs(o,l){var f=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var y=o.eventTimes;for(o=o.expirationTimes;0<f;){var j=31-Qn(f),A=1<<j;l[j]=0,y[j]=-1,o[j]=-1,f&=~A}}function fl(o,l){var f=o.entangledLanes|=l;for(o=o.entanglements;f;){var y=31-Qn(f),j=1<<y;j&l|o[y]&l&&(o[y]|=l),f&=~j}}var pr=0;function eo(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var pl,dc,cu,uu,ml,to=!1,ds=[],Ds=null,pa=null,Ha=null,Ht=new Map,wi=new Map,Is=[],Ad="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function du(o,l){switch(o){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":pa=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":Ht.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":wi.delete(l.pointerId)}}function Da(o,l,f,y,j,A){return o===null||o.nativeEvent!==A?(o={blockedOn:l,domEventName:f,eventSystemFlags:y,nativeEvent:A,targetContainers:[j]},l!==null&&(l=kl(l),l!==null&&dc(l)),o):(o.eventSystemFlags|=y,l=o.targetContainers,j!==null&&l.indexOf(j)===-1&&l.push(j),o)}function ro(o,l,f,y,j){switch(l){case"focusin":return Ds=Da(Ds,o,l,f,y,j),!0;case"dragenter":return pa=Da(pa,o,l,f,y,j),!0;case"mouseover":return Ha=Da(Ha,o,l,f,y,j),!0;case"pointerover":var A=j.pointerId;return Ht.set(A,Da(Ht.get(A)||null,o,l,f,y,j)),!0;case"gotpointercapture":return A=j.pointerId,wi.set(A,Da(wi.get(A)||null,o,l,f,y,j)),!0}return!1}function hu(o){var l=Go(o.target);if(l!==null){var f=Wn(l);if(f!==null){if(l=f.tag,l===13){if(l=Va(f),l!==null){o.blockedOn=l,ml(o.priority,function(){cu(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function gl(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var f=Ni(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(f===null){f=o.nativeEvent;var y=new f.constructor(f.type,f);Bt=y,f.target.dispatchEvent(y),Bt=null}else return l=kl(f),l!==null&&dc(l),o.blockedOn=f,!1;l.shift()}return!0}function _i(o,l,f){gl(o)&&f.delete(l)}function hc(){to=!1,Ds!==null&&gl(Ds)&&(Ds=null),pa!==null&&gl(pa)&&(pa=null),Ha!==null&&gl(Ha)&&(Ha=null),Ht.forEach(_i),wi.forEach(_i)}function hs(o,l){o.blockedOn===l&&(o.blockedOn=null,to||(to=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,hc)))}function Fs(o){function l(j){return hs(j,o)}if(0<ds.length){hs(ds[0],o);for(var f=1;f<ds.length;f++){var y=ds[f];y.blockedOn===o&&(y.blockedOn=null)}}for(Ds!==null&&hs(Ds,o),pa!==null&&hs(pa,o),Ha!==null&&hs(Ha,o),Ht.forEach(l),wi.forEach(l),f=0;f<Is.length;f++)y=Is[f],y.blockedOn===o&&(y.blockedOn=null);for(;0<Is.length&&(f=Is[0],f.blockedOn===null);)hu(f),f.blockedOn===null&&Is.shift()}var fs=R.ReactCurrentBatchConfig,vl=!0;function fc(o,l,f,y){var j=pr,A=fs.transition;fs.transition=null;try{pr=1,no(o,l,f,y)}finally{pr=j,fs.transition=A}}function pc(o,l,f,y){var j=pr,A=fs.transition;fs.transition=null;try{pr=4,no(o,l,f,y)}finally{pr=j,fs.transition=A}}function no(o,l,f,y){if(vl){var j=Ni(o,l,f,y);if(j===null)Sc(o,l,y,Ms,f),du(o,y);else if(ro(j,o,l,f,y))y.stopPropagation();else if(du(o,y),l&4&&-1<Ad.indexOf(o)){for(;j!==null;){var A=kl(j);if(A!==null&&pl(A),A=Ni(o,l,f,y),A===null&&Sc(o,l,y,Ms,f),A===j)break;j=A}j!==null&&y.stopPropagation()}else Sc(o,l,y,null,f)}}var Ms=null;function Ni(o,l,f,y){if(Ms=null,o=pt(y),o=Go(o),o!==null)if(l=Wn(o),l===null)o=null;else if(f=l.tag,f===13){if(o=Va(l),o!==null)return o;o=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return Ms=o,null}function ji(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(au()){case dl:return 1;case Ta:return 4;case Fo:case su:return 16;case hl:return 536870912;default:return 16}default:return 16}}var Ga=null,ao=null,Si=null;function mc(){if(Si)return Si;var o,l=ao,f=l.length,y,j="value"in Ga?Ga.value:Ga.textContent,A=j.length;for(o=0;o<f&&l[o]===j[o];o++);var W=f-o;for(y=1;y<=W&&l[f-y]===j[A-y];y++);return Si=j.slice(o,1<y?1-y:void 0)}function Ka(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Ya(){return!0}function gc(){return!1}function Zn(o){function l(f,y,j,A,W){this._reactName=f,this._targetInst=j,this.type=y,this.nativeEvent=A,this.target=W,this.currentTarget=null;for(var ve in o)o.hasOwnProperty(ve)&&(f=o[ve],this[ve]=f?f(A):A[ve]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Ya:gc,this.isPropagationStopped=gc,this}return Ne(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Ya)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Ya)},persist:function(){},isPersistent:Ya}),l}var Ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yl=Zn(Ja),N=Ne({},Ja,{view:0,detail:0}),U=Zn(N),he,_e,Ae,We=Ne({},N,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mo,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ae&&(Ae&&o.type==="mousemove"?(he=o.screenX-Ae.screenX,_e=o.screenY-Ae.screenY):_e=he=0,Ae=o),he)},movementY:function(o){return"movementY"in o?o.movementY:_e}}),et=Zn(We),Ct=Ne({},We,{dataTransfer:0}),Dt=Zn(Ct),Yt=Ne({},N,{relatedTarget:0}),Jt=Zn(Yt),gr=Ne({},Ja,{animationName:0,elapsedTime:0,pseudoElement:0}),Gr=Zn(gr),xn=Ne({},Ja,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Fr=Zn(xn),kn=Ne({},Ja,{data:0}),ln=Zn(kn),Hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xa={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ma={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fu(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=ma[o])?!!l[o]:!1}function Mo(){return fu}var Ei=Ne({},N,{key:function(o){if(o.key){var l=Hn[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Ka(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Xa[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mo,charCode:function(o){return o.type==="keypress"?Ka(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Ka(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),zo=Zn(Ei),Ci=Ne({},We,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bo=Zn(Ci),Ai=Ne({},N,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mo}),ea=Zn(Ai),ki=Ne({},Ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pi=Zn(ki),vc=Ne({},We,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),yc=Zn(vc),Jr=[9,13,27,32],ps=u&&"CompositionEvent"in window,zs=null;u&&"documentMode"in document&&(zs=document.documentMode);var pu=u&&"TextEvent"in window&&!zs,Ia=u&&(!ps||zs&&8<zs&&11>=zs),Uo=" ",bl=!1;function xl(o,l){switch(o){case"keyup":return Jr.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function so(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Qa=!1;function Fa(o,l){switch(o){case"compositionend":return so(l);case"keypress":return l.which!==32?null:(bl=!0,Uo);case"textInput":return o=l.data,o===Uo&&bl?null:o;default:return null}}function Ma(o,l){if(Qa)return o==="compositionend"||!ps&&xl(o,l)?(o=mc(),Si=ao=Ga=null,Qa=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ia&&l.locale!=="ko"?null:l.data;default:return null}}var qo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bs(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!qo[o.type]:l==="textarea"}function oo(o,l,f,y){ne(y),l=bu(l,"onChange"),0<l.length&&(f=new yl("onChange","change",null,f,y),o.push({event:f,listeners:l}))}var io=null,Us=null;function cn(o){Nc(o,0)}function Oi(o){var l=Ui(o);if(He(l))return o}function qs(o,l){if(o==="change")return l}var ms=!1;if(u){var Li;if(u){var Ti="oninput"in document;if(!Ti){var wl=document.createElement("div");wl.setAttribute("oninput","return;"),Ti=typeof wl.oninput=="function"}Li=Ti}else Li=!1;ms=Li&&(!document.documentMode||9<document.documentMode)}function _l(){io&&(io.detachEvent("onpropertychange",lo),Us=io=null)}function lo(o){if(o.propertyName==="value"&&Oi(Us)){var l=[];oo(l,Us,o,pt(o)),yt(cn,l)}}function $o(o,l,f){o==="focusin"?(_l(),io=l,Us=f,io.attachEvent("onpropertychange",lo)):o==="focusout"&&_l()}function Vo(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Oi(Us)}function Ri(o,l){if(o==="click")return Oi(l)}function Wo(o,l){if(o==="input"||o==="change")return Oi(l)}function Di(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Xr=typeof Object.is=="function"?Object.is:Di;function ga(o,l){if(Xr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var f=Object.keys(o),y=Object.keys(l);if(f.length!==y.length)return!1;for(y=0;y<f.length;y++){var j=f[y];if(!d.call(l,j)||!Xr(o[j],l[j]))return!1}return!0}function vr(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Ar(o,l){var f=vr(o);o=0;for(var y;f;){if(f.nodeType===3){if(y=o+f.textContent.length,o<=l&&y>=l)return{node:f,offset:l-o};o=y}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=vr(f)}}function Qr(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?Qr(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function wn(){for(var o=window,l=tt();l instanceof o.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)o=l.contentWindow;else break;l=tt(o.document)}return l}function gs(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function bc(o){var l=wn(),f=o.focusedElem,y=o.selectionRange;if(l!==f&&f&&f.ownerDocument&&Qr(f.ownerDocument.documentElement,f)){if(y!==null&&gs(f)){if(l=y.start,o=y.end,o===void 0&&(o=l),"selectionStart"in f)f.selectionStart=l,f.selectionEnd=Math.min(o,f.value.length);else if(o=(l=f.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var j=f.textContent.length,A=Math.min(y.start,j);y=y.end===void 0?A:Math.min(y.end,j),!o.extend&&A>y&&(j=y,y=A,A=j),j=Ar(f,A);var W=Ar(f,y);j&&W&&(o.rangeCount!==1||o.anchorNode!==j.node||o.anchorOffset!==j.offset||o.focusNode!==W.node||o.focusOffset!==W.offset)&&(l=l.createRange(),l.setStart(j.node,j.offset),o.removeAllRanges(),A>y?(o.addRange(l),o.extend(W.node,W.offset)):(l.setEnd(W.node,W.offset),o.addRange(l)))}}for(l=[],o=f;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<l.length;f++)o=l[f],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Nl=u&&"documentMode"in document&&11>=document.documentMode,co=null,mu=null,jl=null,gu=!1;function kd(o,l,f){var y=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;gu||co==null||co!==tt(y)||(y=co,"selectionStart"in y&&gs(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),jl&&ga(jl,y)||(jl=y,y=bu(mu,"onSelect"),0<y.length&&(l=new yl("onSelect","select",null,l,f),o.push({event:l,listeners:y}),l.target=co)))}function xc(o,l){var f={};return f[o.toLowerCase()]=l.toLowerCase(),f["Webkit"+o]="webkit"+l,f["Moz"+o]="moz"+l,f}var Ii={animationend:xc("Animation","AnimationEnd"),animationiteration:xc("Animation","AnimationIteration"),animationstart:xc("Animation","AnimationStart"),transitionend:xc("Transition","TransitionEnd")},Fi={},Pd={};u&&(Pd=document.createElement("div").style,"AnimationEvent"in window||(delete Ii.animationend.animation,delete Ii.animationiteration.animation,delete Ii.animationstart.animation),"TransitionEvent"in window||delete Ii.transitionend.transition);function wc(o){if(Fi[o])return Fi[o];if(!Ii[o])return o;var l=Ii[o],f;for(f in l)if(l.hasOwnProperty(f)&&f in Pd)return Fi[o]=l[f];return o}var Od=wc("animationend"),Ld=wc("animationiteration"),Td=wc("animationstart"),Rd=wc("transitionend"),Dd=new Map,Id="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $s(o,l){Dd.set(o,l),i(l,[o])}for(var Sl=0;Sl<Id.length;Sl++){var la=Id[Sl],Za=la.toLowerCase(),vu=la[0].toUpperCase()+la.slice(1);$s(Za,"on"+vu)}$s(Od,"onAnimationEnd"),$s(Ld,"onAnimationIteration"),$s(Td,"onAnimationStart"),$s("dblclick","onDoubleClick"),$s("focusin","onFocus"),$s("focusout","onBlur"),$s(Rd,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ho));function _c(o,l,f){var y=o.type||"unknown-event";o.currentTarget=f,Ts(y,l,void 0,o),o.currentTarget=null}function Nc(o,l){l=(l&4)!==0;for(var f=0;f<o.length;f++){var y=o[f],j=y.event;y=y.listeners;e:{var A=void 0;if(l)for(var W=y.length-1;0<=W;W--){var ve=y[W],Se=ve.instance,ze=ve.currentTarget;if(ve=ve.listener,Se!==A&&j.isPropagationStopped())break e;_c(j,ve,ze),A=Se}else for(W=0;W<y.length;W++){if(ve=y[W],Se=ve.instance,ze=ve.currentTarget,ve=ve.listener,Se!==A&&j.isPropagationStopped())break e;_c(j,ve,ze),A=Se}}}if(sn)throw o=Zs,sn=!1,Zs=null,o}function Or(o,l){var f=l[ya];f===void 0&&(f=l[ya]=new Set);var y=o+"__bubble";f.has(y)||(jc(l,o,2,!1),f.add(y))}function yu(o,l,f){var y=0;l&&(y|=4),jc(f,o,y,l)}var El="_reactListening"+Math.random().toString(36).slice(2);function Mi(o){if(!o[El]){o[El]=!0,n.forEach(function(f){f!=="selectionchange"&&(Mh.has(f)||yu(f,!1,o),yu(f,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[El]||(l[El]=!0,yu("selectionchange",!1,l))}}function jc(o,l,f,y){switch(ji(l)){case 1:var j=fc;break;case 4:j=pc;break;default:j=no}f=j.bind(null,l,f,o),j=void 0,!yn||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(j=!0),y?j!==void 0?o.addEventListener(l,f,{capture:!0,passive:j}):o.addEventListener(l,f,!0):j!==void 0?o.addEventListener(l,f,{passive:j}):o.addEventListener(l,f,!1)}function Sc(o,l,f,y,j){var A=y;if((l&1)===0&&(l&2)===0&&y!==null)e:for(;;){if(y===null)return;var W=y.tag;if(W===3||W===4){var ve=y.stateNode.containerInfo;if(ve===j||ve.nodeType===8&&ve.parentNode===j)break;if(W===4)for(W=y.return;W!==null;){var Se=W.tag;if((Se===3||Se===4)&&(Se=W.stateNode.containerInfo,Se===j||Se.nodeType===8&&Se.parentNode===j))return;W=W.return}for(;ve!==null;){if(W=Go(ve),W===null)return;if(Se=W.tag,Se===5||Se===6){y=A=W;continue e}ve=ve.parentNode}}y=y.return}yt(function(){var ze=A,st=pt(f),it=[];e:{var nt=Dd.get(o);if(nt!==void 0){var _t=yl,kt=o;switch(o){case"keypress":if(Ka(f)===0)break e;case"keydown":case"keyup":_t=zo;break;case"focusin":kt="focus",_t=Jt;break;case"focusout":kt="blur",_t=Jt;break;case"beforeblur":case"afterblur":_t=Jt;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_t=et;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_t=Dt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_t=ea;break;case Od:case Ld:case Td:_t=Gr;break;case Rd:_t=Pi;break;case"scroll":_t=U;break;case"wheel":_t=yc;break;case"copy":case"cut":case"paste":_t=Fr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_t=Bo}var Rt=(l&4)!==0,Ln=!Rt&&o==="scroll",Te=Rt?nt!==null?nt+"Capture":null:nt;Rt=[];for(var Ce=ze,Ie;Ce!==null;){Ie=Ce;var ht=Ie.stateNode;if(Ie.tag===5&&ht!==null&&(Ie=ht,Te!==null&&(ht=fr(Ce,Te),ht!=null&&Rt.push(Ec(Ce,ht,Ie)))),Ln)break;Ce=Ce.return}0<Rt.length&&(nt=new _t(nt,kt,null,f,st),it.push({event:nt,listeners:Rt}))}}if((l&7)===0){e:{if(nt=o==="mouseover"||o==="pointerover",_t=o==="mouseout"||o==="pointerout",nt&&f!==Bt&&(kt=f.relatedTarget||f.fromElement)&&(Go(kt)||kt[ta]))break e;if((_t||nt)&&(nt=st.window===st?st:(nt=st.ownerDocument)?nt.defaultView||nt.parentWindow:window,_t?(kt=f.relatedTarget||f.toElement,_t=ze,kt=kt?Go(kt):null,kt!==null&&(Ln=Wn(kt),kt!==Ln||kt.tag!==5&&kt.tag!==6)&&(kt=null)):(_t=null,kt=ze),_t!==kt)){if(Rt=et,ht="onMouseLeave",Te="onMouseEnter",Ce="mouse",(o==="pointerout"||o==="pointerover")&&(Rt=Bo,ht="onPointerLeave",Te="onPointerEnter",Ce="pointer"),Ln=_t==null?nt:Ui(_t),Ie=kt==null?nt:Ui(kt),nt=new Rt(ht,Ce+"leave",_t,f,st),nt.target=Ln,nt.relatedTarget=Ie,ht=null,Go(st)===ze&&(Rt=new Rt(Te,Ce+"enter",kt,f,st),Rt.target=Ie,Rt.relatedTarget=Ln,ht=Rt),Ln=ht,_t&&kt)t:{for(Rt=_t,Te=kt,Ce=0,Ie=Rt;Ie;Ie=zi(Ie))Ce++;for(Ie=0,ht=Te;ht;ht=zi(ht))Ie++;for(;0<Ce-Ie;)Rt=zi(Rt),Ce--;for(;0<Ie-Ce;)Te=zi(Te),Ie--;for(;Ce--;){if(Rt===Te||Te!==null&&Rt===Te.alternate)break t;Rt=zi(Rt),Te=zi(Te)}Rt=null}else Rt=null;_t!==null&&zh(it,nt,_t,Rt,!1),kt!==null&&Ln!==null&&zh(it,Ln,kt,Rt,!0)}}e:{if(nt=ze?Ui(ze):window,_t=nt.nodeName&&nt.nodeName.toLowerCase(),_t==="select"||_t==="input"&&nt.type==="file")var Ut=qs;else if(Bs(nt))if(ms)Ut=Wo;else{Ut=Vo;var qt=$o}else(_t=nt.nodeName)&&_t.toLowerCase()==="input"&&(nt.type==="checkbox"||nt.type==="radio")&&(Ut=Ri);if(Ut&&(Ut=Ut(o,ze))){oo(it,Ut,f,st);break e}qt&&qt(o,nt,ze),o==="focusout"&&(qt=nt._wrapperState)&&qt.controlled&&nt.type==="number"&&Ve(nt,"number",nt.value)}switch(qt=ze?Ui(ze):window,o){case"focusin":(Bs(qt)||qt.contentEditable==="true")&&(co=qt,mu=ze,jl=null);break;case"focusout":jl=mu=co=null;break;case"mousedown":gu=!0;break;case"contextmenu":case"mouseup":case"dragend":gu=!1,kd(it,f,st);break;case"selectionchange":if(Nl)break;case"keydown":case"keyup":kd(it,f,st)}var $t;if(ps)e:{switch(o){case"compositionstart":var Xt="onCompositionStart";break e;case"compositionend":Xt="onCompositionEnd";break e;case"compositionupdate":Xt="onCompositionUpdate";break e}Xt=void 0}else Qa?xl(o,f)&&(Xt="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(Xt="onCompositionStart");Xt&&(Ia&&f.locale!=="ko"&&(Qa||Xt!=="onCompositionStart"?Xt==="onCompositionEnd"&&Qa&&($t=mc()):(Ga=st,ao="value"in Ga?Ga.value:Ga.textContent,Qa=!0)),qt=bu(ze,Xt),0<qt.length&&(Xt=new ln(Xt,o,null,f,st),it.push({event:Xt,listeners:qt}),$t?Xt.data=$t:($t=so(f),$t!==null&&(Xt.data=$t)))),($t=pu?Fa(o,f):Ma(o,f))&&(ze=bu(ze,"onBeforeInput"),0<ze.length&&(st=new ln("onBeforeInput","beforeinput",null,f,st),it.push({event:st,listeners:ze}),st.data=$t))}Nc(it,l)})}function Ec(o,l,f){return{instance:o,listener:l,currentTarget:f}}function bu(o,l){for(var f=l+"Capture",y=[];o!==null;){var j=o,A=j.stateNode;j.tag===5&&A!==null&&(j=A,A=fr(o,f),A!=null&&y.unshift(Ec(o,A,j)),A=fr(o,l),A!=null&&y.push(Ec(o,A,j))),o=o.return}return y}function zi(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function zh(o,l,f,y,j){for(var A=l._reactName,W=[];f!==null&&f!==y;){var ve=f,Se=ve.alternate,ze=ve.stateNode;if(Se!==null&&Se===y)break;ve.tag===5&&ze!==null&&(ve=ze,j?(Se=fr(f,A),Se!=null&&W.unshift(Ec(f,Se,ve))):j||(Se=fr(f,A),Se!=null&&W.push(Ec(f,Se,ve)))),f=f.return}W.length!==0&&o.push({event:l,listeners:W})}var $p=/\r\n?/g,Vp=/\u0000|\uFFFD/g;function Bh(o){return(typeof o=="string"?o:""+o).replace($p,`
`).replace(Vp,"")}function xu(o,l,f){if(l=Bh(l),Bh(o)!==l&&f)throw Error(r(425))}function Cl(){}var Cc=null,Bi=null;function Fd(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Md=typeof setTimeout=="function"?setTimeout:void 0,Uh=typeof clearTimeout=="function"?clearTimeout:void 0,qh=typeof Promise=="function"?Promise:void 0,Wp=typeof queueMicrotask=="function"?queueMicrotask:typeof qh<"u"?function(o){return qh.resolve(null).then(o).catch(Hp)}:Md;function Hp(o){setTimeout(function(){throw o})}function zd(o,l){var f=l,y=0;do{var j=f.nextSibling;if(o.removeChild(f),j&&j.nodeType===8)if(f=j.data,f==="/$"){if(y===0){o.removeChild(j),Fs(l);return}y--}else f!=="$"&&f!=="$?"&&f!=="$!"||y++;f=j}while(f);Fs(l)}function ca(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function es(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return o;l--}else f==="/$"&&l++}o=o.previousSibling}return null}var va=Math.random().toString(36).slice(2),Vs="__reactFiber$"+va,Al="__reactProps$"+va,ta="__reactContainer$"+va,ya="__reactEvents$"+va,Gp="__reactListeners$"+va,Kp="__reactHandles$"+va;function Go(o){var l=o[Vs];if(l)return l;for(var f=o.parentNode;f;){if(l=f[ta]||f[Vs]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(o=es(o);o!==null;){if(f=o[Vs])return f;o=es(o)}return l}o=f,f=o.parentNode}return null}function kl(o){return o=o[Vs]||o[ta],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Ui(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function Ac(o){return o[Al]||null}var Bd=[],uo=-1;function vs(o){return{current:o}}function Sr(o){0>uo||(o.current=Bd[uo],Bd[uo]=null,uo--)}function kr(o,l){uo++,Bd[uo]=o.current,o.current=l}var Ko={},Gn=vs(Ko),ba=vs(!1),qi=Ko;function Pl(o,l){var f=o.type.contextTypes;if(!f)return Ko;var y=o.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===l)return y.__reactInternalMemoizedMaskedChildContext;var j={},A;for(A in f)j[A]=l[A];return y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=j),j}function xa(o){return o=o.childContextTypes,o!=null}function wu(){Sr(ba),Sr(Gn)}function $h(o,l,f){if(Gn.current!==Ko)throw Error(r(168));kr(Gn,l),kr(ba,f)}function Ud(o,l,f){var y=o.stateNode;if(l=l.childContextTypes,typeof y.getChildContext!="function")return f;y=y.getChildContext();for(var j in y)if(!(j in l))throw Error(r(108,le(o)||"Unknown",j));return Ne({},f,y)}function $i(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Ko,qi=Gn.current,kr(Gn,o),kr(ba,ba.current),!0}function Vh(o,l,f){var y=o.stateNode;if(!y)throw Error(r(169));f?(o=Ud(o,l,qi),y.__reactInternalMemoizedMergedChildContext=o,Sr(ba),Sr(Gn),kr(Gn,o)):Sr(ba),kr(ba,f)}var ho=null,kc=!1,m=!1;function b(o){ho===null?ho=[o]:ho.push(o)}function E(o){kc=!0,b(o)}function O(){if(!m&&ho!==null){m=!0;var o=0,l=pr;try{var f=ho;for(pr=1;o<f.length;o++){var y=f[o];do y=y(!0);while(y!==null)}ho=null,kc=!1}catch(j){throw ho!==null&&(ho=ho.slice(o+1)),pi(dl,O),j}finally{pr=l,m=!1}}return null}var B=[],K=0,X=null,ee=0,re=[],ie=0,je=null,Le=1,ce="";function Ee(o,l){B[K++]=ee,B[K++]=X,X=o,ee=l}function Oe(o,l,f){re[ie++]=Le,re[ie++]=ce,re[ie++]=je,je=o;var y=Le;o=ce;var j=32-Qn(y)-1;y&=~(1<<j),f+=1;var A=32-Qn(l)+j;if(30<A){var W=j-j%5;A=(y&(1<<W)-1).toString(32),y>>=W,j-=W,Le=1<<32-Qn(l)+j|f<<j|y,ce=A+o}else Le=1<<A|f<<j|y,ce=o}function $e(o){o.return!==null&&(Ee(o,1),Oe(o,1,0))}function Re(o){for(;o===X;)X=B[--K],B[K]=null,ee=B[--K],B[K]=null;for(;o===je;)je=re[--ie],re[ie]=null,ce=re[--ie],re[ie]=null,Le=re[--ie],re[ie]=null}var Ue=null,qe=null,Ke=!1,Ye=null;function It(o,l){var f=Ys(5,null,null,0);f.elementType="DELETED",f.stateNode=l,f.return=o,l=o.deletions,l===null?(o.deletions=[f],o.flags|=16):l.push(f)}function Nt(o,l){switch(o.tag){case 5:var f=o.type;return l=l.nodeType!==1||f.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,Ue=o,qe=ca(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,Ue=o,qe=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(f=je!==null?{id:Le,overflow:ce}:null,o.memoizedState={dehydrated:l,treeContext:f,retryLane:1073741824},f=Ys(18,null,null,0),f.stateNode=l,f.return=o,o.child=f,Ue=o,qe=null,!0):!1;default:return!1}}function Zt(o){return(o.mode&1)!==0&&(o.flags&128)===0}function At(o){if(Ke){var l=qe;if(l){var f=l;if(!Nt(o,l)){if(Zt(o))throw Error(r(418));l=ca(f.nextSibling);var y=Ue;l&&Nt(o,l)?It(y,f):(o.flags=o.flags&-4097|2,Ke=!1,Ue=o)}}else{if(Zt(o))throw Error(r(418));o.flags=o.flags&-4097|2,Ke=!1,Ue=o}}}function cr(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Ue=o}function Zr(o){if(o!==Ue)return!1;if(!Ke)return cr(o),Ke=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!Fd(o.type,o.memoizedProps)),l&&(l=qe)){if(Zt(o))throw er(),Error(r(418));for(;l;)It(o,l),l=ca(l.nextSibling)}if(cr(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"){if(l===0){qe=ca(o.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++}o=o.nextSibling}qe=null}}else qe=Ue?ca(o.stateNode.nextSibling):null;return!0}function er(){for(var o=qe;o;)o=ca(o.nextSibling)}function jt(){qe=Ue=null,Ke=!1}function vt(o){Ye===null?Ye=[o]:Ye.push(o)}var un=R.ReactCurrentBatchConfig;function Gt(o,l,f){if(o=f.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var y=f.stateNode}if(!y)throw Error(r(147,o));var j=y,A=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===A?l.ref:(l=function(W){var ve=j.refs;W===null?delete ve[A]:ve[A]=W},l._stringRef=A,l)}if(typeof o!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,o))}return o}function or(o,l){throw o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function Mr(o){var l=o._init;return l(o._payload)}function Bn(o){function l(Te,Ce){if(o){var Ie=Te.deletions;Ie===null?(Te.deletions=[Ce],Te.flags|=16):Ie.push(Ce)}}function f(Te,Ce){if(!o)return null;for(;Ce!==null;)l(Te,Ce),Ce=Ce.sibling;return null}function y(Te,Ce){for(Te=new Map;Ce!==null;)Ce.key!==null?Te.set(Ce.key,Ce):Te.set(Ce.index,Ce),Ce=Ce.sibling;return Te}function j(Te,Ce){return Te=Bl(Te,Ce),Te.index=0,Te.sibling=null,Te}function A(Te,Ce,Ie){return Te.index=Ie,o?(Ie=Te.alternate,Ie!==null?(Ie=Ie.index,Ie<Ce?(Te.flags|=2,Ce):Ie):(Te.flags|=2,Ce)):(Te.flags|=1048576,Ce)}function W(Te){return o&&Te.alternate===null&&(Te.flags|=2),Te}function ve(Te,Ce,Ie,ht){return Ce===null||Ce.tag!==6?(Ce=Nm(Ie,Te.mode,ht),Ce.return=Te,Ce):(Ce=j(Ce,Ie),Ce.return=Te,Ce)}function Se(Te,Ce,Ie,ht){var Ut=Ie.type;return Ut===Q?st(Te,Ce,Ie.props.children,ht,Ie.key):Ce!==null&&(Ce.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===ae&&Mr(Ut)===Ce.type)?(ht=j(Ce,Ie.props),ht.ref=Gt(Te,Ce,Ie),ht.return=Te,ht):(ht=df(Ie.type,Ie.key,Ie.props,null,Te.mode,ht),ht.ref=Gt(Te,Ce,Ie),ht.return=Te,ht)}function ze(Te,Ce,Ie,ht){return Ce===null||Ce.tag!==4||Ce.stateNode.containerInfo!==Ie.containerInfo||Ce.stateNode.implementation!==Ie.implementation?(Ce=jm(Ie,Te.mode,ht),Ce.return=Te,Ce):(Ce=j(Ce,Ie.children||[]),Ce.return=Te,Ce)}function st(Te,Ce,Ie,ht,Ut){return Ce===null||Ce.tag!==7?(Ce=Fc(Ie,Te.mode,ht,Ut),Ce.return=Te,Ce):(Ce=j(Ce,Ie),Ce.return=Te,Ce)}function it(Te,Ce,Ie){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return Ce=Nm(""+Ce,Te.mode,Ie),Ce.return=Te,Ce;if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case H:return Ie=df(Ce.type,Ce.key,Ce.props,null,Te.mode,Ie),Ie.ref=Gt(Te,null,Ce),Ie.return=Te,Ie;case J:return Ce=jm(Ce,Te.mode,Ie),Ce.return=Te,Ce;case ae:var ht=Ce._init;return it(Te,ht(Ce._payload),Ie)}if(gt(Ce)||me(Ce))return Ce=Fc(Ce,Te.mode,Ie,null),Ce.return=Te,Ce;or(Te,Ce)}return null}function nt(Te,Ce,Ie,ht){var Ut=Ce!==null?Ce.key:null;if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return Ut!==null?null:ve(Te,Ce,""+Ie,ht);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case H:return Ie.key===Ut?Se(Te,Ce,Ie,ht):null;case J:return Ie.key===Ut?ze(Te,Ce,Ie,ht):null;case ae:return Ut=Ie._init,nt(Te,Ce,Ut(Ie._payload),ht)}if(gt(Ie)||me(Ie))return Ut!==null?null:st(Te,Ce,Ie,ht,null);or(Te,Ie)}return null}function _t(Te,Ce,Ie,ht,Ut){if(typeof ht=="string"&&ht!==""||typeof ht=="number")return Te=Te.get(Ie)||null,ve(Ce,Te,""+ht,Ut);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case H:return Te=Te.get(ht.key===null?Ie:ht.key)||null,Se(Ce,Te,ht,Ut);case J:return Te=Te.get(ht.key===null?Ie:ht.key)||null,ze(Ce,Te,ht,Ut);case ae:var qt=ht._init;return _t(Te,Ce,Ie,qt(ht._payload),Ut)}if(gt(ht)||me(ht))return Te=Te.get(Ie)||null,st(Ce,Te,ht,Ut,null);or(Ce,ht)}return null}function kt(Te,Ce,Ie,ht){for(var Ut=null,qt=null,$t=Ce,Xt=Ce=0,oa=null;$t!==null&&Xt<Ie.length;Xt++){$t.index>Xt?(oa=$t,$t=null):oa=$t.sibling;var _r=nt(Te,$t,Ie[Xt],ht);if(_r===null){$t===null&&($t=oa);break}o&&$t&&_r.alternate===null&&l(Te,$t),Ce=A(_r,Ce,Xt),qt===null?Ut=_r:qt.sibling=_r,qt=_r,$t=oa}if(Xt===Ie.length)return f(Te,$t),Ke&&Ee(Te,Xt),Ut;if($t===null){for(;Xt<Ie.length;Xt++)$t=it(Te,Ie[Xt],ht),$t!==null&&(Ce=A($t,Ce,Xt),qt===null?Ut=$t:qt.sibling=$t,qt=$t);return Ke&&Ee(Te,Xt),Ut}for($t=y(Te,$t);Xt<Ie.length;Xt++)oa=_t($t,Te,Xt,Ie[Xt],ht),oa!==null&&(o&&oa.alternate!==null&&$t.delete(oa.key===null?Xt:oa.key),Ce=A(oa,Ce,Xt),qt===null?Ut=oa:qt.sibling=oa,qt=oa);return o&&$t.forEach(function(Ul){return l(Te,Ul)}),Ke&&Ee(Te,Xt),Ut}function Rt(Te,Ce,Ie,ht){var Ut=me(Ie);if(typeof Ut!="function")throw Error(r(150));if(Ie=Ut.call(Ie),Ie==null)throw Error(r(151));for(var qt=Ut=null,$t=Ce,Xt=Ce=0,oa=null,_r=Ie.next();$t!==null&&!_r.done;Xt++,_r=Ie.next()){$t.index>Xt?(oa=$t,$t=null):oa=$t.sibling;var Ul=nt(Te,$t,_r.value,ht);if(Ul===null){$t===null&&($t=oa);break}o&&$t&&Ul.alternate===null&&l(Te,$t),Ce=A(Ul,Ce,Xt),qt===null?Ut=Ul:qt.sibling=Ul,qt=Ul,$t=oa}if(_r.done)return f(Te,$t),Ke&&Ee(Te,Xt),Ut;if($t===null){for(;!_r.done;Xt++,_r=Ie.next())_r=it(Te,_r.value,ht),_r!==null&&(Ce=A(_r,Ce,Xt),qt===null?Ut=_r:qt.sibling=_r,qt=_r);return Ke&&Ee(Te,Xt),Ut}for($t=y(Te,$t);!_r.done;Xt++,_r=Ie.next())_r=_t($t,Te,Xt,_r.value,ht),_r!==null&&(o&&_r.alternate!==null&&$t.delete(_r.key===null?Xt:_r.key),Ce=A(_r,Ce,Xt),qt===null?Ut=_r:qt.sibling=_r,qt=_r);return o&&$t.forEach(function(NN){return l(Te,NN)}),Ke&&Ee(Te,Xt),Ut}function Ln(Te,Ce,Ie,ht){if(typeof Ie=="object"&&Ie!==null&&Ie.type===Q&&Ie.key===null&&(Ie=Ie.props.children),typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case H:e:{for(var Ut=Ie.key,qt=Ce;qt!==null;){if(qt.key===Ut){if(Ut=Ie.type,Ut===Q){if(qt.tag===7){f(Te,qt.sibling),Ce=j(qt,Ie.props.children),Ce.return=Te,Te=Ce;break e}}else if(qt.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===ae&&Mr(Ut)===qt.type){f(Te,qt.sibling),Ce=j(qt,Ie.props),Ce.ref=Gt(Te,qt,Ie),Ce.return=Te,Te=Ce;break e}f(Te,qt);break}else l(Te,qt);qt=qt.sibling}Ie.type===Q?(Ce=Fc(Ie.props.children,Te.mode,ht,Ie.key),Ce.return=Te,Te=Ce):(ht=df(Ie.type,Ie.key,Ie.props,null,Te.mode,ht),ht.ref=Gt(Te,Ce,Ie),ht.return=Te,Te=ht)}return W(Te);case J:e:{for(qt=Ie.key;Ce!==null;){if(Ce.key===qt)if(Ce.tag===4&&Ce.stateNode.containerInfo===Ie.containerInfo&&Ce.stateNode.implementation===Ie.implementation){f(Te,Ce.sibling),Ce=j(Ce,Ie.children||[]),Ce.return=Te,Te=Ce;break e}else{f(Te,Ce);break}else l(Te,Ce);Ce=Ce.sibling}Ce=jm(Ie,Te.mode,ht),Ce.return=Te,Te=Ce}return W(Te);case ae:return qt=Ie._init,Ln(Te,Ce,qt(Ie._payload),ht)}if(gt(Ie))return kt(Te,Ce,Ie,ht);if(me(Ie))return Rt(Te,Ce,Ie,ht);or(Te,Ie)}return typeof Ie=="string"&&Ie!==""||typeof Ie=="number"?(Ie=""+Ie,Ce!==null&&Ce.tag===6?(f(Te,Ce.sibling),Ce=j(Ce,Ie),Ce.return=Te,Te=Ce):(f(Te,Ce),Ce=Nm(Ie,Te.mode,ht),Ce.return=Te,Te=Ce),W(Te)):f(Te,Ce)}return Ln}var _n=Bn(!0),Kr=Bn(!1),Pn=vs(null),Un=null,$r=null,hr=null;function yr(){hr=$r=Un=null}function Vr(o){var l=Pn.current;Sr(Pn),o._currentValue=l}function br(o,l,f){for(;o!==null;){var y=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,y!==null&&(y.childLanes|=l)):y!==null&&(y.childLanes&l)!==l&&(y.childLanes|=l),o===f)break;o=o.return}}function en(o,l){Un=o,hr=$r=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(rs=!0),o.firstContext=null)}function tn(o){var l=o._currentValue;if(hr!==o)if(o={context:o,memoizedValue:l,next:null},$r===null){if(Un===null)throw Error(r(308));$r=o,Un.dependencies={lanes:0,firstContext:o}}else $r=$r.next=o;return l}var Lr=null;function ra(o){Lr===null?Lr=[o]:Lr.push(o)}function Pr(o,l,f,y){var j=l.interleaved;return j===null?(f.next=f,ra(l)):(f.next=j.next,j.next=f),l.interleaved=f,Tr(o,y)}function Tr(o,l){o.lanes|=l;var f=o.alternate;for(f!==null&&(f.lanes|=l),f=o,o=o.return;o!==null;)o.childLanes|=l,f=o.alternate,f!==null&&(f.childLanes|=l),f=o,o=o.return;return f.tag===3?f.stateNode:null}var Nn=!1;function Kn(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wa(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function dn(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function hn(o,l,f){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(xr&2)!==0){var j=y.pending;return j===null?l.next=l:(l.next=j.next,j.next=l),y.pending=l,Tr(o,f)}return j=y.interleaved,j===null?(l.next=l,ra(y)):(l.next=j.next,j.next=l),y.interleaved=l,Tr(o,f)}function na(o,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194240)!==0)){var y=l.lanes;y&=o.pendingLanes,f|=y,l.lanes=f,fl(o,f)}}function Rr(o,l){var f=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,f===y)){var j=null,A=null;if(f=f.firstBaseUpdate,f!==null){do{var W={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};A===null?j=A=W:A=A.next=W,f=f.next}while(f!==null);A===null?j=A=l:A=A.next=l}else j=A=l;f={baseState:y.baseState,firstBaseUpdate:j,lastBaseUpdate:A,shared:y.shared,effects:y.effects},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=l:o.next=l,f.lastBaseUpdate=l}function aa(o,l,f,y){var j=o.updateQueue;Nn=!1;var A=j.firstBaseUpdate,W=j.lastBaseUpdate,ve=j.shared.pending;if(ve!==null){j.shared.pending=null;var Se=ve,ze=Se.next;Se.next=null,W===null?A=ze:W.next=ze,W=Se;var st=o.alternate;st!==null&&(st=st.updateQueue,ve=st.lastBaseUpdate,ve!==W&&(ve===null?st.firstBaseUpdate=ze:ve.next=ze,st.lastBaseUpdate=Se))}if(A!==null){var it=j.baseState;W=0,st=ze=Se=null,ve=A;do{var nt=ve.lane,_t=ve.eventTime;if((y&nt)===nt){st!==null&&(st=st.next={eventTime:_t,lane:0,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null});e:{var kt=o,Rt=ve;switch(nt=l,_t=f,Rt.tag){case 1:if(kt=Rt.payload,typeof kt=="function"){it=kt.call(_t,it,nt);break e}it=kt;break e;case 3:kt.flags=kt.flags&-65537|128;case 0:if(kt=Rt.payload,nt=typeof kt=="function"?kt.call(_t,it,nt):kt,nt==null)break e;it=Ne({},it,nt);break e;case 2:Nn=!0}}ve.callback!==null&&ve.lane!==0&&(o.flags|=64,nt=j.effects,nt===null?j.effects=[ve]:nt.push(ve))}else _t={eventTime:_t,lane:nt,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null},st===null?(ze=st=_t,Se=it):st=st.next=_t,W|=nt;if(ve=ve.next,ve===null){if(ve=j.shared.pending,ve===null)break;nt=ve,ve=nt.next,nt.next=null,j.lastBaseUpdate=nt,j.shared.pending=null}}while(!0);if(st===null&&(Se=it),j.baseState=Se,j.firstBaseUpdate=ze,j.lastBaseUpdate=st,l=j.shared.interleaved,l!==null){j=l;do W|=j.lane,j=j.next;while(j!==l)}else A===null&&(j.shared.lanes=0);Tc|=W,o.lanes=W,o.memoizedState=it}}function ts(o,l,f){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var y=o[l],j=y.callback;if(j!==null){if(y.callback=null,y=f,typeof j!="function")throw Error(r(191,j));j.call(y)}}}var ys={},qn=vs(ys),fn=vs(ys),Yo=vs(ys);function fo(o){if(o===ys)throw Error(r(174));return o}function Ol(o,l){switch(kr(Yo,l),kr(fn,o),kr(qn,ys),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:ct(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=ct(l,o)}Sr(qn),kr(qn,l)}function Ws(){Sr(qn),Sr(fn),Sr(Yo)}function Wh(o){fo(Yo.current);var l=fo(qn.current),f=ct(l,o.type);l!==f&&(kr(fn,o),kr(qn,f))}function qd(o){fn.current===o&&(Sr(qn),Sr(fn))}var Br=vs(0);function bs(o){for(var l=o;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var $d=[];function Vd(){for(var o=0;o<$d.length;o++)$d[o]._workInProgressVersionPrimary=null;$d.length=0}var _u=R.ReactCurrentDispatcher,Nu=R.ReactCurrentBatchConfig,Hs=0,Wr=null,jn=null,pn=null,Ll=!1,po=!1,Tl=0,Yp=0;function On(){throw Error(r(321))}function ju(o,l){if(l===null)return!1;for(var f=0;f<l.length&&f<o.length;f++)if(!Xr(o[f],l[f]))return!1;return!0}function Pc(o,l,f,y,j,A){if(Hs=A,Wr=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,_u.current=o===null||o.memoizedState===null?Y_:J_,o=f(y,j),po){A=0;do{if(po=!1,Tl=0,25<=A)throw Error(r(301));A+=1,pn=jn=null,l.updateQueue=null,_u.current=X_,o=f(y,j)}while(po)}if(_u.current=Jh,l=jn!==null&&jn.next!==null,Hs=0,pn=jn=Wr=null,Ll=!1,l)throw Error(r(300));return o}function Gs(){var o=Tl!==0;return Tl=0,o}function xs(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?Wr.memoizedState=pn=o:pn=pn.next=o,pn}function za(){if(jn===null){var o=Wr.alternate;o=o!==null?o.memoizedState:null}else o=jn.next;var l=pn===null?Wr.memoizedState:pn.next;if(l!==null)pn=l,jn=o;else{if(o===null)throw Error(r(310));jn=o,o={memoizedState:jn.memoizedState,baseState:jn.baseState,baseQueue:jn.baseQueue,queue:jn.queue,next:null},pn===null?Wr.memoizedState=pn=o:pn=pn.next=o}return pn}function Oc(o,l){return typeof l=="function"?l(o):l}function Su(o){var l=za(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var y=jn,j=y.baseQueue,A=f.pending;if(A!==null){if(j!==null){var W=j.next;j.next=A.next,A.next=W}y.baseQueue=j=A,f.pending=null}if(j!==null){A=j.next,y=y.baseState;var ve=W=null,Se=null,ze=A;do{var st=ze.lane;if((Hs&st)===st)Se!==null&&(Se=Se.next={lane:0,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null}),y=ze.hasEagerState?ze.eagerState:o(y,ze.action);else{var it={lane:st,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null};Se===null?(ve=Se=it,W=y):Se=Se.next=it,Wr.lanes|=st,Tc|=st}ze=ze.next}while(ze!==null&&ze!==A);Se===null?W=y:Se.next=ve,Xr(y,l.memoizedState)||(rs=!0),l.memoizedState=y,l.baseState=W,l.baseQueue=Se,f.lastRenderedState=y}if(o=f.interleaved,o!==null){j=o;do A=j.lane,Wr.lanes|=A,Tc|=A,j=j.next;while(j!==o)}else j===null&&(f.lanes=0);return[l.memoizedState,f.dispatch]}function Jo(o){var l=za(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var y=f.dispatch,j=f.pending,A=l.memoizedState;if(j!==null){f.pending=null;var W=j=j.next;do A=o(A,W.action),W=W.next;while(W!==j);Xr(A,l.memoizedState)||(rs=!0),l.memoizedState=A,l.baseQueue===null&&(l.baseState=A),f.lastRenderedState=A}return[A,y]}function Hh(){}function Wd(o,l){var f=Wr,y=za(),j=l(),A=!Xr(y.memoizedState,j);if(A&&(y.memoizedState=j,rs=!0),y=y.queue,Au(Kh.bind(null,f,y,o),[o]),y.getSnapshot!==l||A||pn!==null&&pn.memoizedState.tag&1){if(f.flags|=2048,Ba(9,Hd.bind(null,f,y,j,l),void 0,null),sa===null)throw Error(r(349));(Hs&30)!==0||Gh(f,l,j)}return j}function Gh(o,l,f){o.flags|=16384,o={getSnapshot:l,value:f},l=Wr.updateQueue,l===null?(l={lastEffect:null,stores:null},Wr.updateQueue=l,l.stores=[o]):(f=l.stores,f===null?l.stores=[o]:f.push(o))}function Hd(o,l,f,y){l.value=f,l.getSnapshot=y,Rl(l)&&Eu(o)}function Kh(o,l,f){return f(function(){Rl(l)&&Eu(o)})}function Rl(o){var l=o.getSnapshot;o=o.value;try{var f=l();return!Xr(o,f)}catch{return!0}}function Eu(o){var l=Tr(o,1);l!==null&&bo(l,o,1,-1)}function Lc(o){var l=xs();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oc,lastRenderedState:o},l.queue=o,o=o.dispatch=K_.bind(null,Wr,o),[l.memoizedState,o]}function Ba(o,l,f,y){return o={tag:o,create:l,destroy:f,deps:y,next:null},l=Wr.updateQueue,l===null?(l={lastEffect:null,stores:null},Wr.updateQueue=l,l.lastEffect=o.next=o):(f=l.lastEffect,f===null?l.lastEffect=o.next=o:(y=f.next,f.next=o,o.next=y,l.lastEffect=o)),o}function mo(){return za().memoizedState}function ws(o,l,f,y){var j=xs();Wr.flags|=o,j.memoizedState=Ba(1|l,f,void 0,y===void 0?null:y)}function Vi(o,l,f,y){var j=za();y=y===void 0?null:y;var A=void 0;if(jn!==null){var W=jn.memoizedState;if(A=W.destroy,y!==null&&ju(y,W.deps)){j.memoizedState=Ba(l,f,A,y);return}}Wr.flags|=o,j.memoizedState=Ba(1|l,f,A,y)}function Cu(o,l){return ws(8390656,8,o,l)}function Au(o,l){return Vi(2048,8,o,l)}function Yh(o,l){return Vi(4,2,o,l)}function ku(o,l){return Vi(4,4,o,l)}function Pu(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function f0(o,l,f){return f=f!=null?f.concat([o]):null,Vi(4,4,Pu.bind(null,l,o),f)}function Jp(){}function p0(o,l){var f=za();l=l===void 0?null:l;var y=f.memoizedState;return y!==null&&l!==null&&ju(l,y[1])?y[0]:(f.memoizedState=[o,l],o)}function m0(o,l){var f=za();l=l===void 0?null:l;var y=f.memoizedState;return y!==null&&l!==null&&ju(l,y[1])?y[0]:(o=o(),f.memoizedState=[o,l],o)}function g0(o,l,f){return(Hs&21)===0?(o.baseState&&(o.baseState=!1,rs=!0),o.memoizedState=f):(Xr(f,l)||(f=lu(),Wr.lanes|=f,Tc|=f,o.baseState=!0),l)}function H_(o,l){var f=pr;pr=f!==0&&4>f?f:4,o(!0);var y=Nu.transition;Nu.transition={};try{o(!1),l()}finally{pr=f,Nu.transition=y}}function v0(){return za().memoizedState}function G_(o,l,f){var y=Ml(o);if(f={lane:y,action:f,hasEagerState:!1,eagerState:null,next:null},y0(o))b0(l,f);else if(f=Pr(o,l,f,y),f!==null){var j=qa();bo(f,o,y,j),x0(f,l,y)}}function K_(o,l,f){var y=Ml(o),j={lane:y,action:f,hasEagerState:!1,eagerState:null,next:null};if(y0(o))b0(l,j);else{var A=o.alternate;if(o.lanes===0&&(A===null||A.lanes===0)&&(A=l.lastRenderedReducer,A!==null))try{var W=l.lastRenderedState,ve=A(W,f);if(j.hasEagerState=!0,j.eagerState=ve,Xr(ve,W)){var Se=l.interleaved;Se===null?(j.next=j,ra(l)):(j.next=Se.next,Se.next=j),l.interleaved=j;return}}catch{}finally{}f=Pr(o,l,j,y),f!==null&&(j=qa(),bo(f,o,y,j),x0(f,l,y))}}function y0(o){var l=o.alternate;return o===Wr||l!==null&&l===Wr}function b0(o,l){po=Ll=!0;var f=o.pending;f===null?l.next=l:(l.next=f.next,f.next=l),o.pending=l}function x0(o,l,f){if((f&4194240)!==0){var y=l.lanes;y&=o.pendingLanes,f|=y,l.lanes=f,fl(o,f)}}var Jh={readContext:tn,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useInsertionEffect:On,useLayoutEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useMutableSource:On,useSyncExternalStore:On,useId:On,unstable_isNewReconciler:!1},Y_={readContext:tn,useCallback:function(o,l){return xs().memoizedState=[o,l===void 0?null:l],o},useContext:tn,useEffect:Cu,useImperativeHandle:function(o,l,f){return f=f!=null?f.concat([o]):null,ws(4194308,4,Pu.bind(null,l,o),f)},useLayoutEffect:function(o,l){return ws(4194308,4,o,l)},useInsertionEffect:function(o,l){return ws(4,2,o,l)},useMemo:function(o,l){var f=xs();return l=l===void 0?null:l,o=o(),f.memoizedState=[o,l],o},useReducer:function(o,l,f){var y=xs();return l=f!==void 0?f(l):l,y.memoizedState=y.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},y.queue=o,o=o.dispatch=G_.bind(null,Wr,o),[y.memoizedState,o]},useRef:function(o){var l=xs();return o={current:o},l.memoizedState=o},useState:Lc,useDebugValue:Jp,useDeferredValue:function(o){return xs().memoizedState=o},useTransition:function(){var o=Lc(!1),l=o[0];return o=H_.bind(null,o[1]),xs().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,f){var y=Wr,j=xs();if(Ke){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),sa===null)throw Error(r(349));(Hs&30)!==0||Gh(y,l,f)}j.memoizedState=f;var A={value:f,getSnapshot:l};return j.queue=A,Cu(Kh.bind(null,y,A,o),[o]),y.flags|=2048,Ba(9,Hd.bind(null,y,A,f,l),void 0,null),f},useId:function(){var o=xs(),l=sa.identifierPrefix;if(Ke){var f=ce,y=Le;f=(y&~(1<<32-Qn(y)-1)).toString(32)+f,l=":"+l+"R"+f,f=Tl++,0<f&&(l+="H"+f.toString(32)),l+=":"}else f=Yp++,l=":"+l+"r"+f.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},J_={readContext:tn,useCallback:p0,useContext:tn,useEffect:Au,useImperativeHandle:f0,useInsertionEffect:Yh,useLayoutEffect:ku,useMemo:m0,useReducer:Su,useRef:mo,useState:function(){return Su(Oc)},useDebugValue:Jp,useDeferredValue:function(o){var l=za();return g0(l,jn.memoizedState,o)},useTransition:function(){var o=Su(Oc)[0],l=za().memoizedState;return[o,l]},useMutableSource:Hh,useSyncExternalStore:Wd,useId:v0,unstable_isNewReconciler:!1},X_={readContext:tn,useCallback:p0,useContext:tn,useEffect:Au,useImperativeHandle:f0,useInsertionEffect:Yh,useLayoutEffect:ku,useMemo:m0,useReducer:Jo,useRef:mo,useState:function(){return Jo(Oc)},useDebugValue:Jp,useDeferredValue:function(o){var l=za();return jn===null?l.memoizedState=o:g0(l,jn.memoizedState,o)},useTransition:function(){var o=Jo(Oc)[0],l=za().memoizedState;return[o,l]},useMutableSource:Hh,useSyncExternalStore:Wd,useId:v0,unstable_isNewReconciler:!1};function go(o,l){if(o&&o.defaultProps){l=Ne({},l),o=o.defaultProps;for(var f in o)l[f]===void 0&&(l[f]=o[f]);return l}return l}function Xp(o,l,f,y){l=o.memoizedState,f=f(y,l),f=f==null?l:Ne({},l,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var Xh={isMounted:function(o){return(o=o._reactInternals)?Wn(o)===o:!1},enqueueSetState:function(o,l,f){o=o._reactInternals;var y=qa(),j=Ml(o),A=dn(y,j);A.payload=l,f!=null&&(A.callback=f),l=hn(o,A,j),l!==null&&(bo(l,o,j,y),na(l,o,j))},enqueueReplaceState:function(o,l,f){o=o._reactInternals;var y=qa(),j=Ml(o),A=dn(y,j);A.tag=1,A.payload=l,f!=null&&(A.callback=f),l=hn(o,A,j),l!==null&&(bo(l,o,j,y),na(l,o,j))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var f=qa(),y=Ml(o),j=dn(f,y);j.tag=2,l!=null&&(j.callback=l),l=hn(o,j,y),l!==null&&(bo(l,o,y,f),na(l,o,y))}};function w0(o,l,f,y,j,A,W){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,A,W):l.prototype&&l.prototype.isPureReactComponent?!ga(f,y)||!ga(j,A):!0}function _0(o,l,f){var y=!1,j=Ko,A=l.contextType;return typeof A=="object"&&A!==null?A=tn(A):(j=xa(l)?qi:Gn.current,y=l.contextTypes,A=(y=y!=null)?Pl(o,j):Ko),l=new l(f,A),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Xh,o.stateNode=l,l._reactInternals=o,y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=j,o.__reactInternalMemoizedMaskedChildContext=A),l}function N0(o,l,f,y){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,y),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,y),l.state!==o&&Xh.enqueueReplaceState(l,l.state,null)}function Qp(o,l,f,y){var j=o.stateNode;j.props=f,j.state=o.memoizedState,j.refs={},Kn(o);var A=l.contextType;typeof A=="object"&&A!==null?j.context=tn(A):(A=xa(l)?qi:Gn.current,j.context=Pl(o,A)),j.state=o.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(Xp(o,l,A,f),j.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(l=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),l!==j.state&&Xh.enqueueReplaceState(j,j.state,null),aa(o,f,j,y),j.state=o.memoizedState),typeof j.componentDidMount=="function"&&(o.flags|=4194308)}function Ou(o,l){try{var f="",y=l;do f+=ue(y),y=y.return;while(y);var j=f}catch(A){j=`
Error generating stack: `+A.message+`
`+A.stack}return{value:o,source:l,stack:j,digest:null}}function Zp(o,l,f){return{value:o,source:null,stack:f??null,digest:l??null}}function em(o,l){try{console.error(l.value)}catch(f){setTimeout(function(){throw f})}}var Q_=typeof WeakMap=="function"?WeakMap:Map;function j0(o,l,f){f=dn(-1,f),f.tag=3,f.payload={element:null};var y=l.value;return f.callback=function(){af||(af=!0,mm=y),em(o,l)},f}function S0(o,l,f){f=dn(-1,f),f.tag=3;var y=o.type.getDerivedStateFromError;if(typeof y=="function"){var j=l.value;f.payload=function(){return y(j)},f.callback=function(){em(o,l)}}var A=o.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(f.callback=function(){em(o,l),typeof y!="function"&&(Il===null?Il=new Set([this]):Il.add(this));var W=l.stack;this.componentDidCatch(l.value,{componentStack:W!==null?W:""})}),f}function E0(o,l,f){var y=o.pingCache;if(y===null){y=o.pingCache=new Q_;var j=new Set;y.set(l,j)}else j=y.get(l),j===void 0&&(j=new Set,y.set(l,j));j.has(f)||(j.add(f),o=hN.bind(null,o,l,f),l.then(o,o))}function C0(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function A0(o,l,f,y,j){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(l=dn(-1,1),l.tag=2,hn(f,l,1))),f.lanes|=1),o):(o.flags|=65536,o.lanes=j,o)}var Z_=R.ReactCurrentOwner,rs=!1;function Ua(o,l,f,y){l.child=o===null?Kr(l,null,f,y):_n(l,o.child,f,y)}function k0(o,l,f,y,j){f=f.render;var A=l.ref;return en(l,j),y=Pc(o,l,f,y,A,j),f=Gs(),o!==null&&!rs?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~j,Wi(o,l,j)):(Ke&&f&&$e(l),l.flags|=1,Ua(o,l,y,j),l.child)}function P0(o,l,f,y,j){if(o===null){var A=f.type;return typeof A=="function"&&!_m(A)&&A.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(l.tag=15,l.type=A,O0(o,l,A,y,j)):(o=df(f.type,null,y,l,l.mode,j),o.ref=l.ref,o.return=l,l.child=o)}if(A=o.child,(o.lanes&j)===0){var W=A.memoizedProps;if(f=f.compare,f=f!==null?f:ga,f(W,y)&&o.ref===l.ref)return Wi(o,l,j)}return l.flags|=1,o=Bl(A,y),o.ref=l.ref,o.return=l,l.child=o}function O0(o,l,f,y,j){if(o!==null){var A=o.memoizedProps;if(ga(A,y)&&o.ref===l.ref)if(rs=!1,l.pendingProps=y=A,(o.lanes&j)!==0)(o.flags&131072)!==0&&(rs=!0);else return l.lanes=o.lanes,Wi(o,l,j)}return tm(o,l,f,y,j)}function L0(o,l,f){var y=l.pendingProps,j=y.children,A=o!==null?o.memoizedState:null;if(y.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},kr(Tu,_s),_s|=f;else{if((f&1073741824)===0)return o=A!==null?A.baseLanes|f:f,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,kr(Tu,_s),_s|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=A!==null?A.baseLanes:f,kr(Tu,_s),_s|=y}else A!==null?(y=A.baseLanes|f,l.memoizedState=null):y=f,kr(Tu,_s),_s|=y;return Ua(o,l,j,f),l.child}function T0(o,l){var f=l.ref;(o===null&&f!==null||o!==null&&o.ref!==f)&&(l.flags|=512,l.flags|=2097152)}function tm(o,l,f,y,j){var A=xa(f)?qi:Gn.current;return A=Pl(l,A),en(l,j),f=Pc(o,l,f,y,A,j),y=Gs(),o!==null&&!rs?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~j,Wi(o,l,j)):(Ke&&y&&$e(l),l.flags|=1,Ua(o,l,f,j),l.child)}function R0(o,l,f,y,j){if(xa(f)){var A=!0;$i(l)}else A=!1;if(en(l,j),l.stateNode===null)Zh(o,l),_0(l,f,y),Qp(l,f,y,j),y=!0;else if(o===null){var W=l.stateNode,ve=l.memoizedProps;W.props=ve;var Se=W.context,ze=f.contextType;typeof ze=="object"&&ze!==null?ze=tn(ze):(ze=xa(f)?qi:Gn.current,ze=Pl(l,ze));var st=f.getDerivedStateFromProps,it=typeof st=="function"||typeof W.getSnapshotBeforeUpdate=="function";it||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ve!==y||Se!==ze)&&N0(l,W,y,ze),Nn=!1;var nt=l.memoizedState;W.state=nt,aa(l,y,W,j),Se=l.memoizedState,ve!==y||nt!==Se||ba.current||Nn?(typeof st=="function"&&(Xp(l,f,st,y),Se=l.memoizedState),(ve=Nn||w0(l,f,ve,y,nt,Se,ze))?(it||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(l.flags|=4194308)):(typeof W.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=y,l.memoizedState=Se),W.props=y,W.state=Se,W.context=ze,y=ve):(typeof W.componentDidMount=="function"&&(l.flags|=4194308),y=!1)}else{W=l.stateNode,wa(o,l),ve=l.memoizedProps,ze=l.type===l.elementType?ve:go(l.type,ve),W.props=ze,it=l.pendingProps,nt=W.context,Se=f.contextType,typeof Se=="object"&&Se!==null?Se=tn(Se):(Se=xa(f)?qi:Gn.current,Se=Pl(l,Se));var _t=f.getDerivedStateFromProps;(st=typeof _t=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ve!==it||nt!==Se)&&N0(l,W,y,Se),Nn=!1,nt=l.memoizedState,W.state=nt,aa(l,y,W,j);var kt=l.memoizedState;ve!==it||nt!==kt||ba.current||Nn?(typeof _t=="function"&&(Xp(l,f,_t,y),kt=l.memoizedState),(ze=Nn||w0(l,f,ze,y,nt,kt,Se)||!1)?(st||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(y,kt,Se),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(y,kt,Se)),typeof W.componentDidUpdate=="function"&&(l.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof W.componentDidUpdate!="function"||ve===o.memoizedProps&&nt===o.memoizedState||(l.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ve===o.memoizedProps&&nt===o.memoizedState||(l.flags|=1024),l.memoizedProps=y,l.memoizedState=kt),W.props=y,W.state=kt,W.context=Se,y=ze):(typeof W.componentDidUpdate!="function"||ve===o.memoizedProps&&nt===o.memoizedState||(l.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ve===o.memoizedProps&&nt===o.memoizedState||(l.flags|=1024),y=!1)}return rm(o,l,f,y,A,j)}function rm(o,l,f,y,j,A){T0(o,l);var W=(l.flags&128)!==0;if(!y&&!W)return j&&Vh(l,f,!1),Wi(o,l,A);y=l.stateNode,Z_.current=l;var ve=W&&typeof f.getDerivedStateFromError!="function"?null:y.render();return l.flags|=1,o!==null&&W?(l.child=_n(l,o.child,null,A),l.child=_n(l,null,ve,A)):Ua(o,l,ve,A),l.memoizedState=y.state,j&&Vh(l,f,!0),l.child}function D0(o){var l=o.stateNode;l.pendingContext?$h(o,l.pendingContext,l.pendingContext!==l.context):l.context&&$h(o,l.context,!1),Ol(o,l.containerInfo)}function I0(o,l,f,y,j){return jt(),vt(j),l.flags|=256,Ua(o,l,f,y),l.child}var nm={dehydrated:null,treeContext:null,retryLane:0};function am(o){return{baseLanes:o,cachePool:null,transitions:null}}function F0(o,l,f){var y=l.pendingProps,j=Br.current,A=!1,W=(l.flags&128)!==0,ve;if((ve=W)||(ve=o!==null&&o.memoizedState===null?!1:(j&2)!==0),ve?(A=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(j|=1),kr(Br,j&1),o===null)return At(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(W=y.children,o=y.fallback,A?(y=l.mode,A=l.child,W={mode:"hidden",children:W},(y&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=W):A=hf(W,y,0,null),o=Fc(o,y,f,null),A.return=l,o.return=l,A.sibling=o,l.child=A,l.child.memoizedState=am(f),l.memoizedState=nm,o):sm(l,W));if(j=o.memoizedState,j!==null&&(ve=j.dehydrated,ve!==null))return eN(o,l,W,y,ve,j,f);if(A){A=y.fallback,W=l.mode,j=o.child,ve=j.sibling;var Se={mode:"hidden",children:y.children};return(W&1)===0&&l.child!==j?(y=l.child,y.childLanes=0,y.pendingProps=Se,l.deletions=null):(y=Bl(j,Se),y.subtreeFlags=j.subtreeFlags&14680064),ve!==null?A=Bl(ve,A):(A=Fc(A,W,f,null),A.flags|=2),A.return=l,y.return=l,y.sibling=A,l.child=y,y=A,A=l.child,W=o.child.memoizedState,W=W===null?am(f):{baseLanes:W.baseLanes|f,cachePool:null,transitions:W.transitions},A.memoizedState=W,A.childLanes=o.childLanes&~f,l.memoizedState=nm,y}return A=o.child,o=A.sibling,y=Bl(A,{mode:"visible",children:y.children}),(l.mode&1)===0&&(y.lanes=f),y.return=l,y.sibling=null,o!==null&&(f=l.deletions,f===null?(l.deletions=[o],l.flags|=16):f.push(o)),l.child=y,l.memoizedState=null,y}function sm(o,l){return l=hf({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function Qh(o,l,f,y){return y!==null&&vt(y),_n(l,o.child,null,f),o=sm(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function eN(o,l,f,y,j,A,W){if(f)return l.flags&256?(l.flags&=-257,y=Zp(Error(r(422))),Qh(o,l,W,y)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(A=y.fallback,j=l.mode,y=hf({mode:"visible",children:y.children},j,0,null),A=Fc(A,j,W,null),A.flags|=2,y.return=l,A.return=l,y.sibling=A,l.child=y,(l.mode&1)!==0&&_n(l,o.child,null,W),l.child.memoizedState=am(W),l.memoizedState=nm,A);if((l.mode&1)===0)return Qh(o,l,W,null);if(j.data==="$!"){if(y=j.nextSibling&&j.nextSibling.dataset,y)var ve=y.dgst;return y=ve,A=Error(r(419)),y=Zp(A,y,void 0),Qh(o,l,W,y)}if(ve=(W&o.childLanes)!==0,rs||ve){if(y=sa,y!==null){switch(W&-W){case 4:j=2;break;case 16:j=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:j=32;break;case 536870912:j=268435456;break;default:j=0}j=(j&(y.suspendedLanes|W))!==0?0:j,j!==0&&j!==A.retryLane&&(A.retryLane=j,Tr(o,j),bo(y,o,j,-1))}return wm(),y=Zp(Error(r(421))),Qh(o,l,W,y)}return j.data==="$?"?(l.flags|=128,l.child=o.child,l=fN.bind(null,o),j._reactRetry=l,null):(o=A.treeContext,qe=ca(j.nextSibling),Ue=l,Ke=!0,Ye=null,o!==null&&(re[ie++]=Le,re[ie++]=ce,re[ie++]=je,Le=o.id,ce=o.overflow,je=l),l=sm(l,y.children),l.flags|=4096,l)}function M0(o,l,f){o.lanes|=l;var y=o.alternate;y!==null&&(y.lanes|=l),br(o.return,l,f)}function om(o,l,f,y,j){var A=o.memoizedState;A===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:y,tail:f,tailMode:j}:(A.isBackwards=l,A.rendering=null,A.renderingStartTime=0,A.last=y,A.tail=f,A.tailMode=j)}function z0(o,l,f){var y=l.pendingProps,j=y.revealOrder,A=y.tail;if(Ua(o,l,y.children,f),y=Br.current,(y&2)!==0)y=y&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&M0(o,f,l);else if(o.tag===19)M0(o,f,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}y&=1}if(kr(Br,y),(l.mode&1)===0)l.memoizedState=null;else switch(j){case"forwards":for(f=l.child,j=null;f!==null;)o=f.alternate,o!==null&&bs(o)===null&&(j=f),f=f.sibling;f=j,f===null?(j=l.child,l.child=null):(j=f.sibling,f.sibling=null),om(l,!1,j,f,A);break;case"backwards":for(f=null,j=l.child,l.child=null;j!==null;){if(o=j.alternate,o!==null&&bs(o)===null){l.child=j;break}o=j.sibling,j.sibling=f,f=j,j=o}om(l,!0,f,null,A);break;case"together":om(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Zh(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function Wi(o,l,f){if(o!==null&&(l.dependencies=o.dependencies),Tc|=l.lanes,(f&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,f=Bl(o,o.pendingProps),l.child=f,f.return=l;o.sibling!==null;)o=o.sibling,f=f.sibling=Bl(o,o.pendingProps),f.return=l;f.sibling=null}return l.child}function tN(o,l,f){switch(l.tag){case 3:D0(l),jt();break;case 5:Wh(l);break;case 1:xa(l.type)&&$i(l);break;case 4:Ol(l,l.stateNode.containerInfo);break;case 10:var y=l.type._context,j=l.memoizedProps.value;kr(Pn,y._currentValue),y._currentValue=j;break;case 13:if(y=l.memoizedState,y!==null)return y.dehydrated!==null?(kr(Br,Br.current&1),l.flags|=128,null):(f&l.child.childLanes)!==0?F0(o,l,f):(kr(Br,Br.current&1),o=Wi(o,l,f),o!==null?o.sibling:null);kr(Br,Br.current&1);break;case 19:if(y=(f&l.childLanes)!==0,(o.flags&128)!==0){if(y)return z0(o,l,f);l.flags|=128}if(j=l.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),kr(Br,Br.current),y)break;return null;case 22:case 23:return l.lanes=0,L0(o,l,f)}return Wi(o,l,f)}var B0,im,U0,q0;B0=function(o,l){for(var f=l.child;f!==null;){if(f.tag===5||f.tag===6)o.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},im=function(){},U0=function(o,l,f,y){var j=o.memoizedProps;if(j!==y){o=l.stateNode,fo(qn.current);var A=null;switch(f){case"input":j=Fe(o,j),y=Fe(o,y),A=[];break;case"select":j=Ne({},j,{value:void 0}),y=Ne({},y,{value:void 0}),A=[];break;case"textarea":j=Je(o,j),y=Je(o,y),A=[];break;default:typeof j.onClick!="function"&&typeof y.onClick=="function"&&(o.onclick=Cl)}St(f,y);var W;f=null;for(ze in j)if(!y.hasOwnProperty(ze)&&j.hasOwnProperty(ze)&&j[ze]!=null)if(ze==="style"){var ve=j[ze];for(W in ve)ve.hasOwnProperty(W)&&(f||(f={}),f[W]="")}else ze!=="dangerouslySetInnerHTML"&&ze!=="children"&&ze!=="suppressContentEditableWarning"&&ze!=="suppressHydrationWarning"&&ze!=="autoFocus"&&(a.hasOwnProperty(ze)?A||(A=[]):(A=A||[]).push(ze,null));for(ze in y){var Se=y[ze];if(ve=j?.[ze],y.hasOwnProperty(ze)&&Se!==ve&&(Se!=null||ve!=null))if(ze==="style")if(ve){for(W in ve)!ve.hasOwnProperty(W)||Se&&Se.hasOwnProperty(W)||(f||(f={}),f[W]="");for(W in Se)Se.hasOwnProperty(W)&&ve[W]!==Se[W]&&(f||(f={}),f[W]=Se[W])}else f||(A||(A=[]),A.push(ze,f)),f=Se;else ze==="dangerouslySetInnerHTML"?(Se=Se?Se.__html:void 0,ve=ve?ve.__html:void 0,Se!=null&&ve!==Se&&(A=A||[]).push(ze,Se)):ze==="children"?typeof Se!="string"&&typeof Se!="number"||(A=A||[]).push(ze,""+Se):ze!=="suppressContentEditableWarning"&&ze!=="suppressHydrationWarning"&&(a.hasOwnProperty(ze)?(Se!=null&&ze==="onScroll"&&Or("scroll",o),A||ve===Se||(A=[])):(A=A||[]).push(ze,Se))}f&&(A=A||[]).push("style",f);var ze=A;(l.updateQueue=ze)&&(l.flags|=4)}},q0=function(o,l,f,y){f!==y&&(l.flags|=4)};function Gd(o,l){if(!Ke)switch(o.tailMode){case"hidden":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function _a(o){var l=o.alternate!==null&&o.alternate.child===o.child,f=0,y=0;if(l)for(var j=o.child;j!==null;)f|=j.lanes|j.childLanes,y|=j.subtreeFlags&14680064,y|=j.flags&14680064,j.return=o,j=j.sibling;else for(j=o.child;j!==null;)f|=j.lanes|j.childLanes,y|=j.subtreeFlags,y|=j.flags,j.return=o,j=j.sibling;return o.subtreeFlags|=y,o.childLanes=f,l}function rN(o,l,f){var y=l.pendingProps;switch(Re(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _a(l),null;case 1:return xa(l.type)&&wu(),_a(l),null;case 3:return y=l.stateNode,Ws(),Sr(ba),Sr(Gn),Vd(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(o===null||o.child===null)&&(Zr(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Ye!==null&&(ym(Ye),Ye=null))),im(o,l),_a(l),null;case 5:qd(l);var j=fo(Yo.current);if(f=l.type,o!==null&&l.stateNode!=null)U0(o,l,f,y,j),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!y){if(l.stateNode===null)throw Error(r(166));return _a(l),null}if(o=fo(qn.current),Zr(l)){y=l.stateNode,f=l.type;var A=l.memoizedProps;switch(y[Vs]=l,y[Al]=A,o=(l.mode&1)!==0,f){case"dialog":Or("cancel",y),Or("close",y);break;case"iframe":case"object":case"embed":Or("load",y);break;case"video":case"audio":for(j=0;j<Ho.length;j++)Or(Ho[j],y);break;case"source":Or("error",y);break;case"img":case"image":case"link":Or("error",y),Or("load",y);break;case"details":Or("toggle",y);break;case"input":de(y,A),Or("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!A.multiple},Or("invalid",y);break;case"textarea":V(y,A),Or("invalid",y)}St(f,A),j=null;for(var W in A)if(A.hasOwnProperty(W)){var ve=A[W];W==="children"?typeof ve=="string"?y.textContent!==ve&&(A.suppressHydrationWarning!==!0&&xu(y.textContent,ve,o),j=["children",ve]):typeof ve=="number"&&y.textContent!==""+ve&&(A.suppressHydrationWarning!==!0&&xu(y.textContent,ve,o),j=["children",""+ve]):a.hasOwnProperty(W)&&ve!=null&&W==="onScroll"&&Or("scroll",y)}switch(f){case"input":De(y),bt(y,A,!0);break;case"textarea":De(y),oe(y);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(y.onclick=Cl)}y=j,l.updateQueue=y,y!==null&&(l.flags|=4)}else{W=j.nodeType===9?j:j.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Be(f)),o==="http://www.w3.org/1999/xhtml"?f==="script"?(o=W.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof y.is=="string"?o=W.createElement(f,{is:y.is}):(o=W.createElement(f),f==="select"&&(W=o,y.multiple?W.multiple=!0:y.size&&(W.size=y.size))):o=W.createElementNS(o,f),o[Vs]=l,o[Al]=y,B0(o,l,!1,!1),l.stateNode=o;e:{switch(W=Ze(f,y),f){case"dialog":Or("cancel",o),Or("close",o),j=y;break;case"iframe":case"object":case"embed":Or("load",o),j=y;break;case"video":case"audio":for(j=0;j<Ho.length;j++)Or(Ho[j],o);j=y;break;case"source":Or("error",o),j=y;break;case"img":case"image":case"link":Or("error",o),Or("load",o),j=y;break;case"details":Or("toggle",o),j=y;break;case"input":de(o,y),j=Fe(o,y),Or("invalid",o);break;case"option":j=y;break;case"select":o._wrapperState={wasMultiple:!!y.multiple},j=Ne({},y,{value:void 0}),Or("invalid",o);break;case"textarea":V(o,y),j=Je(o,y),Or("invalid",o);break;default:j=y}St(f,j),ve=j;for(A in ve)if(ve.hasOwnProperty(A)){var Se=ve[A];A==="style"?lt(o,Se):A==="dangerouslySetInnerHTML"?(Se=Se?Se.__html:void 0,Se!=null&&rt(o,Se)):A==="children"?typeof Se=="string"?(f!=="textarea"||Se!=="")&&Xe(o,Se):typeof Se=="number"&&Xe(o,""+Se):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(a.hasOwnProperty(A)?Se!=null&&A==="onScroll"&&Or("scroll",o):Se!=null&&T(o,A,Se,W))}switch(f){case"input":De(o),bt(o,y,!1);break;case"textarea":De(o),oe(o);break;case"option":y.value!=null&&o.setAttribute("value",""+xe(y.value));break;case"select":o.multiple=!!y.multiple,A=y.value,A!=null?we(o,!!y.multiple,A,!1):y.defaultValue!=null&&we(o,!!y.multiple,y.defaultValue,!0);break;default:typeof j.onClick=="function"&&(o.onclick=Cl)}switch(f){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return _a(l),null;case 6:if(o&&l.stateNode!=null)q0(o,l,o.memoizedProps,y);else{if(typeof y!="string"&&l.stateNode===null)throw Error(r(166));if(f=fo(Yo.current),fo(qn.current),Zr(l)){if(y=l.stateNode,f=l.memoizedProps,y[Vs]=l,(A=y.nodeValue!==f)&&(o=Ue,o!==null))switch(o.tag){case 3:xu(y.nodeValue,f,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&xu(y.nodeValue,f,(o.mode&1)!==0)}A&&(l.flags|=4)}else y=(f.nodeType===9?f:f.ownerDocument).createTextNode(y),y[Vs]=l,l.stateNode=y}return _a(l),null;case 13:if(Sr(Br),y=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Ke&&qe!==null&&(l.mode&1)!==0&&(l.flags&128)===0)er(),jt(),l.flags|=98560,A=!1;else if(A=Zr(l),y!==null&&y.dehydrated!==null){if(o===null){if(!A)throw Error(r(318));if(A=l.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[Vs]=l}else jt(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;_a(l),A=!1}else Ye!==null&&(ym(Ye),Ye=null),A=!0;if(!A)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=f,l):(y=y!==null,y!==(o!==null&&o.memoizedState!==null)&&y&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(Br.current&1)!==0?Yn===0&&(Yn=3):wm())),l.updateQueue!==null&&(l.flags|=4),_a(l),null);case 4:return Ws(),im(o,l),o===null&&Mi(l.stateNode.containerInfo),_a(l),null;case 10:return Vr(l.type._context),_a(l),null;case 17:return xa(l.type)&&wu(),_a(l),null;case 19:if(Sr(Br),A=l.memoizedState,A===null)return _a(l),null;if(y=(l.flags&128)!==0,W=A.rendering,W===null)if(y)Gd(A,!1);else{if(Yn!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(W=bs(o),W!==null){for(l.flags|=128,Gd(A,!1),y=W.updateQueue,y!==null&&(l.updateQueue=y,l.flags|=4),l.subtreeFlags=0,y=f,f=l.child;f!==null;)A=f,o=y,A.flags&=14680066,W=A.alternate,W===null?(A.childLanes=0,A.lanes=o,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=W.childLanes,A.lanes=W.lanes,A.child=W.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=W.memoizedProps,A.memoizedState=W.memoizedState,A.updateQueue=W.updateQueue,A.type=W.type,o=W.dependencies,A.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),f=f.sibling;return kr(Br,Br.current&1|2),l.child}o=o.sibling}A.tail!==null&&zr()>Ru&&(l.flags|=128,y=!0,Gd(A,!1),l.lanes=4194304)}else{if(!y)if(o=bs(W),o!==null){if(l.flags|=128,y=!0,f=o.updateQueue,f!==null&&(l.updateQueue=f,l.flags|=4),Gd(A,!0),A.tail===null&&A.tailMode==="hidden"&&!W.alternate&&!Ke)return _a(l),null}else 2*zr()-A.renderingStartTime>Ru&&f!==1073741824&&(l.flags|=128,y=!0,Gd(A,!1),l.lanes=4194304);A.isBackwards?(W.sibling=l.child,l.child=W):(f=A.last,f!==null?f.sibling=W:l.child=W,A.last=W)}return A.tail!==null?(l=A.tail,A.rendering=l,A.tail=l.sibling,A.renderingStartTime=zr(),l.sibling=null,f=Br.current,kr(Br,y?f&1|2:f&1),l):(_a(l),null);case 22:case 23:return xm(),y=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==y&&(l.flags|=8192),y&&(l.mode&1)!==0?(_s&1073741824)!==0&&(_a(l),l.subtreeFlags&6&&(l.flags|=8192)):_a(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function nN(o,l){switch(Re(l),l.tag){case 1:return xa(l.type)&&wu(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Ws(),Sr(ba),Sr(Gn),Vd(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return qd(l),null;case 13:if(Sr(Br),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));jt()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return Sr(Br),null;case 4:return Ws(),null;case 10:return Vr(l.type._context),null;case 22:case 23:return xm(),null;case 24:return null;default:return null}}var ef=!1,Na=!1,aN=typeof WeakSet=="function"?WeakSet:Set,Et=null;function Lu(o,l){var f=o.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(y){Sn(o,l,y)}else f.current=null}function lm(o,l,f){try{f()}catch(y){Sn(o,l,y)}}var $0=!1;function sN(o,l){if(Cc=vl,o=wn(),gs(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var y=f.getSelection&&f.getSelection();if(y&&y.rangeCount!==0){f=y.anchorNode;var j=y.anchorOffset,A=y.focusNode;y=y.focusOffset;try{f.nodeType,A.nodeType}catch{f=null;break e}var W=0,ve=-1,Se=-1,ze=0,st=0,it=o,nt=null;t:for(;;){for(var _t;it!==f||j!==0&&it.nodeType!==3||(ve=W+j),it!==A||y!==0&&it.nodeType!==3||(Se=W+y),it.nodeType===3&&(W+=it.nodeValue.length),(_t=it.firstChild)!==null;)nt=it,it=_t;for(;;){if(it===o)break t;if(nt===f&&++ze===j&&(ve=W),nt===A&&++st===y&&(Se=W),(_t=it.nextSibling)!==null)break;it=nt,nt=it.parentNode}it=_t}f=ve===-1||Se===-1?null:{start:ve,end:Se}}else f=null}f=f||{start:0,end:0}}else f=null;for(Bi={focusedElem:o,selectionRange:f},vl=!1,Et=l;Et!==null;)if(l=Et,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Et=o;else for(;Et!==null;){l=Et;try{var kt=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(kt!==null){var Rt=kt.memoizedProps,Ln=kt.memoizedState,Te=l.stateNode,Ce=Te.getSnapshotBeforeUpdate(l.elementType===l.type?Rt:go(l.type,Rt),Ln);Te.__reactInternalSnapshotBeforeUpdate=Ce}break;case 3:var Ie=l.stateNode.containerInfo;Ie.nodeType===1?Ie.textContent="":Ie.nodeType===9&&Ie.documentElement&&Ie.removeChild(Ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ht){Sn(l,l.return,ht)}if(o=l.sibling,o!==null){o.return=l.return,Et=o;break}Et=l.return}return kt=$0,$0=!1,kt}function Kd(o,l,f){var y=l.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var j=y=y.next;do{if((j.tag&o)===o){var A=j.destroy;j.destroy=void 0,A!==void 0&&lm(l,f,A)}j=j.next}while(j!==y)}}function tf(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&o)===o){var y=f.create;f.destroy=y()}f=f.next}while(f!==l)}}function cm(o){var l=o.ref;if(l!==null){var f=o.stateNode;switch(o.tag){case 5:o=f;break;default:o=f}typeof l=="function"?l(o):l.current=o}}function V0(o){var l=o.alternate;l!==null&&(o.alternate=null,V0(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[Vs],delete l[Al],delete l[ya],delete l[Gp],delete l[Kp])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function W0(o){return o.tag===5||o.tag===3||o.tag===4}function H0(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||W0(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function um(o,l,f){var y=o.tag;if(y===5||y===6)o=o.stateNode,l?f.nodeType===8?f.parentNode.insertBefore(o,l):f.insertBefore(o,l):(f.nodeType===8?(l=f.parentNode,l.insertBefore(o,f)):(l=f,l.appendChild(o)),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=Cl));else if(y!==4&&(o=o.child,o!==null))for(um(o,l,f),o=o.sibling;o!==null;)um(o,l,f),o=o.sibling}function dm(o,l,f){var y=o.tag;if(y===5||y===6)o=o.stateNode,l?f.insertBefore(o,l):f.appendChild(o);else if(y!==4&&(o=o.child,o!==null))for(dm(o,l,f),o=o.sibling;o!==null;)dm(o,l,f),o=o.sibling}var ua=null,vo=!1;function Dl(o,l,f){for(f=f.child;f!==null;)G0(o,l,f),f=f.sibling}function G0(o,l,f){if(Ra&&typeof Ra.onCommitFiberUnmount=="function")try{Ra.onCommitFiberUnmount(gi,f)}catch{}switch(f.tag){case 5:Na||Lu(f,l);case 6:var y=ua,j=vo;ua=null,Dl(o,l,f),ua=y,vo=j,ua!==null&&(vo?(o=ua,f=f.stateNode,o.nodeType===8?o.parentNode.removeChild(f):o.removeChild(f)):ua.removeChild(f.stateNode));break;case 18:ua!==null&&(vo?(o=ua,f=f.stateNode,o.nodeType===8?zd(o.parentNode,f):o.nodeType===1&&zd(o,f),Fs(o)):zd(ua,f.stateNode));break;case 4:y=ua,j=vo,ua=f.stateNode.containerInfo,vo=!0,Dl(o,l,f),ua=y,vo=j;break;case 0:case 11:case 14:case 15:if(!Na&&(y=f.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){j=y=y.next;do{var A=j,W=A.destroy;A=A.tag,W!==void 0&&((A&2)!==0||(A&4)!==0)&&lm(f,l,W),j=j.next}while(j!==y)}Dl(o,l,f);break;case 1:if(!Na&&(Lu(f,l),y=f.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=f.memoizedProps,y.state=f.memoizedState,y.componentWillUnmount()}catch(ve){Sn(f,l,ve)}Dl(o,l,f);break;case 21:Dl(o,l,f);break;case 22:f.mode&1?(Na=(y=Na)||f.memoizedState!==null,Dl(o,l,f),Na=y):Dl(o,l,f);break;default:Dl(o,l,f)}}function K0(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var f=o.stateNode;f===null&&(f=o.stateNode=new aN),l.forEach(function(y){var j=pN.bind(null,o,y);f.has(y)||(f.add(y),y.then(j,j))})}}function yo(o,l){var f=l.deletions;if(f!==null)for(var y=0;y<f.length;y++){var j=f[y];try{var A=o,W=l,ve=W;e:for(;ve!==null;){switch(ve.tag){case 5:ua=ve.stateNode,vo=!1;break e;case 3:ua=ve.stateNode.containerInfo,vo=!0;break e;case 4:ua=ve.stateNode.containerInfo,vo=!0;break e}ve=ve.return}if(ua===null)throw Error(r(160));G0(A,W,j),ua=null,vo=!1;var Se=j.alternate;Se!==null&&(Se.return=null),j.return=null}catch(ze){Sn(j,l,ze)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Y0(l,o),l=l.sibling}function Y0(o,l){var f=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(yo(l,o),Xo(o),y&4){try{Kd(3,o,o.return),tf(3,o)}catch(Rt){Sn(o,o.return,Rt)}try{Kd(5,o,o.return)}catch(Rt){Sn(o,o.return,Rt)}}break;case 1:yo(l,o),Xo(o),y&512&&f!==null&&Lu(f,f.return);break;case 5:if(yo(l,o),Xo(o),y&512&&f!==null&&Lu(f,f.return),o.flags&32){var j=o.stateNode;try{Xe(j,"")}catch(Rt){Sn(o,o.return,Rt)}}if(y&4&&(j=o.stateNode,j!=null)){var A=o.memoizedProps,W=f!==null?f.memoizedProps:A,ve=o.type,Se=o.updateQueue;if(o.updateQueue=null,Se!==null)try{ve==="input"&&A.type==="radio"&&A.name!=null&&zt(j,A),Ze(ve,W);var ze=Ze(ve,A);for(W=0;W<Se.length;W+=2){var st=Se[W],it=Se[W+1];st==="style"?lt(j,it):st==="dangerouslySetInnerHTML"?rt(j,it):st==="children"?Xe(j,it):T(j,st,it,ze)}switch(ve){case"input":wt(j,A);break;case"textarea":be(j,A);break;case"select":var nt=j._wrapperState.wasMultiple;j._wrapperState.wasMultiple=!!A.multiple;var _t=A.value;_t!=null?we(j,!!A.multiple,_t,!1):nt!==!!A.multiple&&(A.defaultValue!=null?we(j,!!A.multiple,A.defaultValue,!0):we(j,!!A.multiple,A.multiple?[]:"",!1))}j[Al]=A}catch(Rt){Sn(o,o.return,Rt)}}break;case 6:if(yo(l,o),Xo(o),y&4){if(o.stateNode===null)throw Error(r(162));j=o.stateNode,A=o.memoizedProps;try{j.nodeValue=A}catch(Rt){Sn(o,o.return,Rt)}}break;case 3:if(yo(l,o),Xo(o),y&4&&f!==null&&f.memoizedState.isDehydrated)try{Fs(l.containerInfo)}catch(Rt){Sn(o,o.return,Rt)}break;case 4:yo(l,o),Xo(o);break;case 13:yo(l,o),Xo(o),j=o.child,j.flags&8192&&(A=j.memoizedState!==null,j.stateNode.isHidden=A,!A||j.alternate!==null&&j.alternate.memoizedState!==null||(pm=zr())),y&4&&K0(o);break;case 22:if(st=f!==null&&f.memoizedState!==null,o.mode&1?(Na=(ze=Na)||st,yo(l,o),Na=ze):yo(l,o),Xo(o),y&8192){if(ze=o.memoizedState!==null,(o.stateNode.isHidden=ze)&&!st&&(o.mode&1)!==0)for(Et=o,st=o.child;st!==null;){for(it=Et=st;Et!==null;){switch(nt=Et,_t=nt.child,nt.tag){case 0:case 11:case 14:case 15:Kd(4,nt,nt.return);break;case 1:Lu(nt,nt.return);var kt=nt.stateNode;if(typeof kt.componentWillUnmount=="function"){y=nt,f=nt.return;try{l=y,kt.props=l.memoizedProps,kt.state=l.memoizedState,kt.componentWillUnmount()}catch(Rt){Sn(y,f,Rt)}}break;case 5:Lu(nt,nt.return);break;case 22:if(nt.memoizedState!==null){Q0(it);continue}}_t!==null?(_t.return=nt,Et=_t):Q0(it)}st=st.sibling}e:for(st=null,it=o;;){if(it.tag===5){if(st===null){st=it;try{j=it.stateNode,ze?(A=j.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(ve=it.stateNode,Se=it.memoizedProps.style,W=Se!=null&&Se.hasOwnProperty("display")?Se.display:null,ve.style.display=xt("display",W))}catch(Rt){Sn(o,o.return,Rt)}}}else if(it.tag===6){if(st===null)try{it.stateNode.nodeValue=ze?"":it.memoizedProps}catch(Rt){Sn(o,o.return,Rt)}}else if((it.tag!==22&&it.tag!==23||it.memoizedState===null||it===o)&&it.child!==null){it.child.return=it,it=it.child;continue}if(it===o)break e;for(;it.sibling===null;){if(it.return===null||it.return===o)break e;st===it&&(st=null),it=it.return}st===it&&(st=null),it.sibling.return=it.return,it=it.sibling}}break;case 19:yo(l,o),Xo(o),y&4&&K0(o);break;case 21:break;default:yo(l,o),Xo(o)}}function Xo(o){var l=o.flags;if(l&2){try{e:{for(var f=o.return;f!==null;){if(W0(f)){var y=f;break e}f=f.return}throw Error(r(160))}switch(y.tag){case 5:var j=y.stateNode;y.flags&32&&(Xe(j,""),y.flags&=-33);var A=H0(o);dm(o,A,j);break;case 3:case 4:var W=y.stateNode.containerInfo,ve=H0(o);um(o,ve,W);break;default:throw Error(r(161))}}catch(Se){Sn(o,o.return,Se)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function oN(o,l,f){Et=o,J0(o)}function J0(o,l,f){for(var y=(o.mode&1)!==0;Et!==null;){var j=Et,A=j.child;if(j.tag===22&&y){var W=j.memoizedState!==null||ef;if(!W){var ve=j.alternate,Se=ve!==null&&ve.memoizedState!==null||Na;ve=ef;var ze=Na;if(ef=W,(Na=Se)&&!ze)for(Et=j;Et!==null;)W=Et,Se=W.child,W.tag===22&&W.memoizedState!==null?Z0(j):Se!==null?(Se.return=W,Et=Se):Z0(j);for(;A!==null;)Et=A,J0(A),A=A.sibling;Et=j,ef=ve,Na=ze}X0(o)}else(j.subtreeFlags&8772)!==0&&A!==null?(A.return=j,Et=A):X0(o)}}function X0(o){for(;Et!==null;){var l=Et;if((l.flags&8772)!==0){var f=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Na||tf(5,l);break;case 1:var y=l.stateNode;if(l.flags&4&&!Na)if(f===null)y.componentDidMount();else{var j=l.elementType===l.type?f.memoizedProps:go(l.type,f.memoizedProps);y.componentDidUpdate(j,f.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var A=l.updateQueue;A!==null&&ts(l,A,y);break;case 3:var W=l.updateQueue;if(W!==null){if(f=null,l.child!==null)switch(l.child.tag){case 5:f=l.child.stateNode;break;case 1:f=l.child.stateNode}ts(l,W,f)}break;case 5:var ve=l.stateNode;if(f===null&&l.flags&4){f=ve;var Se=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":Se.autoFocus&&f.focus();break;case"img":Se.src&&(f.src=Se.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var ze=l.alternate;if(ze!==null){var st=ze.memoizedState;if(st!==null){var it=st.dehydrated;it!==null&&Fs(it)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Na||l.flags&512&&cm(l)}catch(nt){Sn(l,l.return,nt)}}if(l===o){Et=null;break}if(f=l.sibling,f!==null){f.return=l.return,Et=f;break}Et=l.return}}function Q0(o){for(;Et!==null;){var l=Et;if(l===o){Et=null;break}var f=l.sibling;if(f!==null){f.return=l.return,Et=f;break}Et=l.return}}function Z0(o){for(;Et!==null;){var l=Et;try{switch(l.tag){case 0:case 11:case 15:var f=l.return;try{tf(4,l)}catch(Se){Sn(l,f,Se)}break;case 1:var y=l.stateNode;if(typeof y.componentDidMount=="function"){var j=l.return;try{y.componentDidMount()}catch(Se){Sn(l,j,Se)}}var A=l.return;try{cm(l)}catch(Se){Sn(l,A,Se)}break;case 5:var W=l.return;try{cm(l)}catch(Se){Sn(l,W,Se)}}}catch(Se){Sn(l,l.return,Se)}if(l===o){Et=null;break}var ve=l.sibling;if(ve!==null){ve.return=l.return,Et=ve;break}Et=l.return}}var iN=Math.ceil,rf=R.ReactCurrentDispatcher,hm=R.ReactCurrentOwner,Ks=R.ReactCurrentBatchConfig,xr=0,sa=null,$n=null,da=0,_s=0,Tu=vs(0),Yn=0,Yd=null,Tc=0,nf=0,fm=0,Jd=null,ns=null,pm=0,Ru=1/0,Hi=null,af=!1,mm=null,Il=null,sf=!1,Fl=null,of=0,Xd=0,gm=null,lf=-1,cf=0;function qa(){return(xr&6)!==0?zr():lf!==-1?lf:lf=zr()}function Ml(o){return(o.mode&1)===0?1:(xr&2)!==0&&da!==0?da&-da:un.transition!==null?(cf===0&&(cf=lu()),cf):(o=pr,o!==0||(o=window.event,o=o===void 0?16:ji(o.type)),o)}function bo(o,l,f,y){if(50<Xd)throw Xd=0,gm=null,Error(r(185));xi(o,f,y),((xr&2)===0||o!==sa)&&(o===sa&&((xr&2)===0&&(nf|=f),Yn===4&&zl(o,da)),as(o,y),f===1&&xr===0&&(l.mode&1)===0&&(Ru=zr()+500,kc&&O()))}function as(o,l){var f=o.callbackNode;on(o,l);var y=fa(o,o===sa?da:0);if(y===0)f!==null&&mi(f),o.callbackNode=null,o.callbackPriority=0;else if(l=y&-y,o.callbackPriority!==l){if(f!=null&&mi(f),l===1)o.tag===0?E(t1.bind(null,o)):b(t1.bind(null,o)),Wp(function(){(xr&6)===0&&O()}),f=null;else{switch(eo(y)){case 1:f=dl;break;case 4:f=Ta;break;case 16:f=Fo;break;case 536870912:f=hl;break;default:f=Fo}f=c1(f,e1.bind(null,o))}o.callbackPriority=l,o.callbackNode=f}}function e1(o,l){if(lf=-1,cf=0,(xr&6)!==0)throw Error(r(327));var f=o.callbackNode;if(Du()&&o.callbackNode!==f)return null;var y=fa(o,o===sa?da:0);if(y===0)return null;if((y&30)!==0||(y&o.expiredLanes)!==0||l)l=uf(o,y);else{l=y;var j=xr;xr|=2;var A=n1();(sa!==o||da!==l)&&(Hi=null,Ru=zr()+500,Dc(o,l));do try{uN();break}catch(ve){r1(o,ve)}while(!0);yr(),rf.current=A,xr=j,$n!==null?l=0:(sa=null,da=0,l=Yn)}if(l!==0){if(l===2&&(j=bi(o),j!==0&&(y=j,l=vm(o,j))),l===1)throw f=Yd,Dc(o,0),zl(o,y),as(o,zr()),f;if(l===6)zl(o,y);else{if(j=o.current.alternate,(y&30)===0&&!lN(j)&&(l=uf(o,y),l===2&&(A=bi(o),A!==0&&(y=A,l=vm(o,A))),l===1))throw f=Yd,Dc(o,0),zl(o,y),as(o,zr()),f;switch(o.finishedWork=j,o.finishedLanes=y,l){case 0:case 1:throw Error(r(345));case 2:Ic(o,ns,Hi);break;case 3:if(zl(o,y),(y&130023424)===y&&(l=pm+500-zr(),10<l)){if(fa(o,0)!==0)break;if(j=o.suspendedLanes,(j&y)!==y){qa(),o.pingedLanes|=o.suspendedLanes&j;break}o.timeoutHandle=Md(Ic.bind(null,o,ns,Hi),l);break}Ic(o,ns,Hi);break;case 4:if(zl(o,y),(y&4194240)===y)break;for(l=o.eventTimes,j=-1;0<y;){var W=31-Qn(y);A=1<<W,W=l[W],W>j&&(j=W),y&=~A}if(y=j,y=zr()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*iN(y/1960))-y,10<y){o.timeoutHandle=Md(Ic.bind(null,o,ns,Hi),y);break}Ic(o,ns,Hi);break;case 5:Ic(o,ns,Hi);break;default:throw Error(r(329))}}}return as(o,zr()),o.callbackNode===f?e1.bind(null,o):null}function vm(o,l){var f=Jd;return o.current.memoizedState.isDehydrated&&(Dc(o,l).flags|=256),o=uf(o,l),o!==2&&(l=ns,ns=f,l!==null&&ym(l)),o}function ym(o){ns===null?ns=o:ns.push.apply(ns,o)}function lN(o){for(var l=o;;){if(l.flags&16384){var f=l.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var y=0;y<f.length;y++){var j=f[y],A=j.getSnapshot;j=j.value;try{if(!Xr(A(),j))return!1}catch{return!1}}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function zl(o,l){for(l&=~fm,l&=~nf,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var f=31-Qn(l),y=1<<f;o[f]=-1,l&=~y}}function t1(o){if((xr&6)!==0)throw Error(r(327));Du();var l=fa(o,0);if((l&1)===0)return as(o,zr()),null;var f=uf(o,l);if(o.tag!==0&&f===2){var y=bi(o);y!==0&&(l=y,f=vm(o,y))}if(f===1)throw f=Yd,Dc(o,0),zl(o,l),as(o,zr()),f;if(f===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,Ic(o,ns,Hi),as(o,zr()),null}function bm(o,l){var f=xr;xr|=1;try{return o(l)}finally{xr=f,xr===0&&(Ru=zr()+500,kc&&O())}}function Rc(o){Fl!==null&&Fl.tag===0&&(xr&6)===0&&Du();var l=xr;xr|=1;var f=Ks.transition,y=pr;try{if(Ks.transition=null,pr=1,o)return o()}finally{pr=y,Ks.transition=f,xr=l,(xr&6)===0&&O()}}function xm(){_s=Tu.current,Sr(Tu)}function Dc(o,l){o.finishedWork=null,o.finishedLanes=0;var f=o.timeoutHandle;if(f!==-1&&(o.timeoutHandle=-1,Uh(f)),$n!==null)for(f=$n.return;f!==null;){var y=f;switch(Re(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&wu();break;case 3:Ws(),Sr(ba),Sr(Gn),Vd();break;case 5:qd(y);break;case 4:Ws();break;case 13:Sr(Br);break;case 19:Sr(Br);break;case 10:Vr(y.type._context);break;case 22:case 23:xm()}f=f.return}if(sa=o,$n=o=Bl(o.current,null),da=_s=l,Yn=0,Yd=null,fm=nf=Tc=0,ns=Jd=null,Lr!==null){for(l=0;l<Lr.length;l++)if(f=Lr[l],y=f.interleaved,y!==null){f.interleaved=null;var j=y.next,A=f.pending;if(A!==null){var W=A.next;A.next=j,y.next=W}f.pending=y}Lr=null}return o}function r1(o,l){do{var f=$n;try{if(yr(),_u.current=Jh,Ll){for(var y=Wr.memoizedState;y!==null;){var j=y.queue;j!==null&&(j.pending=null),y=y.next}Ll=!1}if(Hs=0,pn=jn=Wr=null,po=!1,Tl=0,hm.current=null,f===null||f.return===null){Yn=1,Yd=l,$n=null;break}e:{var A=o,W=f.return,ve=f,Se=l;if(l=da,ve.flags|=32768,Se!==null&&typeof Se=="object"&&typeof Se.then=="function"){var ze=Se,st=ve,it=st.tag;if((st.mode&1)===0&&(it===0||it===11||it===15)){var nt=st.alternate;nt?(st.updateQueue=nt.updateQueue,st.memoizedState=nt.memoizedState,st.lanes=nt.lanes):(st.updateQueue=null,st.memoizedState=null)}var _t=C0(W);if(_t!==null){_t.flags&=-257,A0(_t,W,ve,A,l),_t.mode&1&&E0(A,ze,l),l=_t,Se=ze;var kt=l.updateQueue;if(kt===null){var Rt=new Set;Rt.add(Se),l.updateQueue=Rt}else kt.add(Se);break e}else{if((l&1)===0){E0(A,ze,l),wm();break e}Se=Error(r(426))}}else if(Ke&&ve.mode&1){var Ln=C0(W);if(Ln!==null){(Ln.flags&65536)===0&&(Ln.flags|=256),A0(Ln,W,ve,A,l),vt(Ou(Se,ve));break e}}A=Se=Ou(Se,ve),Yn!==4&&(Yn=2),Jd===null?Jd=[A]:Jd.push(A),A=W;do{switch(A.tag){case 3:A.flags|=65536,l&=-l,A.lanes|=l;var Te=j0(A,Se,l);Rr(A,Te);break e;case 1:ve=Se;var Ce=A.type,Ie=A.stateNode;if((A.flags&128)===0&&(typeof Ce.getDerivedStateFromError=="function"||Ie!==null&&typeof Ie.componentDidCatch=="function"&&(Il===null||!Il.has(Ie)))){A.flags|=65536,l&=-l,A.lanes|=l;var ht=S0(A,ve,l);Rr(A,ht);break e}}A=A.return}while(A!==null)}s1(f)}catch(Ut){l=Ut,$n===f&&f!==null&&($n=f=f.return);continue}break}while(!0)}function n1(){var o=rf.current;return rf.current=Jh,o===null?Jh:o}function wm(){(Yn===0||Yn===3||Yn===2)&&(Yn=4),sa===null||(Tc&268435455)===0&&(nf&268435455)===0||zl(sa,da)}function uf(o,l){var f=xr;xr|=2;var y=n1();(sa!==o||da!==l)&&(Hi=null,Dc(o,l));do try{cN();break}catch(j){r1(o,j)}while(!0);if(yr(),xr=f,rf.current=y,$n!==null)throw Error(r(261));return sa=null,da=0,Yn}function cN(){for(;$n!==null;)a1($n)}function uN(){for(;$n!==null&&!ul();)a1($n)}function a1(o){var l=l1(o.alternate,o,_s);o.memoizedProps=o.pendingProps,l===null?s1(o):$n=l,hm.current=null}function s1(o){var l=o;do{var f=l.alternate;if(o=l.return,(l.flags&32768)===0){if(f=rN(f,l,_s),f!==null){$n=f;return}}else{if(f=nN(f,l),f!==null){f.flags&=32767,$n=f;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Yn=6,$n=null;return}}if(l=l.sibling,l!==null){$n=l;return}$n=l=o}while(l!==null);Yn===0&&(Yn=5)}function Ic(o,l,f){var y=pr,j=Ks.transition;try{Ks.transition=null,pr=1,dN(o,l,f,y)}finally{Ks.transition=j,pr=y}return null}function dN(o,l,f,y){do Du();while(Fl!==null);if((xr&6)!==0)throw Error(r(327));f=o.finishedWork;var j=o.finishedLanes;if(f===null)return null;if(o.finishedWork=null,o.finishedLanes=0,f===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var A=f.lanes|f.childLanes;if(Rs(o,A),o===sa&&($n=sa=null,da=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||sf||(sf=!0,c1(Fo,function(){return Du(),null})),A=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||A){A=Ks.transition,Ks.transition=null;var W=pr;pr=1;var ve=xr;xr|=4,hm.current=null,sN(o,f),Y0(f,o),bc(Bi),vl=!!Cc,Bi=Cc=null,o.current=f,oN(f),Ed(),xr=ve,pr=W,Ks.transition=A}else o.current=f;if(sf&&(sf=!1,Fl=o,of=j),A=o.pendingLanes,A===0&&(Il=null),ou(f.stateNode),as(o,zr()),l!==null)for(y=o.onRecoverableError,f=0;f<l.length;f++)j=l[f],y(j.value,{componentStack:j.stack,digest:j.digest});if(af)throw af=!1,o=mm,mm=null,o;return(of&1)!==0&&o.tag!==0&&Du(),A=o.pendingLanes,(A&1)!==0?o===gm?Xd++:(Xd=0,gm=o):Xd=0,O(),null}function Du(){if(Fl!==null){var o=eo(of),l=Ks.transition,f=pr;try{if(Ks.transition=null,pr=16>o?16:o,Fl===null)var y=!1;else{if(o=Fl,Fl=null,of=0,(xr&6)!==0)throw Error(r(331));var j=xr;for(xr|=4,Et=o.current;Et!==null;){var A=Et,W=A.child;if((Et.flags&16)!==0){var ve=A.deletions;if(ve!==null){for(var Se=0;Se<ve.length;Se++){var ze=ve[Se];for(Et=ze;Et!==null;){var st=Et;switch(st.tag){case 0:case 11:case 15:Kd(8,st,A)}var it=st.child;if(it!==null)it.return=st,Et=it;else for(;Et!==null;){st=Et;var nt=st.sibling,_t=st.return;if(V0(st),st===ze){Et=null;break}if(nt!==null){nt.return=_t,Et=nt;break}Et=_t}}}var kt=A.alternate;if(kt!==null){var Rt=kt.child;if(Rt!==null){kt.child=null;do{var Ln=Rt.sibling;Rt.sibling=null,Rt=Ln}while(Rt!==null)}}Et=A}}if((A.subtreeFlags&2064)!==0&&W!==null)W.return=A,Et=W;else e:for(;Et!==null;){if(A=Et,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:Kd(9,A,A.return)}var Te=A.sibling;if(Te!==null){Te.return=A.return,Et=Te;break e}Et=A.return}}var Ce=o.current;for(Et=Ce;Et!==null;){W=Et;var Ie=W.child;if((W.subtreeFlags&2064)!==0&&Ie!==null)Ie.return=W,Et=Ie;else e:for(W=Ce;Et!==null;){if(ve=Et,(ve.flags&2048)!==0)try{switch(ve.tag){case 0:case 11:case 15:tf(9,ve)}}catch(Ut){Sn(ve,ve.return,Ut)}if(ve===W){Et=null;break e}var ht=ve.sibling;if(ht!==null){ht.return=ve.return,Et=ht;break e}Et=ve.return}}if(xr=j,O(),Ra&&typeof Ra.onPostCommitFiberRoot=="function")try{Ra.onPostCommitFiberRoot(gi,o)}catch{}y=!0}return y}finally{pr=f,Ks.transition=l}}return!1}function o1(o,l,f){l=Ou(f,l),l=j0(o,l,1),o=hn(o,l,1),l=qa(),o!==null&&(xi(o,1,l),as(o,l))}function Sn(o,l,f){if(o.tag===3)o1(o,o,f);else for(;l!==null;){if(l.tag===3){o1(l,o,f);break}else if(l.tag===1){var y=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Il===null||!Il.has(y))){o=Ou(f,o),o=S0(l,o,1),l=hn(l,o,1),o=qa(),l!==null&&(xi(l,1,o),as(l,o));break}}l=l.return}}function hN(o,l,f){var y=o.pingCache;y!==null&&y.delete(l),l=qa(),o.pingedLanes|=o.suspendedLanes&f,sa===o&&(da&f)===f&&(Yn===4||Yn===3&&(da&130023424)===da&&500>zr()-pm?Dc(o,0):fm|=f),as(o,l)}function i1(o,l){l===0&&((o.mode&1)===0?l=1:(l=Wa,Wa<<=1,(Wa&130023424)===0&&(Wa=4194304)));var f=qa();o=Tr(o,l),o!==null&&(xi(o,l,f),as(o,f))}function fN(o){var l=o.memoizedState,f=0;l!==null&&(f=l.retryLane),i1(o,f)}function pN(o,l){var f=0;switch(o.tag){case 13:var y=o.stateNode,j=o.memoizedState;j!==null&&(f=j.retryLane);break;case 19:y=o.stateNode;break;default:throw Error(r(314))}y!==null&&y.delete(l),i1(o,f)}var l1;l1=function(o,l,f){if(o!==null)if(o.memoizedProps!==l.pendingProps||ba.current)rs=!0;else{if((o.lanes&f)===0&&(l.flags&128)===0)return rs=!1,tN(o,l,f);rs=(o.flags&131072)!==0}else rs=!1,Ke&&(l.flags&1048576)!==0&&Oe(l,ee,l.index);switch(l.lanes=0,l.tag){case 2:var y=l.type;Zh(o,l),o=l.pendingProps;var j=Pl(l,Gn.current);en(l,f),j=Pc(null,l,y,o,j,f);var A=Gs();return l.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,xa(y)?(A=!0,$i(l)):A=!1,l.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,Kn(l),j.updater=Xh,l.stateNode=j,j._reactInternals=l,Qp(l,y,o,f),l=rm(null,l,y,!0,A,f)):(l.tag=0,Ke&&A&&$e(l),Ua(null,l,j,f),l=l.child),l;case 16:y=l.elementType;e:{switch(Zh(o,l),o=l.pendingProps,j=y._init,y=j(y._payload),l.type=y,j=l.tag=gN(y),o=go(y,o),j){case 0:l=tm(null,l,y,o,f);break e;case 1:l=R0(null,l,y,o,f);break e;case 11:l=k0(null,l,y,o,f);break e;case 14:l=P0(null,l,y,go(y.type,o),f);break e}throw Error(r(306,y,""))}return l;case 0:return y=l.type,j=l.pendingProps,j=l.elementType===y?j:go(y,j),tm(o,l,y,j,f);case 1:return y=l.type,j=l.pendingProps,j=l.elementType===y?j:go(y,j),R0(o,l,y,j,f);case 3:e:{if(D0(l),o===null)throw Error(r(387));y=l.pendingProps,A=l.memoizedState,j=A.element,wa(o,l),aa(l,y,null,f);var W=l.memoizedState;if(y=W.element,A.isDehydrated)if(A={element:y,isDehydrated:!1,cache:W.cache,pendingSuspenseBoundaries:W.pendingSuspenseBoundaries,transitions:W.transitions},l.updateQueue.baseState=A,l.memoizedState=A,l.flags&256){j=Ou(Error(r(423)),l),l=I0(o,l,y,f,j);break e}else if(y!==j){j=Ou(Error(r(424)),l),l=I0(o,l,y,f,j);break e}else for(qe=ca(l.stateNode.containerInfo.firstChild),Ue=l,Ke=!0,Ye=null,f=Kr(l,null,y,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(jt(),y===j){l=Wi(o,l,f);break e}Ua(o,l,y,f)}l=l.child}return l;case 5:return Wh(l),o===null&&At(l),y=l.type,j=l.pendingProps,A=o!==null?o.memoizedProps:null,W=j.children,Fd(y,j)?W=null:A!==null&&Fd(y,A)&&(l.flags|=32),T0(o,l),Ua(o,l,W,f),l.child;case 6:return o===null&&At(l),null;case 13:return F0(o,l,f);case 4:return Ol(l,l.stateNode.containerInfo),y=l.pendingProps,o===null?l.child=_n(l,null,y,f):Ua(o,l,y,f),l.child;case 11:return y=l.type,j=l.pendingProps,j=l.elementType===y?j:go(y,j),k0(o,l,y,j,f);case 7:return Ua(o,l,l.pendingProps,f),l.child;case 8:return Ua(o,l,l.pendingProps.children,f),l.child;case 12:return Ua(o,l,l.pendingProps.children,f),l.child;case 10:e:{if(y=l.type._context,j=l.pendingProps,A=l.memoizedProps,W=j.value,kr(Pn,y._currentValue),y._currentValue=W,A!==null)if(Xr(A.value,W)){if(A.children===j.children&&!ba.current){l=Wi(o,l,f);break e}}else for(A=l.child,A!==null&&(A.return=l);A!==null;){var ve=A.dependencies;if(ve!==null){W=A.child;for(var Se=ve.firstContext;Se!==null;){if(Se.context===y){if(A.tag===1){Se=dn(-1,f&-f),Se.tag=2;var ze=A.updateQueue;if(ze!==null){ze=ze.shared;var st=ze.pending;st===null?Se.next=Se:(Se.next=st.next,st.next=Se),ze.pending=Se}}A.lanes|=f,Se=A.alternate,Se!==null&&(Se.lanes|=f),br(A.return,f,l),ve.lanes|=f;break}Se=Se.next}}else if(A.tag===10)W=A.type===l.type?null:A.child;else if(A.tag===18){if(W=A.return,W===null)throw Error(r(341));W.lanes|=f,ve=W.alternate,ve!==null&&(ve.lanes|=f),br(W,f,l),W=A.sibling}else W=A.child;if(W!==null)W.return=A;else for(W=A;W!==null;){if(W===l){W=null;break}if(A=W.sibling,A!==null){A.return=W.return,W=A;break}W=W.return}A=W}Ua(o,l,j.children,f),l=l.child}return l;case 9:return j=l.type,y=l.pendingProps.children,en(l,f),j=tn(j),y=y(j),l.flags|=1,Ua(o,l,y,f),l.child;case 14:return y=l.type,j=go(y,l.pendingProps),j=go(y.type,j),P0(o,l,y,j,f);case 15:return O0(o,l,l.type,l.pendingProps,f);case 17:return y=l.type,j=l.pendingProps,j=l.elementType===y?j:go(y,j),Zh(o,l),l.tag=1,xa(y)?(o=!0,$i(l)):o=!1,en(l,f),_0(l,y,j),Qp(l,y,j,f),rm(null,l,y,!0,o,f);case 19:return z0(o,l,f);case 22:return L0(o,l,f)}throw Error(r(156,l.tag))};function c1(o,l){return pi(o,l)}function mN(o,l,f,y){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ys(o,l,f,y){return new mN(o,l,f,y)}function _m(o){return o=o.prototype,!(!o||!o.isReactComponent)}function gN(o){if(typeof o=="function")return _m(o)?1:0;if(o!=null){if(o=o.$$typeof,o===F)return 11;if(o===fe)return 14}return 2}function Bl(o,l){var f=o.alternate;return f===null?(f=Ys(o.tag,l,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=l,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&14680064,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,l=o.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f}function df(o,l,f,y,j,A){var W=2;if(y=o,typeof o=="function")_m(o)&&(W=1);else if(typeof o=="string")W=5;else e:switch(o){case Q:return Fc(f.children,j,A,l);case D:W=8,j|=8;break;case $:return o=Ys(12,f,l,j|2),o.elementType=$,o.lanes=A,o;case P:return o=Ys(13,f,l,j),o.elementType=P,o.lanes=A,o;case M:return o=Ys(19,f,l,j),o.elementType=M,o.lanes=A,o;case se:return hf(f,j,A,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case G:W=10;break e;case z:W=9;break e;case F:W=11;break e;case fe:W=14;break e;case ae:W=16,y=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return l=Ys(W,f,l,j),l.elementType=o,l.type=y,l.lanes=A,l}function Fc(o,l,f,y){return o=Ys(7,o,y,l),o.lanes=f,o}function hf(o,l,f,y){return o=Ys(22,o,y,l),o.elementType=se,o.lanes=f,o.stateNode={isHidden:!1},o}function Nm(o,l,f){return o=Ys(6,o,null,l),o.lanes=f,o}function jm(o,l,f){return l=Ys(4,o.children!==null?o.children:[],o.key,l),l.lanes=f,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function vN(o,l,f,y,j){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uc(0),this.expirationTimes=uc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uc(0),this.identifierPrefix=y,this.onRecoverableError=j,this.mutableSourceEagerHydrationData=null}function Sm(o,l,f,y,j,A,W,ve,Se){return o=new vN(o,l,f,ve,Se),l===1?(l=1,A===!0&&(l|=8)):l=0,A=Ys(3,null,null,l),o.current=A,A.stateNode=o,A.memoizedState={element:y,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kn(A),o}function yN(o,l,f){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:y==null?null:""+y,children:o,containerInfo:l,implementation:f}}function u1(o){if(!o)return Ko;o=o._reactInternals;e:{if(Wn(o)!==o||o.tag!==1)throw Error(r(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(xa(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(o.tag===1){var f=o.type;if(xa(f))return Ud(o,f,l)}return l}function d1(o,l,f,y,j,A,W,ve,Se){return o=Sm(f,y,!0,o,j,A,W,ve,Se),o.context=u1(null),f=o.current,y=qa(),j=Ml(f),A=dn(y,j),A.callback=l??null,hn(f,A,j),o.current.lanes=j,xi(o,j,y),as(o,y),o}function ff(o,l,f,y){var j=l.current,A=qa(),W=Ml(j);return f=u1(f),l.context===null?l.context=f:l.pendingContext=f,l=dn(A,W),l.payload={element:o},y=y===void 0?null:y,y!==null&&(l.callback=y),o=hn(j,l,W),o!==null&&(bo(o,j,W,A),na(o,j,W)),W}function pf(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function h1(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<l?f:l}}function Em(o,l){h1(o,l),(o=o.alternate)&&h1(o,l)}function bN(){return null}var f1=typeof reportError=="function"?reportError:function(o){console.error(o)};function Cm(o){this._internalRoot=o}mf.prototype.render=Cm.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));ff(o,l,null,null)},mf.prototype.unmount=Cm.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Rc(function(){ff(null,o,null,null)}),l[ta]=null}};function mf(o){this._internalRoot=o}mf.prototype.unstable_scheduleHydration=function(o){if(o){var l=uu();o={blockedOn:null,target:o,priority:l};for(var f=0;f<Is.length&&l!==0&&l<Is[f].priority;f++);Is.splice(f,0,o),f===0&&hu(o)}};function Am(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function gf(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function p1(){}function xN(o,l,f,y,j){if(j){if(typeof y=="function"){var A=y;y=function(){var ze=pf(W);A.call(ze)}}var W=d1(l,y,o,0,null,!1,!1,"",p1);return o._reactRootContainer=W,o[ta]=W.current,Mi(o.nodeType===8?o.parentNode:o),Rc(),W}for(;j=o.lastChild;)o.removeChild(j);if(typeof y=="function"){var ve=y;y=function(){var ze=pf(Se);ve.call(ze)}}var Se=Sm(o,0,!1,null,null,!1,!1,"",p1);return o._reactRootContainer=Se,o[ta]=Se.current,Mi(o.nodeType===8?o.parentNode:o),Rc(function(){ff(l,Se,f,y)}),Se}function vf(o,l,f,y,j){var A=f._reactRootContainer;if(A){var W=A;if(typeof j=="function"){var ve=j;j=function(){var Se=pf(W);ve.call(Se)}}ff(l,W,o,j)}else W=xN(f,l,o,j,y);return pf(W)}pl=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var f=us(l.pendingLanes);f!==0&&(fl(l,f|1),as(l,zr()),(xr&6)===0&&(Ru=zr()+500,O()))}break;case 13:Rc(function(){var y=Tr(o,1);if(y!==null){var j=qa();bo(y,o,1,j)}}),Em(o,1)}},dc=function(o){if(o.tag===13){var l=Tr(o,134217728);if(l!==null){var f=qa();bo(l,o,134217728,f)}Em(o,134217728)}},cu=function(o){if(o.tag===13){var l=Ml(o),f=Tr(o,l);if(f!==null){var y=qa();bo(f,o,l,y)}Em(o,l)}},uu=function(){return pr},ml=function(o,l){var f=pr;try{return pr=o,l()}finally{pr=f}},ar=function(o,l,f){switch(l){case"input":if(wt(o,f),l=f.name,f.type==="radio"&&l!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<f.length;l++){var y=f[l];if(y!==o&&y.form===o.form){var j=Ac(y);if(!j)throw Error(r(90));He(y),wt(y,j)}}}break;case"textarea":be(o,f);break;case"select":l=f.value,l!=null&&we(o,!!f.multiple,l,!1)}},Tt=bm,Kt=Rc;var wN={usingClientEntryPoint:!1,Events:[kl,Ui,Ac,ne,dt,bm]},Qd={findFiberByHostInstance:Go,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_N={bundleType:Qd.bundleType,version:Qd.version,rendererPackageName:Qd.rendererPackageName,rendererConfig:Qd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=cs(o),o===null?null:o.stateNode},findFiberByHostInstance:Qd.findFiberByHostInstance||bN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yf.isDisabled&&yf.supportsFiber)try{gi=yf.inject(_N),Ra=yf}catch{}}return ss.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wN,ss.createPortal=function(o,l){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Am(l))throw Error(r(200));return yN(o,l,null,f)},ss.createRoot=function(o,l){if(!Am(o))throw Error(r(299));var f=!1,y="",j=f1;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(j=l.onRecoverableError)),l=Sm(o,1,!1,null,null,f,!1,y,j),o[ta]=l.current,Mi(o.nodeType===8?o.parentNode:o),new Cm(l)},ss.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=cs(l),o=o===null?null:o.stateNode,o},ss.flushSync=function(o){return Rc(o)},ss.hydrate=function(o,l,f){if(!gf(l))throw Error(r(200));return vf(null,o,l,!0,f)},ss.hydrateRoot=function(o,l,f){if(!Am(o))throw Error(r(405));var y=f!=null&&f.hydratedSources||null,j=!1,A="",W=f1;if(f!=null&&(f.unstable_strictMode===!0&&(j=!0),f.identifierPrefix!==void 0&&(A=f.identifierPrefix),f.onRecoverableError!==void 0&&(W=f.onRecoverableError)),l=d1(l,null,o,1,f??null,j,!1,A,W),o[ta]=l.current,Mi(o),y)for(o=0;o<y.length;o++)f=y[o],j=f._getVersion,j=j(f._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[f,j]:l.mutableSourceEagerHydrationData.push(f,j);return new mf(l)},ss.render=function(o,l,f){if(!gf(l))throw Error(r(200));return vf(null,o,l,!1,f)},ss.unmountComponentAtNode=function(o){if(!gf(o))throw Error(r(40));return o._reactRootContainer?(Rc(function(){vf(null,null,o,!1,function(){o._reactRootContainer=null,o[ta]=null})}),!0):!1},ss.unstable_batchedUpdates=bm,ss.unstable_renderSubtreeIntoContainer=function(o,l,f,y){if(!gf(f))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return vf(o,l,f,!1,y)},ss.version="18.3.1-next-f1338f8080-20240426",ss}var _1;function hb(){if(_1)return Om.exports;_1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Om.exports=kN(),Om.exports}var N1;function PN(){if(N1)return bf;N1=1;var t=hb();return bf.createRoot=t.createRoot,bf.hydrateRoot=t.hydrateRoot,bf}var ON=PN(),k=xv();const ut=bv(k),fb=ub({__proto__:null,default:ut},[k]);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var j1="popstate";function LN(t={}){function e(n,a){let{pathname:i,search:c,hash:u}=n.location;return kg("",{pathname:i,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:gh(a)}return RN(e,r,null,t)}function an(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Eo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TN(){return Math.random().toString(36).substring(2,10)}function S1(t,e){return{usr:t.state,key:t.key,idx:e}}function kg(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?md(e):e,state:r,key:e&&e.key||n||TN()}}function gh({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function md(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function RN(t,e,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,c=a.history,u="POP",d=null,h=p();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function p(){return(c.state||{idx:null}).idx}function g(){u="POP";let _=p(),C=_==null?null:_-h;h=_,d&&d({action:u,location:x.location,delta:C})}function w(_,C){u="PUSH";let L=kg(x.location,_,C);h=p()+1;let T=S1(L,h),R=x.createHref(L);try{c.pushState(T,"",R)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;a.location.assign(R)}i&&d&&d({action:u,location:x.location,delta:1})}function v(_,C){u="REPLACE";let L=kg(x.location,_,C);h=p();let T=S1(L,h),R=x.createHref(L);c.replaceState(T,"",R),i&&d&&d({action:u,location:x.location,delta:0})}function S(_){return DN(_)}let x={get action(){return u},get location(){return t(a,c)},listen(_){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(j1,g),d=_,()=>{a.removeEventListener(j1,g),d=null}},createHref(_){return e(a,_)},createURL:S,encodeLocation(_){let C=S(_);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:w,replace:v,go(_){return c.go(_)}};return x}function DN(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),an(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:gh(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function pb(t,e,r="/"){return IN(t,e,r,!1)}function IN(t,e,r,n){let a=typeof e=="string"?md(e):e,i=sl(a.pathname||"/",r);if(i==null)return null;let c=mb(t);FN(c);let u=null;for(let d=0;u==null&&d<c.length;++d){let h=KN(i);u=HN(c[d],h,n)}return u}function mb(t,e=[],r=[],n="",a=!1){let i=(c,u,d=a,h)=>{let p={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&d)return;an(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let g=nl([n,p.relativePath]),w=r.concat(p);c.children&&c.children.length>0&&(an(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),mb(c.children,e,w,g,d)),!(c.path==null&&!c.index)&&e.push({path:g,score:VN(g,c.index),routesMeta:w})};return t.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))i(c,u);else for(let d of gb(c.path))i(c,u,!0,d)}),e}function gb(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let c=gb(n.join("/")),u=[];return u.push(...c.map(d=>d===""?i:[i,d].join("/"))),a&&u.push(...c),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function FN(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:WN(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var MN=/^:[\w-]+$/,zN=3,BN=2,UN=1,qN=10,$N=-2,E1=t=>t==="*";function VN(t,e){let r=t.split("/"),n=r.length;return r.some(E1)&&(n+=$N),e&&(n+=BN),r.filter(a=>!E1(a)).reduce((a,i)=>a+(MN.test(i)?zN:i===""?UN:qN),n)}function WN(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function HN(t,e,r=!1){let{routesMeta:n}=t,a={},i="/",c=[];for(let u=0;u<n.length;++u){let d=n[u],h=u===n.length-1,p=i==="/"?e:e.slice(i.length)||"/",g=op({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),w=d.route;if(!g&&h&&r&&!n[n.length-1].route.index&&(g=op({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),c.push({params:a,pathname:nl([i,g.pathname]),pathnameBase:QN(nl([i,g.pathnameBase])),route:w}),g.pathnameBase!=="/"&&(i=nl([i,g.pathnameBase]))}return c}function op(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=GN(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],c=i.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:n.reduce((h,{paramName:p,isOptional:g},w)=>{if(p==="*"){let S=u[w]||"";c=i.slice(0,i.length-S.length).replace(/(.)\/+$/,"$1")}const v=u[w];return g&&!v?h[p]=void 0:h[p]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:c,pattern:t}}function GN(t,e=!1,r=!0){Eo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function KN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Eo(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function sl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function YN(t,e="/"){let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?md(t):t;return{pathname:r?r.startsWith("/")?r:JN(r,e):e,search:ZN(n),hash:ej(a)}}function JN(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Rm(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XN(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function wv(t){let e=XN(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function _v(t,e,r,n=!1){let a;typeof t=="string"?a=md(t):(a={...t},an(!a.pathname||!a.pathname.includes("?"),Rm("?","pathname","search",a)),an(!a.pathname||!a.pathname.includes("#"),Rm("#","pathname","hash",a)),an(!a.search||!a.search.includes("#"),Rm("#","search","hash",a)));let i=t===""||a.pathname==="",c=i?"/":a.pathname,u;if(c==null)u=r;else{let g=e.length-1;if(!n&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),g-=1;a.pathname=w.join("/")}u=g>=0?e[g]:"/"}let d=YN(a,u),h=c&&c!=="/"&&c.endsWith("/"),p=(i||c===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}var nl=t=>t.join("/").replace(/\/\/+/g,"/"),QN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ZN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ej=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function tj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var vb=["POST","PUT","PATCH","DELETE"];new Set(vb);var rj=["GET",...vb];new Set(rj);var gd=k.createContext(null);gd.displayName="DataRouter";var Sp=k.createContext(null);Sp.displayName="DataRouterState";k.createContext(!1);var yb=k.createContext({isTransitioning:!1});yb.displayName="ViewTransition";var nj=k.createContext(new Map);nj.displayName="Fetchers";var aj=k.createContext(null);aj.displayName="Await";var Po=k.createContext(null);Po.displayName="Navigation";var kh=k.createContext(null);kh.displayName="Location";var Oo=k.createContext({outlet:null,matches:[],isDataRoute:!1});Oo.displayName="Route";var Nv=k.createContext(null);Nv.displayName="RouteError";function sj(t,{relative:e}={}){an(vd(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=k.useContext(Po),{hash:a,pathname:i,search:c}=Ph(t,{relative:e}),u=i;return r!=="/"&&(u=i==="/"?r:nl([r,i])),n.createHref({pathname:u,search:c,hash:a})}function vd(){return k.useContext(kh)!=null}function ci(){return an(vd(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(kh).location}var bb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xb(t){k.useContext(Po).static||k.useLayoutEffect(t)}function Qs(){let{isDataRoute:t}=k.useContext(Oo);return t?xj():oj()}function oj(){an(vd(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(gd),{basename:e,navigator:r}=k.useContext(Po),{matches:n}=k.useContext(Oo),{pathname:a}=ci(),i=JSON.stringify(wv(n)),c=k.useRef(!1);return xb(()=>{c.current=!0}),k.useCallback((d,h={})=>{if(Eo(c.current,bb),!c.current)return;if(typeof d=="number"){r.go(d);return}let p=_v(d,JSON.parse(i),a,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:nl([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,i,a,t])}var ij=k.createContext(null);function lj(t){let e=k.useContext(Oo).outlet;return k.useMemo(()=>e&&k.createElement(ij.Provider,{value:t},e),[e,t])}function Ph(t,{relative:e}={}){let{matches:r}=k.useContext(Oo),{pathname:n}=ci(),a=JSON.stringify(wv(r));return k.useMemo(()=>_v(t,JSON.parse(a),n,e==="path"),[t,a,n,e])}function cj(t,e){return wb(t,e)}function wb(t,e,r,n,a){an(vd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=k.useContext(Po),{matches:c}=k.useContext(Oo),u=c[c.length-1],d=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let L=g&&g.path||"";_b(h,!g||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let w=ci(),v;if(e){let L=typeof e=="string"?md(e):e;an(p==="/"||L.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${L.pathname}" was given in the \`location\` prop.`),v=L}else v=w;let S=v.pathname||"/",x=S;if(p!=="/"){let L=p.replace(/^\//,"").split("/");x="/"+S.replace(/^\//,"").split("/").slice(L.length).join("/")}let _=pb(t,{pathname:x});Eo(g||_!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Eo(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=pj(_&&_.map(L=>Object.assign({},L,{params:Object.assign({},d,L.params),pathname:nl([p,i.encodeLocation?i.encodeLocation(L.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?p:nl([p,i.encodeLocation?i.encodeLocation(L.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathnameBase])})),c,r,n,a);return e&&C?k.createElement(kh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},C):C}function uj(){let t=bj(),e=tj(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:i},"ErrorBoundary")," or"," ",k.createElement("code",{style:i},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),r?k.createElement("pre",{style:a},r):null,c)}var dj=k.createElement(uj,null),hj=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?k.createElement(Oo.Provider,{value:this.props.routeContext},k.createElement(Nv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fj({routeContext:t,match:e,children:r}){let n=k.useContext(gd);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(Oo.Provider,{value:t},r)}function pj(t,e=[],r=null,n=null,a=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,c=r?.errors;if(c!=null){let h=i.findIndex(p=>p.route.id&&c?.[p.route.id]!==void 0);an(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let u=!1,d=-1;if(r)for(let h=0;h<i.length;h++){let p=i[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:g,errors:w}=r,v=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!w||w[p.route.id]===void 0);if(p.route.lazy||v){u=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((h,p,g)=>{let w,v=!1,S=null,x=null;r&&(w=c&&p.route.id?c[p.route.id]:void 0,S=p.route.errorElement||dj,u&&(d<0&&g===0?(_b("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,x=null):d===g&&(v=!0,x=p.route.hydrateFallbackElement||null)));let _=e.concat(i.slice(0,g+1)),C=()=>{let L;return w?L=S:v?L=x:p.route.Component?L=k.createElement(p.route.Component,null):p.route.element?L=p.route.element:L=h,k.createElement(fj,{match:p,routeContext:{outlet:h,matches:_,isDataRoute:r!=null},children:L})};return r&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?k.createElement(hj,{location:r.location,revalidation:r.revalidation,component:S,error:w,children:C(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:n}):C()},null)}function jv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mj(t){let e=k.useContext(gd);return an(e,jv(t)),e}function gj(t){let e=k.useContext(Sp);return an(e,jv(t)),e}function vj(t){let e=k.useContext(Oo);return an(e,jv(t)),e}function Sv(t){let e=vj(t),r=e.matches[e.matches.length-1];return an(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function yj(){return Sv("useRouteId")}function bj(){let t=k.useContext(Nv),e=gj("useRouteError"),r=Sv("useRouteError");return t!==void 0?t:e.errors?.[r]}function xj(){let{router:t}=mj("useNavigate"),e=Sv("useNavigate"),r=k.useRef(!1);return xb(()=>{r.current=!0}),k.useCallback(async(a,i={})=>{Eo(r.current,bb),r.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...i}))},[t,e])}var C1={};function _b(t,e,r){!e&&!C1[t]&&(C1[t]=!0,Eo(!1,r))}k.memo(wj);function wj({routes:t,future:e,state:r,unstable_onError:n}){return wb(t,void 0,r,n,e)}function Nb({to:t,replace:e,state:r,relative:n}){an(vd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=k.useContext(Po);Eo(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=k.useContext(Oo),{pathname:c}=ci(),u=Qs(),d=_v(t,wv(i),c,n==="path"),h=JSON.stringify(d);return k.useEffect(()=>{u(JSON.parse(h),{replace:e,state:r,relative:n})},[u,h,n,e,r]),null}function Ep(t){return lj(t.context)}function Tn(t){an(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _j({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:a,static:i=!1}){an(!vd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:c,navigator:a,static:i,future:{}}),[c,a,i]);typeof r=="string"&&(r=md(r));let{pathname:d="/",search:h="",hash:p="",state:g=null,key:w="default"}=r,v=k.useMemo(()=>{let S=sl(d,c);return S==null?null:{location:{pathname:S,search:h,hash:p,state:g,key:w},navigationType:n}},[c,d,h,p,g,w,n]);return Eo(v!=null,`<Router basename="${c}"> is not able to match the URL "${d}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:k.createElement(Po.Provider,{value:u},k.createElement(kh.Provider,{children:e,value:v}))}function Nj({children:t,location:e}){return cj(Pg(t),e)}function Pg(t,e=[]){let r=[];return k.Children.forEach(t,(n,a)=>{if(!k.isValidElement(n))return;let i=[...e,a];if(n.type===k.Fragment){r.push.apply(r,Pg(n.props.children,i));return}an(n.type===Tn,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),an(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=Pg(n.props.children,i)),r.push(c)}),r}var Kf="get",Yf="application/x-www-form-urlencoded";function Cp(t){return t!=null&&typeof t.tagName=="string"}function jj(t){return Cp(t)&&t.tagName.toLowerCase()==="button"}function Sj(t){return Cp(t)&&t.tagName.toLowerCase()==="form"}function Ej(t){return Cp(t)&&t.tagName.toLowerCase()==="input"}function Cj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Aj(t,e){return t.button===0&&(!e||e==="_self")&&!Cj(t)}var xf=null;function kj(){if(xf===null)try{new FormData(document.createElement("form"),0),xf=!1}catch{xf=!0}return xf}var Pj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dm(t){return t!=null&&!Pj.has(t)?(Eo(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yf}"`),null):t}function Oj(t,e){let r,n,a,i,c;if(Sj(t)){let u=t.getAttribute("action");n=u?sl(u,e):null,r=t.getAttribute("method")||Kf,a=Dm(t.getAttribute("enctype"))||Yf,i=new FormData(t)}else if(jj(t)||Ej(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||u.getAttribute("action");if(n=d?sl(d,e):null,r=t.getAttribute("formmethod")||u.getAttribute("method")||Kf,a=Dm(t.getAttribute("formenctype"))||Dm(u.getAttribute("enctype"))||Yf,i=new FormData(u,t),!kj()){let{name:h,type:p,value:g}=t;if(p==="image"){let w=h?`${h}.`:"";i.append(`${w}x`,"0"),i.append(`${w}y`,"0")}else h&&i.append(h,g)}}else{if(Cp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Kf,n=null,a=Yf,c=t}return i&&a==="text/plain"&&(c=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ev(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Lj(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&sl(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function Tj(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Rj(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Dj(t,e,r){let n=await Promise.all(t.map(async a=>{let i=e.routes[a.route.id];if(i){let c=await Tj(i,r);return c.links?c.links():[]}return[]}));return zj(n.flat(1).filter(Rj).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function A1(t,e,r,n,a,i){let c=(d,h)=>r[h]?d.route.id!==r[h].route.id:!0,u=(d,h)=>r[h].pathname!==d.pathname||r[h].route.path?.endsWith("*")&&r[h].params["*"]!==d.params["*"];return i==="assets"?e.filter((d,h)=>c(d,h)||u(d,h)):i==="data"?e.filter((d,h)=>{let p=n.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(c(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function Ij(t,e,{includeHydrateFallback:r}={}){return Fj(t.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function Fj(t){return[...new Set(t)]}function Mj(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function zj(t,e){let r=new Set;return new Set(e),t.reduce((n,a)=>{let i=JSON.stringify(Mj(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function jb(){let t=k.useContext(gd);return Ev(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Bj(){let t=k.useContext(Sp);return Ev(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Cv=k.createContext(void 0);Cv.displayName="FrameworkContext";function Sb(){let t=k.useContext(Cv);return Ev(t,"You must render this element inside a <HydratedRouter> element"),t}function Uj(t,e){let r=k.useContext(Cv),[n,a]=k.useState(!1),[i,c]=k.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,w=k.useRef(null);k.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let x=C=>{C.forEach(L=>{c(L.isIntersecting)})},_=new IntersectionObserver(x,{threshold:.5});return w.current&&_.observe(w.current),()=>{_.disconnect()}}},[t]),k.useEffect(()=>{if(n){let x=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(x)}}},[n]);let v=()=>{a(!0)},S=()=>{a(!1),c(!1)};return r?t!=="intent"?[i,w,{}]:[i,w,{onFocus:eh(u,v),onBlur:eh(d,S),onMouseEnter:eh(h,v),onMouseLeave:eh(p,S),onTouchStart:eh(g,v)}]:[!1,w,{}]}function eh(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function qj({page:t,...e}){let{router:r}=jb(),n=k.useMemo(()=>pb(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?k.createElement(Vj,{page:t,matches:n,...e}):null}function $j(t){let{manifest:e,routeModules:r}=Sb(),[n,a]=k.useState([]);return k.useEffect(()=>{let i=!1;return Dj(t,e,r).then(c=>{i||a(c)}),()=>{i=!0}},[t,e,r]),n}function Vj({page:t,matches:e,...r}){let n=ci(),{manifest:a,routeModules:i}=Sb(),{basename:c}=jb(),{loaderData:u,matches:d}=Bj(),h=k.useMemo(()=>A1(t,e,d,a,n,"data"),[t,e,d,a,n]),p=k.useMemo(()=>A1(t,e,d,a,n,"assets"),[t,e,d,a,n]),g=k.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let S=new Set,x=!1;if(e.forEach(C=>{let L=a.routes[C.route.id];!L||!L.hasLoader||(!h.some(T=>T.route.id===C.route.id)&&C.route.id in u&&i[C.route.id]?.shouldRevalidate||L.hasClientLoader?x=!0:S.add(C.route.id))}),S.size===0)return[];let _=Lj(t,c,"data");return x&&S.size>0&&_.searchParams.set("_routes",e.filter(C=>S.has(C.route.id)).map(C=>C.route.id).join(",")),[_.pathname+_.search]},[c,u,n,a,h,e,t,i]),w=k.useMemo(()=>Ij(p,a),[p,a]),v=$j(p);return k.createElement(k.Fragment,null,g.map(S=>k.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),w.map(S=>k.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),v.map(({key:S,link:x})=>k.createElement("link",{key:S,nonce:r.nonce,...x})))}function Wj(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Eb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Eb&&(window.__reactRouterVersion="7.9.5")}catch{}function Hj({basename:t,children:e,window:r}){let n=k.useRef();n.current==null&&(n.current=LN({window:r,v5Compat:!0}));let a=n.current,[i,c]=k.useState({action:a.action,location:a.location}),u=k.useCallback(d=>{k.startTransition(()=>c(d))},[c]);return k.useLayoutEffect(()=>a.listen(u),[a,u]),k.createElement(_j,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:a})}var Cb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ab=k.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:c,state:u,target:d,to:h,preventScrollReset:p,viewTransition:g,...w},v){let{basename:S}=k.useContext(Po),x=typeof h=="string"&&Cb.test(h),_,C=!1;if(typeof h=="string"&&x&&(_=h,Eb))try{let $=new URL(window.location.href),G=h.startsWith("//")?new URL($.protocol+h):new URL(h),z=sl(G.pathname,S);G.origin===$.origin&&z!=null?h=z+G.search+G.hash:C=!0}catch{Eo(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=sj(h,{relative:a}),[T,R,H]=Uj(n,w),J=Jj(h,{replace:c,state:u,target:d,preventScrollReset:p,relative:a,viewTransition:g});function Q($){e&&e($),$.defaultPrevented||J($)}let D=k.createElement("a",{...w,...H,href:_||L,onClick:C||i?e:Q,ref:Wj(v,R),target:d,"data-discover":!x&&r==="render"?"true":void 0});return T&&!x?k.createElement(k.Fragment,null,D,k.createElement(qj,{page:L})):D});Ab.displayName="Link";var Gj=k.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:c,viewTransition:u,children:d,...h},p){let g=Ph(c,{relative:h.relative}),w=ci(),v=k.useContext(Sp),{navigator:S,basename:x}=k.useContext(Po),_=v!=null&&tS(g)&&u===!0,C=S.encodeLocation?S.encodeLocation(g).pathname:g.pathname,L=w.pathname,T=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(L=L.toLowerCase(),T=T?T.toLowerCase():null,C=C.toLowerCase()),T&&x&&(T=sl(T,x)||T);const R=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let H=L===C||!a&&L.startsWith(C)&&L.charAt(R)==="/",J=T!=null&&(T===C||!a&&T.startsWith(C)&&T.charAt(C.length)==="/"),Q={isActive:H,isPending:J,isTransitioning:_},D=H?e:void 0,$;typeof n=="function"?$=n(Q):$=[n,H?"active":null,J?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let G=typeof i=="function"?i(Q):i;return k.createElement(Ab,{...h,"aria-current":D,className:$,ref:p,style:G,to:c,viewTransition:u},typeof d=="function"?d(Q):d)});Gj.displayName="NavLink";var Kj=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:a,state:i,method:c=Kf,action:u,onSubmit:d,relative:h,preventScrollReset:p,viewTransition:g,...w},v)=>{let S=Zj(),x=eS(u,{relative:h}),_=c.toLowerCase()==="get"?"get":"post",C=typeof u=="string"&&Cb.test(u),L=T=>{if(d&&d(T),T.defaultPrevented)return;T.preventDefault();let R=T.nativeEvent.submitter,H=R?.getAttribute("formmethod")||c;S(R||T.currentTarget,{fetcherKey:e,method:H,navigate:r,replace:a,state:i,relative:h,preventScrollReset:p,viewTransition:g})};return k.createElement("form",{ref:v,method:_,action:x,onSubmit:n?d:L,...w,"data-discover":!C&&t==="render"?"true":void 0})});Kj.displayName="Form";function Yj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kb(t){let e=k.useContext(gd);return an(e,Yj(t)),e}function Jj(t,{target:e,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:c}={}){let u=Qs(),d=ci(),h=Ph(t,{relative:i});return k.useCallback(p=>{if(Aj(p,e)){p.preventDefault();let g=r!==void 0?r:gh(d)===gh(h);u(t,{replace:g,state:n,preventScrollReset:a,relative:i,viewTransition:c})}},[d,u,h,r,n,e,t,a,i,c])}var Xj=0,Qj=()=>`__${String(++Xj)}__`;function Zj(){let{router:t}=kb("useSubmit"),{basename:e}=k.useContext(Po),r=yj();return k.useCallback(async(n,a={})=>{let{action:i,method:c,encType:u,formData:d,body:h}=Oj(n,e);if(a.navigate===!1){let p=a.fetcherKey||Qj();await t.fetch(p,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||c,formEncType:a.encType||u,flushSync:a.flushSync})}else await t.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||c,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,r])}function eS(t,{relative:e}={}){let{basename:r}=k.useContext(Po),n=k.useContext(Oo);an(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...Ph(t||".",{relative:e})},c=ci();if(t==null){i.search=c.search;let u=new URLSearchParams(i.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();i.search=p?`?${p}`:""}}return(!t||t===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:nl([r,i.pathname])),gh(i)}function tS(t,{relative:e}={}){let r=k.useContext(yb);an(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=kb("useViewTransitionState"),a=Ph(t,{relative:e});if(!r.isTransitioning)return!1;let i=sl(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=sl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return op(a.pathname,c)!=null||op(a.pathname,i)!=null}var Oh=hb();const Pb=bv(Oh);var Og=function(t,e){return Og=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Og(t,e)};function Ob(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Og(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Js=function(){return Js=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Js.apply(this,arguments)};function oc(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function Lb(t,e,r,n){var a=arguments.length,i=a<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(c=t[u])&&(i=(a<3?c(i):a>3?c(e,r,i):c(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i}function Tb(t,e){return function(r,n){e(r,n,t)}}function Rb(t,e,r,n,a,i){function c(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var u=n.kind,d=u==="getter"?"get":u==="setter"?"set":"value",h=!e&&t?n.static?t:t.prototype:null,p=e||(h?Object.getOwnPropertyDescriptor(h,n.name):{}),g,w=!1,v=r.length-1;v>=0;v--){var S={};for(var x in n)S[x]=x==="access"?{}:n[x];for(var x in n.access)S.access[x]=n.access[x];S.addInitializer=function(C){if(w)throw new TypeError("Cannot add initializers after decoration has completed");i.push(c(C||null))};var _=(0,r[v])(u==="accessor"?{get:p.get,set:p.set}:p[d],S);if(u==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(g=c(_.get))&&(p.get=g),(g=c(_.set))&&(p.set=g),(g=c(_.init))&&a.unshift(g)}else(g=c(_))&&(u==="field"?a.unshift(g):p[d]=g)}h&&Object.defineProperty(h,n.name,p),w=!0}function Db(t,e,r){for(var n=arguments.length>2,a=0;a<e.length;a++)r=n?e[a].call(t,r):e[a].call(t);return n?r:void 0}function Ib(t){return typeof t=="symbol"?t:"".concat(t)}function Fb(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Mb(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Mt(t,e,r,n){function a(i){return i instanceof r?i:new r(function(c){c(i)})}return new(r||(r=Promise))(function(i,c){function u(p){try{h(n.next(p))}catch(g){c(g)}}function d(p){try{h(n.throw(p))}catch(g){c(g)}}function h(p){p.done?i(p.value):a(p.value).then(u,d)}h((n=n.apply(t,e||[])).next())})}function zb(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=u(0),c.throw=u(1),c.return=u(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(h){return function(p){return d([h,p])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,h[0]&&(r=0)),r;)try{if(n=1,a&&(i=h[0]&2?a.return:h[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,h[1])).done)return i;switch(a=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,a=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){r.label=h[1];break}if(h[0]===6&&r.label<i[1]){r.label=i[1],i=h;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(h);break}i[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(p){h=[6,p],a=0}finally{n=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var Ap=Object.create?(function(t,e,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(e,r);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,a)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]});function Bb(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Ap(e,t,r)}function ip(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Av(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),a,i=[],c;try{for(;(e===void 0||e-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(u){c={error:u}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(c)throw c.error}}return i}function Ub(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Av(arguments[e]));return t}function qb(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),a=0,e=0;e<r;e++)for(var i=arguments[e],c=0,u=i.length;c<u;c++,a++)n[a]=i[c];return n}function kv(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function dd(t){return this instanceof dd?(this.v=t,this):new dd(t)}function $b(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(v){return function(S){return Promise.resolve(S).then(v,g)}}function u(v,S){n[v]&&(a[v]=function(x){return new Promise(function(_,C){i.push([v,x,_,C])>1||d(v,x)})},S&&(a[v]=S(a[v])))}function d(v,S){try{h(n[v](S))}catch(x){w(i[0][3],x)}}function h(v){v.value instanceof dd?Promise.resolve(v.value.v).then(p,g):w(i[0][2],v)}function p(v){d("next",v)}function g(v){d("throw",v)}function w(v,S){v(S),i.shift(),i.length&&d(i[0][0],i[0][1])}}function Vb(t){var e,r;return e={},n("next"),n("throw",function(a){throw a}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(a,i){e[a]=t[a]?function(c){return(r=!r)?{value:dd(t[a](c)),done:!1}:i?i(c):c}:i}}function Wb(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof ip=="function"?ip(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(c){return new Promise(function(u,d){c=t[i](c),a(u,d,c.done,c.value)})}}function a(i,c,u,d){Promise.resolve(d).then(function(h){i({value:h,done:u})},c)}}function Hb(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var rS=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Lg=function(t){return Lg=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Lg(t)};function Gb(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Lg(t),n=0;n<r.length;n++)r[n]!=="default"&&Ap(e,t,r[n]);return rS(e,t),e}function Kb(t){return t&&t.__esModule?t:{default:t}}function Yb(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function Jb(t,e,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(t,r):a?a.value=r:e.set(t,r),r}function Xb(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Qb(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var nS=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function Zb(t){function e(i){t.error=t.hasError?new nS(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function a(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(c){return e(c),a()})}else n|=1}catch(c){e(c)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return a()}function ex(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,c){return n?e?".jsx":".js":a&&(!i||!c)?r:a+i+"."+c.toLowerCase()+"js"}):t}const aS={__extends:Ob,__assign:Js,__rest:oc,__decorate:Lb,__param:Tb,__esDecorate:Rb,__runInitializers:Db,__propKey:Ib,__setFunctionName:Fb,__metadata:Mb,__awaiter:Mt,__generator:zb,__createBinding:Ap,__exportStar:Bb,__values:ip,__read:Av,__spread:Ub,__spreadArrays:qb,__spreadArray:kv,__await:dd,__asyncGenerator:$b,__asyncDelegator:Vb,__asyncValues:Wb,__makeTemplateObject:Hb,__importStar:Gb,__importDefault:Kb,__classPrivateFieldGet:Yb,__classPrivateFieldSet:Jb,__classPrivateFieldIn:Xb,__addDisposableResource:Qb,__disposeResources:Zb,__rewriteRelativeImportExtension:ex},sS=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Qb,get __assign(){return Js},__asyncDelegator:Vb,__asyncGenerator:$b,__asyncValues:Wb,__await:dd,__awaiter:Mt,__classPrivateFieldGet:Yb,__classPrivateFieldIn:Xb,__classPrivateFieldSet:Jb,__createBinding:Ap,__decorate:Lb,__disposeResources:Zb,__esDecorate:Rb,__exportStar:Bb,__extends:Ob,__generator:zb,__importDefault:Kb,__importStar:Gb,__makeTemplateObject:Hb,__metadata:Mb,__param:Tb,__propKey:Ib,__read:Av,__rest:oc,__rewriteRelativeImportExtension:ex,__runInitializers:Db,__setFunctionName:Fb,__spread:Ub,__spreadArray:kv,__spreadArrays:qb,__values:ip,default:aS},Symbol.toStringTag,{value:"Module"})),oS="modulepreload",iS=function(t){return"/"+t},k1={},oi=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){let c=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");a=c(r.map(h=>{if(h=iS(h),h in k1)return;k1[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const w=document.createElement("link");if(w.rel=p?"stylesheet":oS,p||(w.as="script"),w.crossOrigin="",w.href=h,d&&w.setAttribute("nonce",d),document.head.appendChild(w),p)return new Promise((v,S)=>{w.addEventListener("load",v),w.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return a.then(c=>{for(const u of c||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})},lS=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>oi(async()=>{const{default:n}=await Promise.resolve().then(()=>tu);return{default:n}},[]).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Pv extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class P1 extends Pv{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class O1 extends Pv{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class L1 extends Pv{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Tg;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Tg||(Tg={}));class cS{constructor(e,{headers:r={},customFetch:n,region:a=Tg.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=lS(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Mt(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:i,method:c,body:u,signal:d}=n;let h={},{region:p}=n;p||(p=this.region);const g=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let w;u&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(h["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(h["Content-Type"]="application/json",w=JSON.stringify(u)):w=u;const v=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),i),body:w,signal:d}).catch(C=>{throw C.name==="AbortError"?C:new P1(C)}),S=v.headers.get("x-relay-error");if(S&&S==="true")throw new O1(v);if(!v.ok)throw new L1(v);let x=((a=v.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),_;return x==="application/json"?_=yield v.json():x==="application/octet-stream"||x==="application/pdf"?_=yield v.blob():x==="text/event-stream"?_=v:x==="multipart/form-data"?_=yield v.formData():_=yield v.text(),{data:_,error:null,response:v}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new P1(i)}:{data:null,error:i,response:i instanceof L1||i instanceof O1?i.context:void 0}}})}}var ja={};const yd=db(sS);var wf={},_f={},Nf={},jf={},Sf={},uS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},hd=uS();const dS=hd.fetch,tx=hd.fetch.bind(hd),rx=hd.Headers,hS=hd.Request,fS=hd.Response,tu=Object.freeze(Object.defineProperty({__proto__:null,Headers:rx,Request:hS,Response:fS,default:tx,fetch:dS},Symbol.toStringTag,{value:"Module"})),pS=db(tu);var Ef={},T1;function nx(){if(T1)return Ef;T1=1,Object.defineProperty(Ef,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Ef.default=t,Ef}var R1;function ax(){if(R1)return Sf;R1=1,Object.defineProperty(Sf,"__esModule",{value:!0});const t=yd,e=t.__importDefault(pS),r=t.__importDefault(nx());class n{constructor(i){var c,u;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(c=i.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=i.signal,this.isMaybeSingle=(u=i.isMaybeSingle)!==null&&u!==void 0?u:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,c){return this.headers=new Headers(this.headers),this.headers.set(i,c),this}then(i,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var p,g,w,v;let S=null,x=null,_=null,C=h.status,L=h.statusText;if(h.ok){if(this.method!=="HEAD"){const J=await h.text();J===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?x=J:x=JSON.parse(J))}const R=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),H=(w=h.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");R&&H&&H.length>1&&(_=parseInt(H[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(S={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,_=null,C=406,L="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const R=await h.text();try{S=JSON.parse(R),Array.isArray(S)&&h.status===404&&(x=[],S=null,C=200,L="OK")}catch{h.status===404&&R===""?(C=204,L="No Content"):S={message:R}}if(S&&this.isMaybeSingle&&(!((v=S?.details)===null||v===void 0)&&v.includes("0 rows"))&&(S=null,C=200,L="OK"),S&&this.shouldThrowOnError)throw new r.default(S)}return{error:S,data:x,count:_,status:C,statusText:L}});return this.shouldThrowOnError||(d=d.catch(h=>{var p,g,w;return{error:{message:`${(p=h?.name)!==null&&p!==void 0?p:"FetchError"}: ${h?.message}`,details:`${(g=h?.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(w=h?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),d.then(i,c)}returns(){return this}overrideTypes(){return this}}return Sf.default=n,Sf}var D1;function sx(){if(D1)return jf;D1=1,Object.defineProperty(jf,"__esModule",{value:!0});const e=yd.__importDefault(ax());class r extends e.default{select(a){let i=!1;const c=(a??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:c,foreignTable:u,referencedTable:d=u}={}){const h=d?`${d}.order`:"order",p=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${p?`${p},`:""}${a}.${i?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:c=i}={}){const u=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${a}`),this}range(a,i,{foreignTable:c,referencedTable:u=c}={}){const d=typeof u>"u"?"offset":`${u}.offset`,h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${a}`),this.url.searchParams.set(h,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:c=!1,buffers:u=!1,wal:d=!1,format:h="text"}={}){var p;const g=[a?"analyze":null,i?"verbose":null,c?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),w=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${w}"; options=${g};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return jf.default=r,jf}var I1;function Ov(){if(I1)return Nf;I1=1,Object.defineProperty(Nf,"__esModule",{value:!0});const e=yd.__importDefault(sx()),r=new RegExp("[,()]");class n extends e.default{eq(i,c){return this.url.searchParams.append(i,`eq.${c}`),this}neq(i,c){return this.url.searchParams.append(i,`neq.${c}`),this}gt(i,c){return this.url.searchParams.append(i,`gt.${c}`),this}gte(i,c){return this.url.searchParams.append(i,`gte.${c}`),this}lt(i,c){return this.url.searchParams.append(i,`lt.${c}`),this}lte(i,c){return this.url.searchParams.append(i,`lte.${c}`),this}like(i,c){return this.url.searchParams.append(i,`like.${c}`),this}likeAllOf(i,c){return this.url.searchParams.append(i,`like(all).{${c.join(",")}}`),this}likeAnyOf(i,c){return this.url.searchParams.append(i,`like(any).{${c.join(",")}}`),this}ilike(i,c){return this.url.searchParams.append(i,`ilike.${c}`),this}ilikeAllOf(i,c){return this.url.searchParams.append(i,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(i,c){return this.url.searchParams.append(i,`ilike(any).{${c.join(",")}}`),this}is(i,c){return this.url.searchParams.append(i,`is.${c}`),this}in(i,c){const u=Array.from(new Set(c)).map(d=>typeof d=="string"&&r.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(i,`in.(${u})`),this}contains(i,c){return typeof c=="string"?this.url.searchParams.append(i,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(i,`cs.{${c.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(c)}`),this}containedBy(i,c){return typeof c=="string"?this.url.searchParams.append(i,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(i,`cd.{${c.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(c)}`),this}rangeGt(i,c){return this.url.searchParams.append(i,`sr.${c}`),this}rangeGte(i,c){return this.url.searchParams.append(i,`nxl.${c}`),this}rangeLt(i,c){return this.url.searchParams.append(i,`sl.${c}`),this}rangeLte(i,c){return this.url.searchParams.append(i,`nxr.${c}`),this}rangeAdjacent(i,c){return this.url.searchParams.append(i,`adj.${c}`),this}overlaps(i,c){return typeof c=="string"?this.url.searchParams.append(i,`ov.${c}`):this.url.searchParams.append(i,`ov.{${c.join(",")}}`),this}textSearch(i,c,{config:u,type:d}={}){let h="";d==="plain"?h="pl":d==="phrase"?h="ph":d==="websearch"&&(h="w");const p=u===void 0?"":`(${u})`;return this.url.searchParams.append(i,`${h}fts${p}.${c}`),this}match(i){return Object.entries(i).forEach(([c,u])=>{this.url.searchParams.append(c,`eq.${u}`)}),this}not(i,c,u){return this.url.searchParams.append(i,`not.${c}.${u}`),this}or(i,{foreignTable:c,referencedTable:u=c}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${i})`),this}filter(i,c,u){return this.url.searchParams.append(i,`${c}.${u}`),this}}return Nf.default=n,Nf}var F1;function ox(){if(F1)return _f;F1=1,Object.defineProperty(_f,"__esModule",{value:!0});const e=yd.__importDefault(Ov());class r{constructor(a,{headers:i={},schema:c,fetch:u}){this.url=a,this.headers=new Headers(i),this.schema=c,this.fetch=u}select(a,i){const{head:c=!1,count:u}=i??{},d=c?"HEAD":"GET";let h=!1;const p=(a??"*").split("").map(g=>/\s/.test(g)&&!h?"":(g==='"'&&(h=!h),g)).join("");return this.url.searchParams.set("select",p),u&&this.headers.append("Prefer",`count=${u}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:c=!0}={}){var u;const d="POST";if(i&&this.headers.append("Prefer",`count=${i}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const h=a.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(h.length>0){const p=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:c=!1,count:u,defaultToNull:d=!0}={}){var h;const p="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const g=a.reduce((w,v)=>w.concat(Object.keys(v)),[]);if(g.length>0){const w=[...new Set(g)].map(v=>`"${v}"`);this.url.searchParams.set("columns",w.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(a,{count:i}={}){var c;const u="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:a}={}){var i;const c="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return _f.default=r,_f}var M1;function mS(){if(M1)return wf;M1=1,Object.defineProperty(wf,"__esModule",{value:!0});const t=yd,e=t.__importDefault(ox()),r=t.__importDefault(Ov());class n{constructor(i,{headers:c={},schema:u,fetch:d}={}){this.url=i,this.headers=new Headers(c),this.schemaName=u,this.fetch=d}from(i){const c=new URL(`${this.url}/${i}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,c={},{head:u=!1,get:d=!1,count:h}={}){var p;let g;const w=new URL(`${this.url}/rpc/${i}`);let v;u||d?(g=u?"HEAD":"GET",Object.entries(c).filter(([x,_])=>_!==void 0).map(([x,_])=>[x,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([x,_])=>{w.searchParams.append(x,_)})):(g="POST",v=c);const S=new Headers(this.headers);return h&&S.set("Prefer",`count=${h}`),new r.default({method:g,url:w,headers:S,schema:this.schemaName,body:v,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return wf.default=n,wf}var z1;function gS(){if(z1)return ja;z1=1,Object.defineProperty(ja,"__esModule",{value:!0}),ja.PostgrestError=ja.PostgrestBuilder=ja.PostgrestTransformBuilder=ja.PostgrestFilterBuilder=ja.PostgrestQueryBuilder=ja.PostgrestClient=void 0;const t=yd,e=t.__importDefault(mS());ja.PostgrestClient=e.default;const r=t.__importDefault(ox());ja.PostgrestQueryBuilder=r.default;const n=t.__importDefault(Ov());ja.PostgrestFilterBuilder=n.default;const a=t.__importDefault(sx());ja.PostgrestTransformBuilder=a.default;const i=t.__importDefault(ax());ja.PostgrestBuilder=i.default;const c=t.__importDefault(nx());return ja.PostgrestError=c.default,ja.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:c.default},ja}var ix=gS();const lx=bv(ix),vS=ub({__proto__:null,default:lx},[ix]),{PostgrestClient:yS,PostgrestQueryBuilder:JR,PostgrestFilterBuilder:XR,PostgrestTransformBuilder:QR,PostgrestBuilder:ZR,PostgrestError:eD}=lx||vS;class bS{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const xS="2.77.0",wS=`realtime-js/${xS}`,_S="1.0.0",Rg=1e4,NS=1e3,jS=100;var oh;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(oh||(oh={}));var Xn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Xn||(Xn={}));var jo;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(jo||(jo={}));var Dg;(function(t){t.websocket="websocket"})(Dg||(Dg={}));var $c;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})($c||($c={}));class SS{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const a=r.getUint8(1),i=r.getUint8(2);let c=this.HEADER_LENGTH+2;const u=n.decode(e.slice(c,c+a));c=c+a;const d=n.decode(e.slice(c,c+i));c=c+i;const h=JSON.parse(n.decode(e.slice(c,e.byteLength)));return{ref:null,topic:u,event:d,payload:h}}}class cx{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Hr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Hr||(Hr={}));const B1=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,c)=>(i[c]=ES(c,t,e,a),i),{}):{}},ES=(t,e,r,n)=>{const a=e.find(u=>u.name===t),i=a?.type,c=r[t];return i&&!n.includes(i)?ux(i,c):Ig(c)},ux=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return PS(e,r)}switch(t){case Hr.bool:return CS(e);case Hr.float4:case Hr.float8:case Hr.int2:case Hr.int4:case Hr.int8:case Hr.numeric:case Hr.oid:return AS(e);case Hr.json:case Hr.jsonb:return kS(e);case Hr.timestamp:return OS(e);case Hr.abstime:case Hr.date:case Hr.daterange:case Hr.int4range:case Hr.int8range:case Hr.money:case Hr.reltime:case Hr.text:case Hr.time:case Hr.timestamptz:case Hr.timetz:case Hr.tsrange:case Hr.tstzrange:return Ig(e);default:return Ig(e)}},Ig=t=>t,CS=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},AS=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},kS=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},PS=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const c=t.slice(1,r);try{i=JSON.parse("["+c+"]")}catch{i=c?c.split(","):[]}return i.map(u=>ux(e,u))}return t},OS=t=>typeof t=="string"?t.replace(" ","T"):t,dx=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Im{constructor(e,r,n={},a=Rg){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var U1;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(U1||(U1={}));class ih{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:c,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ih.syncState(this.state,a,i,c),this.pendingDiffs.forEach(d=>{this.state=ih.syncDiff(this.state,d,i,c)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:c,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ih.syncDiff(this.state,a,i,c),u())}),this.onJoin((a,i,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:c})}),this.onLeave((a,i,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const i=this.cloneDeep(e),c=this.transformState(r),u={},d={};return this.map(i,(h,p)=>{c[h]||(d[h]=p)}),this.map(c,(h,p)=>{const g=i[h];if(g){const w=p.map(_=>_.presence_ref),v=g.map(_=>_.presence_ref),S=p.filter(_=>v.indexOf(_.presence_ref)<0),x=g.filter(_=>w.indexOf(_.presence_ref)<0);S.length>0&&(u[h]=S),x.length>0&&(d[h]=x)}else u[h]=p}),this.syncDiff(i,{joins:u,leaves:d},n,a)}static syncDiff(e,r,n,a){const{joins:i,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(u,d)=>{var h;const p=(h=e[u])!==null&&h!==void 0?h:[];if(e[u]=this.cloneDeep(d),p.length>0){const g=e[u].map(v=>v.presence_ref),w=p.filter(v=>g.indexOf(v.presence_ref)<0);e[u].unshift(...w)}n(u,p,d)}),this.map(c,(u,d)=>{let h=e[u];if(!h)return;const p=d.map(g=>g.presence_ref);h=h.filter(g=>p.indexOf(g.presence_ref)<0),e[u]=h,a(u,h,d),h.length===0&&delete e[u]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var q1;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(q1||(q1={}));var lh;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(lh||(lh={}));var Qi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Qi||(Qi={}));class Lv{constructor(e,r={config:{}},n){var a,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Xn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Im(this,jo.join,this.params,this.timeout),this.rejoinTimer=new cx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Xn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Xn.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Xn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Xn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Xn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(jo.reply,{},(c,u)=>{this._trigger(this._replyEventName(u),c)}),this.presence=new ih(this),this.broadcastEndpointURL=dx(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Xn.closed){const{config:{broadcast:c,presence:u,private:d}}=this.params,h=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&a!==void 0?a:[],p=!!this.bindings[lh.PRESENCE]&&this.bindings[lh.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,g={},w={broadcast:c,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:h,private:d};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(v=>e?.(Qi.CHANNEL_ERROR,v)),this._onClose(()=>e?.(Qi.CLOSED)),this.updateJoinPayload(Object.assign({config:w},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var S;if(this.socket.setAuth(),v===void 0){e?.(Qi.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,_=(S=x?.length)!==null&&S!==void 0?S:0,C=[];for(let L=0;L<_;L++){const T=x[L],{filter:{event:R,schema:H,table:J,filter:Q}}=T,D=v&&v[L];if(D&&D.event===R&&D.schema===H&&D.table===J&&D.filter===Q)C.push(Object.assign(Object.assign({},T),{id:D.id}));else{this.unsubscribe(),this.state=Xn.errored,e?.(Qi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(Qi.SUBSCRIBED);return}}).receive("error",v=>{this.state=Xn.errored,e?.(Qi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e?.(Qi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Xn.joined&&e===lh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const h=await u.json();d=h.error||h.message||d}catch{}return Promise.reject(new Error(d))}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:c}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:c,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=h.body)===null||a===void 0?void 0:a.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var c,u,d;const h=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(u=(c=this.params)===null||c===void 0?void 0:c.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&i("ok"),h.receive("ok",()=>i("ok")),h.receive("error",()=>i("error")),h.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Xn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(jo.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Im(this,jo.leave,{},e),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Xn.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),c=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),c}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Im(this,e,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>jS){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,i;const c=e.toLocaleLowerCase(),{close:u,error:d,leave:h,join:p}=jo;if(n&&[u,d,h,p].indexOf(c)>=0&&n!==this._joinRef())return;let w=this._onMessage(c,r,n);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(v=>{var S,x,_;return((S=v.filter)===null||S===void 0?void 0:S.event)==="*"||((_=(x=v.filter)===null||x===void 0?void 0:x.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===c}).map(v=>v.callback(w,n)):(i=this.bindings[c])===null||i===void 0||i.filter(v=>{var S,x,_,C,L,T;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in v){const R=v.id,H=(S=v.filter)===null||S===void 0?void 0:S.event;return R&&((x=r.ids)===null||x===void 0?void 0:x.includes(R))&&(H==="*"||H?.toLocaleLowerCase()===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const R=(L=(C=v?.filter)===null||C===void 0?void 0:C.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return R==="*"||R===((T=r?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===c}).map(v=>{if(typeof w=="object"&&"ids"in w){const S=w.data,{schema:x,table:_,commit_timestamp:C,type:L,errors:T}=S;w=Object.assign(Object.assign({},{schema:x,table:_,commit_timestamp:C,eventType:L,new:{},old:{},errors:T}),this._getPayloadRecords(S))}v.callback(w,n)})}_isClosed(){return this.state===Xn.closed}_isJoined(){return this.state===Xn.joined}_isJoining(){return this.state===Xn.joining}_isLeaving(){return this.state===Xn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Lv.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(jo.close,{},e)}_onError(e){this._on(jo.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Xn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=B1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=B1(e.columns,e.old_record)),r}}const Fm=()=>{},Cf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},LS=[1e3,2e3,5e3,1e4],TS=1e4,RS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class DS{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Rg,this.transport=null,this.heartbeatIntervalMs=Cf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fm,this.ref=0,this.reconnectTimer=null,this.logger=Fm,this.conn=null,this.sendBuffer=[],this.serializer=new SS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...c)=>oi(async()=>{const{default:u}=await Promise.resolve().then(()=>tu);return{default:u}},void 0).then(({default:u})=>u(...c)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...c)=>i(...c)},!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Dg.websocket}`,this.httpEndpoint=dx(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=bS.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:_S}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case oh.connecting:return $c.Connecting;case oh.open:return $c.Open;case oh.closing:return $c.Closing;default:return $c.Closed}}isConnected(){return this.connectionState()===$c.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Lv(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:a,ref:i}=e,c=()=>{this.encode(e,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(NS,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Cf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:c}=r,u=c?`(${c})`:"",d=i.status||"";this.log("receive",`${d} ${n} ${a} ${u}`.trim(),i),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(a,i,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(jo.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([RS],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:wS};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(jo.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new cx(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Cf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,a,i,c,u,d,h,p;if(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:Rg,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:Cf.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(u=e?.heartbeatCallback)!==null&&u!==void 0?u:Fm,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e?.reconnectAfterMs)!==null&&d!==void 0?d:(g=>LS[g-1]||TS),this.encode=(h=e?.encode)!==null&&h!==void 0?h:((g,w)=>w(JSON.stringify(g))),this.decode=(p=e?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Tv extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function mn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class IS extends Tv{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Fg extends Tv{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Rv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>oi(async()=>{const{default:n}=await Promise.resolve().then(()=>tu);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},FS=()=>Mt(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield oi(()=>Promise.resolve().then(()=>tu),void 0)).Response:Response}),Mg=t=>{if(Array.isArray(t))return t.map(r=>Mg(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=Mg(n)}),e},MS=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Mm=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),zS=(t,e,r)=>Mt(void 0,void 0,void 0,function*(){const n=yield FS();t instanceof n&&!r?.noResolveJson?t.json().then(a=>{const i=t.status||500,c=a?.statusCode||i+"";e(new IS(Mm(a),i,c))}).catch(a=>{e(new Fg(Mm(a),a))}):e(new Fg(Mm(t),t))}),BS=(t,e,r,n)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"||!n?a:(MS(n)?(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(n)):a.body=n,e?.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),r))};function Lh(t,e,r,n,a,i){return Mt(this,void 0,void 0,function*(){return new Promise((c,u)=>{t(r,BS(e,n,a,i)).then(d=>{if(!d.ok)throw d;return n?.noResolveJson?d:d.json()}).then(d=>c(d)).catch(d=>zS(d,u,n))})})}function vh(t,e,r,n){return Mt(this,void 0,void 0,function*(){return Lh(t,"GET",e,r,n)})}function No(t,e,r,n,a){return Mt(this,void 0,void 0,function*(){return Lh(t,"POST",e,n,a,r)})}function zg(t,e,r,n,a){return Mt(this,void 0,void 0,function*(){return Lh(t,"PUT",e,n,a,r)})}function US(t,e,r,n){return Mt(this,void 0,void 0,function*(){return Lh(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Dv(t,e,r,n,a){return Mt(this,void 0,void 0,function*(){return Lh(t,"DELETE",e,n,a,r)})}class qS{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return Mt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(mn(e))return{data:null,error:e};throw e}})}}var hx;class $S{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[hx]="BlobDownloadBuilder",this.promise=null}asStream(){return new qS(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Mt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(mn(e))return{data:null,error:e};throw e}})}}hx=Symbol.toStringTag;const VS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class WS{constructor(e,r={},n,a){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=Rv(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,a){return Mt(this,void 0,void 0,function*(){try{let i;const c=Object.assign(Object.assign({},$1),a);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const d=c.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",c.cacheControl),d&&i.append("metadata",this.encodeMetadata(d)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",c.cacheControl),d&&i.append("metadata",this.encodeMetadata(d))):(i=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),a?.headers&&(u=Object.assign(Object.assign({},u),a.headers));const h=this._removeEmptyFolders(r),p=this._getFinalPath(h),g=yield(e=="PUT"?zg:No)(this.fetch,`${this.url}/object/${p}`,i,Object.assign({headers:u},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:h,id:g.Id,fullPath:g.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(mn(i))return{data:null,error:i};throw i}})}upload(e,r,n){return Mt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,a){return Mt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),c=this._getFinalPath(i),u=new URL(this.url+`/object/upload/sign/${c}`);u.searchParams.set("token",r);try{let d;const h=Object.assign({upsert:$1.upsert},a),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",h.cacheControl)):(d=n,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType);const g=yield zg(this.fetch,u.toString(),d,{headers:p});return{data:{path:i,fullPath:g.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(mn(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,r){return Mt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);r?.upsert&&(a["x-upsert"]="true");const i=yield No(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),c=new URL(this.url+i.url),u=c.searchParams.get("token");if(!u)throw new Tv("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:u},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mn(n))return{data:null,error:n};throw n}})}update(e,r,n){return Mt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Mt(this,void 0,void 0,function*(){try{return{data:yield No(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mn(a))return{data:null,error:a};throw a}})}copy(e,r,n){return Mt(this,void 0,void 0,function*(){try{return{data:{path:(yield No(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mn(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,n){return Mt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),i=yield No(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const c=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${c}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mn(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,n){return Mt(this,void 0,void 0,function*(){try{const a=yield No(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mn(a))return{data:null,error:a};throw a}})}download(e,r){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(r?.transform||{}),c=i?`?${i}`:"",u=this._getFinalPath(e),d=()=>vh(this.fetch,`${this.url}/${a}/${u}${c}`,{headers:this.headers,noResolveJson:!0});return new $S(d,this.shouldThrowOnError)}info(e){return Mt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield vh(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Mg(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mn(n))return{data:null,error:n};throw n}})}exists(e){return Mt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield US(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mn(n)&&n instanceof Fg){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),a=[],i=r?.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const u=typeof r?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(r?.transform||{});d!==""&&a.push(d);let h=a.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${h}`)}}}remove(e){return Mt(this,void 0,void 0,function*(){try{return{data:yield Dv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mn(r))return{data:null,error:r};throw r}})}list(e,r,n){return Mt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},VS),r),{prefix:e||""});return{data:yield No(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mn(a))return{data:null,error:a};throw a}})}listV2(e,r){return Mt(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield No(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mn(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const fx="2.77.0",px={"X-Client-Info":`storage-js/${fx}`};class HS{constructor(e,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(e);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},px),r),this.fetch=Rv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Mt(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield vh(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mn(r))return{data:null,error:r};throw r}})}getBucket(e){return Mt(this,void 0,void 0,function*(){try{return{data:yield vh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mn(r))return{data:null,error:r};throw r}})}createBucket(e){return Mt(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield No(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(mn(a))return{data:null,error:a};throw a}})}updateBucket(e,r){return Mt(this,void 0,void 0,function*(){try{return{data:yield zg(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Mt(this,void 0,void 0,function*(){try{return{data:yield No(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Mt(this,void 0,void 0,function*(){try{return{data:yield Dv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mn(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class GS{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},px),r),this.fetch=Rv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Mt(this,void 0,void 0,function*(){try{return{data:yield No(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mn(r))return{data:null,error:r};throw r}})}listBuckets(e){return Mt(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield vh(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Mt(this,void 0,void 0,function*(){try{return{data:yield Dv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mn(r))return{data:null,error:r};throw r}})}}const Iv={"X-Client-Info":`storage-js/${fx}`,"Content-Type":"application/json"};class mx extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function As(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class zm extends mx{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class KS extends mx{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var V1;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(V1||(V1={}));const Fv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>oi(async()=>{const{default:n}=await Promise.resolve().then(()=>tu);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},YS=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},W1=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),JS=(t,e,r)=>Mt(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const a=t.status||500,i=t;if(typeof i.json=="function")i.json().then(c=>{const u=c?.statusCode||c?.code||a+"";e(new zm(W1(c),a,u))}).catch(()=>{const c=a+"",u=i.statusText||`HTTP ${a} error`;e(new zm(u,a,c))});else{const c=a+"",u=i.statusText||`HTTP ${a} error`;e(new zm(u,a,c))}}else e(new KS(W1(t),t))}),XS=(t,e,r,n)=>{const a={method:t,headers:e?.headers||{}};return n?(YS(n)?(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function QS(t,e,r,n,a,i){return Mt(this,void 0,void 0,function*(){return new Promise((c,u)=>{t(r,XS(e,n,a,i)).then(d=>{if(!d.ok)throw d;if(n?.noResolveJson)return d;const h=d.headers.get("content-type");return!h||!h.includes("application/json")?{}:d.json()}).then(d=>c(d)).catch(d=>JS(d,u,n))})})}function ks(t,e,r,n,a){return Mt(this,void 0,void 0,function*(){return QS(t,"POST",e,n,a,r)})}class ZS{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Iv),r),this.fetch=Fv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Mt(this,void 0,void 0,function*(){try{return{data:(yield ks(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(As(r))return{data:null,error:r};throw r}})}getIndex(e,r){return Mt(this,void 0,void 0,function*(){try{return{data:yield ks(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(As(n))return{data:null,error:n};throw n}})}listIndexes(e){return Mt(this,void 0,void 0,function*(){try{return{data:yield ks(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(As(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return Mt(this,void 0,void 0,function*(){try{return{data:(yield ks(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(As(n))return{data:null,error:n};throw n}})}}class e4{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Iv),r),this.fetch=Fv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Mt(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ks(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(As(r))return{data:null,error:r};throw r}})}getVectors(e){return Mt(this,void 0,void 0,function*(){try{return{data:yield ks(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(As(r))return{data:null,error:r};throw r}})}listVectors(e){return Mt(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield ks(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(As(r))return{data:null,error:r};throw r}})}queryVectors(e){return Mt(this,void 0,void 0,function*(){try{return{data:yield ks(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(As(r))return{data:null,error:r};throw r}})}deleteVectors(e){return Mt(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ks(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(As(r))return{data:null,error:r};throw r}})}}class t4{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Iv),r),this.fetch=Fv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Mt(this,void 0,void 0,function*(){try{return{data:(yield ks(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(As(r))return{data:null,error:r};throw r}})}getBucket(e){return Mt(this,void 0,void 0,function*(){try{return{data:yield ks(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(As(r))return{data:null,error:r};throw r}})}listBuckets(){return Mt(this,arguments,void 0,function*(e={}){try{return{data:yield ks(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(As(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Mt(this,void 0,void 0,function*(){try{return{data:(yield ks(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(As(r))return{data:null,error:r};throw r}})}}class r4 extends t4{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new n4(this.url,this.headers,e,this.fetch)}}class n4 extends ZS{constructor(e,r,n,a){super(e,r,a),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Mt(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Mt(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Mt(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Mt(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new a4(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class a4 extends e4{constructor(e,r,n,a,i){super(e,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Mt(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Mt(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Mt(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Mt(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Mt(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class s4 extends HS{constructor(e,r={},n,a){super(e,r,n,a)}from(e){return new WS(this.url,this.headers,e,this.fetch)}get vectors(){return new r4(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new GS(this.url+"/iceberg",this.headers,this.fetch)}}const o4="2.77.0";let ah="";typeof Deno<"u"?ah="deno":typeof document<"u"?ah="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ah="react-native":ah="node";const i4={"X-Client-Info":`supabase-js-${ah}/${o4}`},l4={headers:i4},c4={schema:"public"},u4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},d4={},h4=t=>{let e;return t?e=t:typeof fetch>"u"?e=tx:e=fetch,(...r)=>e(...r)},f4=()=>typeof Headers>"u"?rx:Headers,p4=(t,e,r)=>{const n=h4(r),a=f4();return async(i,c)=>{var u;const d=(u=await e())!==null&&u!==void 0?u:t;let h=new a(c?.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),n(i,Object.assign(Object.assign({},c),{headers:h}))}};function m4(t){return t.endsWith("/")?t:t+"/"}function g4(t,e){var r,n;const{db:a,auth:i,realtime:c,global:u}=t,{db:d,auth:h,realtime:p,global:g}=e,w={db:Object.assign(Object.assign({},d),a),auth:Object.assign(Object.assign({},h),i),realtime:Object.assign(Object.assign({},p),c),storage:{},global:Object.assign(Object.assign(Object.assign({},g),u),{headers:Object.assign(Object.assign({},(r=g?.headers)!==null&&r!==void 0?r:{}),(n=u?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}function v4(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(m4(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const gx="2.77.0",Ku=30*1e3,Bg=3,Bm=Bg*Ku,y4="http://localhost:9999",b4="supabase.auth.token",x4={"X-Client-Info":`gotrue-js/${gx}`},Ug="X-Supabase-Api-Version",vx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},w4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_4=600*1e3;class yh extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Vt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class N4 extends yh{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function j4(t){return Vt(t)&&t.name==="AuthApiError"}class Vc extends yh{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class ic extends yh{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class Kl extends ic{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function S4(t){return Vt(t)&&t.name==="AuthSessionMissingError"}class Iu extends ic{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Af extends ic{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class kf extends ic{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function E4(t){return Vt(t)&&t.name==="AuthImplicitGrantRedirectError"}class H1 extends ic{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qg extends ic{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Um(t){return Vt(t)&&t.name==="AuthRetryableFetchError"}class G1 extends ic{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class $g extends ic{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const lp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),K1=` 	
\r=`.split(""),C4=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<K1.length;e+=1)t[K1[e].charCodeAt(0)]=-2;for(let e=0;e<lp.length;e+=1)t[lp[e].charCodeAt(0)]=e;return t})();function Y1(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(lp[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(lp[n]),e.queuedBits-=6}}function yx(t,e,r){const n=C4[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function J1(t){const e=[],r=c=>{e.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=c=>{P4(c,n,r)};for(let c=0;c<t.length;c+=1)yx(t.charCodeAt(c),a,i);return e.join("")}function A4(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function k4(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}A4(n,e)}}function P4(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Zu(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)yx(t.charCodeAt(a),r,n);return new Uint8Array(e)}function O4(t){const e=[];return k4(t,r=>e.push(r)),new Uint8Array(e)}function Hc(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};return t.forEach(a=>Y1(a,r,n)),Y1(null,r,n),e.join("")}function L4(t){return Math.round(Date.now()/1e3)+t}function T4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const js=()=>typeof window<"u"&&typeof document<"u",Mc={tested:!1,writable:!1},bx=()=>{if(!js())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Mc.tested)return Mc.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Mc.tested=!0,Mc.writable=!0}catch{Mc.tested=!0,Mc.writable=!1}return Mc.writable};function R4(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const xx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>oi(async()=>{const{default:n}=await Promise.resolve().then(()=>tu);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},D4=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Yu=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},zc=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ql=async(t,e)=>{await t.removeItem(e)};class kp{constructor(){this.promise=new kp.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}kp.promiseConstructor=Promise;function qm(t){const e=t.split(".");if(e.length!==3)throw new $g("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!w4.test(e[n]))throw new $g("JWT not in base64url format");return{header:JSON.parse(J1(e[0])),payload:JSON.parse(J1(e[1])),signature:Zu(e[2]),raw:{header:e[0],payload:e[1]}}}async function I4(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function F4(t,e){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const c=await t(i);if(!e(i,null,c)){n(c);return}}catch(c){if(!e(i,c)){a(c);return}}})()})}function M4(t){return("0"+t.toString(16)).substr(-2)}function z4(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,M4).join("")}async function B4(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function U4(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await B4(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fu(t,e,r=!1){const n=z4();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Yu(t,`${e}-code-verifier`,a);const i=await U4(n);return[i,n===i?"plain":"s256"]}const q4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $4(t){const e=t.headers.get(Ug);if(!e||!e.match(q4))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function V4(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function W4(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const H4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Mu(t){if(!H4.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $m(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function X1(t){return JSON.parse(JSON.stringify(t))}const Uc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),G4=[502,503,504];async function Q1(t){var e;if(!D4(t))throw new qg(Uc(t),0);if(G4.includes(t.status))throw new qg(Uc(t),t.status);let r;try{r=await t.json()}catch(i){throw new Vc(Uc(i),i)}let n;const a=$4(t);if(a&&a.getTime()>=vx["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new G1(Uc(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Kl}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,c)=>i&&typeof c=="string",!0))throw new G1(Uc(r),t.status,r.weak_password.reasons);throw new N4(Uc(r),t.status||500,n)}const K4=(t,e,r,n)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function rr(t,e,r,n){var a;const i=Object.assign({},n?.headers);i[Ug]||(i[Ug]=vx["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const c=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(c.redirect_to=n.redirectTo);const u=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",d=await Y4(t,e,r+u,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(d):{data:Object.assign({},d),error:null}}async function Y4(t,e,r,n,a,i){const c=K4(e,n,a,i);let u;try{u=await t(r,Object.assign({},c))}catch(d){throw console.error(d),new qg(Uc(d),0)}if(u.ok||await Q1(u),n?.noResolveJson)return u;try{return await u.json()}catch(d){await Q1(d)}}function wo(t){var e;let r=null;Q4(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=L4(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Z1(t){const e=wo(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Xl(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function J4(t){return{data:t,error:null}}function X4(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=t,c=oc(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},d=Object.assign({},c);return{data:{properties:u,user:d},error:null}}function e2(t){return t}function Q4(t){return t.access_token&&t.refresh_token&&t.expires_in}const Vm=["global","local","others"];class Z4{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=xx(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Vm[0]){if(Vm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Vm.join(", ")}`);try{return await rr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Vt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await rr(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Xl})}catch(n){if(Vt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=oc(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await rr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:X4,redirectTo:r?.redirectTo})}catch(r){if(Vt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await rr(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Xl})}catch(r){if(Vt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,i,c,u,d;try{const h={nextPage:null,lastPage:0,total:0},p=await rr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:e2});if(p.error)throw p.error;const g=await p.json(),w=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,v=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(S=>{const x=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(S.split(";")[1].split("=")[1]);h[`${_}Page`]=x}),h.total=parseInt(w)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Vt(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){Mu(e);try{return await rr(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Xl})}catch(r){if(Vt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Mu(e);try{return await rr(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Xl})}catch(n){if(Vt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Mu(e);try{return await rr(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Xl})}catch(n){if(Vt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Mu(e.userId);try{const{data:r,error:n}=await rr(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Vt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Mu(e.userId),Mu(e.id);try{return{data:await rr(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Vt(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,a,i,c,u,d;try{const h={nextPage:null,lastPage:0,total:0},p=await rr(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:e2});if(p.error)throw p.error;const g=await p.json(),w=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,v=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(S=>{const x=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(S.split(";")[1].split("=")[1]);h[`${_}Page`]=x}),h.total=parseInt(w)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Vt(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await rr(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Vt(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await rr(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Vt(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await rr(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Vt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await rr(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Vt(r))return{data:null,error:r};throw r}}}function t2(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const zu={debug:!!(globalThis&&bx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wx extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class e3 extends wx{}async function t3(t,e,r){zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),zu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new e3(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(zu.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function r3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function _x(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function n3(t){return parseInt(t,16)}function a3(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function s3(t){var e;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:c,notBefore:u,requestId:d,resources:h,scheme:p,uri:g,version:w}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=_x(t.address),S=p?`${p}://${n}`:n,x=t.statement?`${t.statement}
`:"",_=`${S} wants you to sign in with your Ethereum account:
${v}

${x}`;let C=`URI: ${g}
Version: ${w}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${i.toISOString()}`;if(a&&(C+=`
Expiration Time: ${a.toISOString()}`),u&&(C+=`
Not Before: ${u.toISOString()}`),d&&(C+=`
Request ID: ${d}`),h){let L=`
Resources:`;for(const T of h){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);L+=`
- ${T}`}C+=L}return`${_}
${C}`}class Vn extends Error{constructor({message:e,code:r,cause:n,name:a}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class cp extends Vn{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function o3({error:t,options:e}){var r,n,a;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Vn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Vn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Vn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Vn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Vn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Vn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Vn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Vn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(Nx(c)){if(i.rp.id!==c)return new Vn({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Vn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Vn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Vn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Vn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function i3({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Vn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Vn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Nx(n)){if(r.rpId!==n)return new Vn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Vn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Vn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Vn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class l3{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const c3=new l3;function u3(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,a=oc(t,["challenge","user","excludeCredentials"]),i=Zu(e).buffer,c=Object.assign(Object.assign({},r),{id:Zu(r.id).buffer}),u=Object.assign(Object.assign({},a),{challenge:i,user:c});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const h=n[d];u.excludeCredentials[d]=Object.assign(Object.assign({},h),{id:Zu(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function d3(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=oc(t,["challenge","allowCredentials"]),a=Zu(e).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];i.allowCredentials[c]=Object.assign(Object.assign({},u),{id:Zu(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return i}function h3(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Hc(new Uint8Array(t.response.attestationObject)),clientDataJSON:Hc(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function f3(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Hc(new Uint8Array(a.authenticatorData)),clientDataJSON:Hc(new Uint8Array(a.clientDataJSON)),signature:Hc(new Uint8Array(a.signature)),userHandle:a.userHandle?Hc(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Nx(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function r2(){var t,e;return!!(js()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function p3(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new cp("Browser returned unexpected credential type",e)}:{data:null,error:new cp("Empty credential response",e)}}catch(e){return{data:null,error:o3({error:e,options:t})}}}async function m3(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new cp("Browser returned unexpected credential type",e)}:{data:null,error:new cp("Empty credential response",e)}}catch(e){return{data:null,error:i3({error:e,options:t})}}}const g3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},v3={userVerification:"preferred",hints:["security-key"]};function up(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of t)if(a)for(const i in a){const c=a[i];if(c!==void 0)if(Array.isArray(c))n[i]=c;else if(r(c))n[i]=c;else if(e(c)){const u=n[i];e(u)?n[i]=up(u,c):n[i]=up(c)}else n[i]=c}return n}function y3(t,e){return up(g3,t,e||{})}function b3(t,e){return up(v3,t,e||{})}class x3{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:a},i){try{const{data:c,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!c)return{data:null,error:u};const d=a??c3.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:h}=c.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${n}`),h.displayName||(h.displayName=h.name)}switch(c.webauthn.type){case"create":{const h=y3(c.webauthn.credential_options.publicKey,i?.create),{data:p,error:g}=await p3({publicKey:h,signal:d});return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}case"request":{const h=b3(c.webauthn.credential_options.publicKey,i?.request),{data:p,error:g}=await m3(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:h,signal:d}));return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}}}catch(c){return Vt(c)?{data:null,error:c}:{data:null,error:new Vc("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new yh("rpId is required for WebAuthn authentication")};try{if(!r2())return{data:null,error:new Vc("Browser does not support WebAuthn",null)};const{data:c,error:u}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!c)return{data:null,error:u};const{webauthn:d}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(c){return Vt(c)?{data:null,error:c}:{data:null,error:new Vc("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new yh("rpId is required for WebAuthn registration")};try{if(!r2())return{data:null,error:new Vc("Browser does not support WebAuthn",null)};const{data:c,error:u}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(p=>{var g;return(g=p.data)===null||g===void 0?void 0:g.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:u};const{data:d,error:h}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return d?this._verify({factorId:c.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:h}}catch(c){return Vt(c)?{data:null,error:c}:{data:null,error:new Vc("Unexpected error in register",c)}}}}r3();const w3={url:y4,storageKey:b4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:x4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function n2(t,e,r){return await r()}const Bu={};class bh{get jwks(){var e,r;return(r=(e=Bu[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Bu[this.storageKey]=Object.assign(Object.assign({},Bu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Bu[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Bu[this.storageKey]=Object.assign(Object.assign({},Bu[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=bh.nextInstanceID,bh.nextInstanceID+=1,this.instanceID>0&&js()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},w3),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Z4({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=xx(a.fetch),this.lock=a.lock||n2,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:js()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=t3:this.lock=n2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new x3(this)},this.persistSession?(a.storage?this.storage=a.storage:bx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=t2(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=t2(this.memoryStorage)),js()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${gx}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=R4(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),js()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),E4(i)){const d=(e=i.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:c,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",u),await this._saveSession(c),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Vt(r)?{error:r}:{error:new Vc("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const i=await rr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:wo}),{data:c,error:u}=i;if(u||!c)return{data:{user:null,session:null},error:u};const d=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(i){if(Vt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,a;try{let i;if("email"in e){const{email:p,password:g,options:w}=e;let v=null,S=null;this.flowType==="pkce"&&([v,S]=await Fu(this.storage,this.storageKey)),i=await rr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:p,password:g,data:(r=w?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:v,code_challenge_method:S},xform:wo})}else if("phone"in e){const{phone:p,password:g,options:w}=e;i=await rr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(n=w?.data)!==null&&n!==void 0?n:{},channel:(a=w?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:wo})}else throw new Af("You must provide either an email or phone number and a password");const{data:c,error:u}=i;if(u||!c)return{data:{user:null,session:null},error:u};const d=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(i){if(Vt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:c,options:u}=e;r=await rr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Z1})}else if("phone"in e){const{phone:i,password:c,options:u}=e;r=await rr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Z1})}else throw new Af("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Iu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Vt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,a,i,c,u,d,h,p,g,w;let v,S;if("message"in e)v=e.message,S=e.signature;else{const{chain:x,wallet:_,statement:C,options:L}=e;let T;if(js())if(typeof _=="object")T=_;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")T=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!L?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=_}const R=new URL((r=L?.url)!==null&&r!==void 0?r:window.location.href),H=await T.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!H||H.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const J=_x(H[0]);let Q=(n=L?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!Q){const $=await T.request({method:"eth_chainId"});Q=n3($)}const D={domain:R.host,address:J,statement:C,uri:R.href,version:"1",chainId:Q,nonce:(a=L?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(i=L?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(u=L?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=L?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(h=L?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(p=L?.signInWithEthereum)===null||p===void 0?void 0:p.resources};v=s3(D),S=await T.request({method:"personal_sign",params:[a3(v),J]})}try{const{data:x,error:_}=await rr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:S},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:wo});if(_)throw _;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Iu}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:_})}catch(x){if(Vt(x))return{data:{user:null,session:null},error:x};throw x}}async signInWithSolana(e){var r,n,a,i,c,u,d,h,p,g,w,v;let S,x;if("message"in e)S=e.message,x=e.signature;else{const{chain:_,wallet:C,statement:L,options:T}=e;let R;if(js())if(typeof C=="object")R=C;else{const J=window;if("solana"in J&&typeof J.solana=="object"&&("signIn"in J.solana&&typeof J.solana.signIn=="function"||"signMessage"in J.solana&&typeof J.solana.signMessage=="function"))R=J.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=C}const H=new URL((r=T?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in R&&R.signIn){const J=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:H.host,uri:H.href}),L?{statement:L}:null));let Q;if(Array.isArray(J)&&J[0]&&typeof J[0]=="object")Q=J[0];else if(J&&typeof J=="object"&&"signedMessage"in J&&"signature"in J)Q=J;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)S=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),x=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${H.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${H.href}`,`Issued At: ${(a=(n=T?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=T?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((c=T?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((u=T?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((d=T?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((h=T?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((g=(p=T?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...T.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);const J=await R.signMessage(new TextEncoder().encode(S),"utf8");if(!J||!(J instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=J}}try{const{data:_,error:C}=await rr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Hc(x)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:wo});if(C)throw C;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Iu}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:C})}catch(_){if(Vt(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const r=await zc(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:c}=await rr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:wo});if(await ql(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Iu}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:c})}catch(i){if(Vt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:i,nonce:c}=e,u=await rr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:wo}),{data:d,error:h}=u;return h?{data:{user:null,session:null},error:h}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Iu}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:h})}catch(r){if(Vt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,a,i,c;try{if("email"in e){const{email:u,options:d}=e;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await Fu(this.storage,this.storageKey));const{error:g}=await rr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(n=d?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in e){const{phone:u,options:d}=e,{data:h,error:p}=await rr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=d?.data)!==null&&a!==void 0?a:{},create_user:(i=d?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(c=d?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:h?.message_id},error:p}}throw new Af("You must provide either an email or phone number.")}catch(u){if(Vt(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var r,n;try{let a,i;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:u}=await rr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:wo});if(u)throw u;if(!c)throw new Error("An error occurred on token verification.");const d=c.session,h=c.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(a){if(Vt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var r,n,a;try{let i=null,c=null;return this.flowType==="pkce"&&([i,c]=await Fu(this.storage,this.storageKey)),await rr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:c}),headers:this.headers,xform:J4})}catch(i){if(Vt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Kl;const{error:a}=await rr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(Vt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:i}=e,{error:c}=await rr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:n,type:a,options:i}=e,{data:c,error:u}=await rr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:u}}throw new Af("You must provide either an email or phone number and a type")}catch(r){if(Vt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await zc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Bm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const c=await zc(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=$m()}if(this.storage.isServer&&e.user){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(d,h,p)=>(!c&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,h,p))})}return{data:{session:e},error:null}}const{data:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await rr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Xl}):await this._useSession(async r=>{var n,a,i;const{data:c,error:u}=r;if(u)throw u;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Kl}:await rr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Xl})})}catch(r){if(Vt(r))return S4(r)&&(await this._removeSession(),await ql(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Kl;const c=a.session;let u=null,d=null;this.flowType==="pkce"&&e.email!=null&&([u,d]=await Fu(this.storage,this.storageKey));const{data:h,error:p}=await rr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:d}),jwt:c.access_token,xform:Xl});if(p)throw p;return c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(n){if(Vt(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Kl;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:c}=qm(e.access_token);if(c.exp&&(n=c.exp,a=n<=r),a){const{data:u,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!u)return{data:{user:null,session:null},error:null};i=u}else{const{data:u,error:d}=await this._getUser(e.access_token);if(d)throw d;i={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Vt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:c,error:u}=r;if(u)throw u;e=(n=c.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new Kl;const{data:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Vt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!js())throw new kf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new kf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new H1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new kf("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new H1("No code detected.");const{data:L,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:c,expires_in:u,expires_at:d,token_type:h}=e;if(!i||!u||!c||!h)throw new kf("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(u);let w=p+g;d&&(w=parseInt(d));const v=w-p;v*1e3<=Ku&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${g}s`);const S=w-g;p-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,w,p):p-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,w,p);const{data:x,error:_}=await this._getUser(i);if(_)throw _;const C={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:g,expires_at:w,refresh_token:c,token_type:h,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:e.type},error:null}}catch(n){if(Vt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await zc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const c=(n=a.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:u}=await this.admin.signOut(c,e);if(u&&!(j4(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await ql(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=T4(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Fu(this.storage,this.storageKey,!0));try{return await rr(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Vt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Vt(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var c,u,d,h,p;const{data:g,error:w}=i;if(w)throw w;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await rr(this.fetch,"GET",v,{headers:this.headers,jwt:(p=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(a)throw a;return js()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:e.provider,url:n?.url},error:null}}catch(n){if(Vt(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:c,provider:u,token:d,access_token:h,nonce:p}=e,g=await rr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:d,access_token:h,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:wo}),{data:w,error:v}=g;return v?{data:{user:null,session:null},error:v}:!w||!w.session||!w.user?{data:{user:null,session:null},error:new Iu}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),{data:w,error:v})}catch(a){if(Vt(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:c}=r;if(c)throw c;return await rr(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Vt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await F4(async a=>(a>0&&await I4(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await rr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:wo})),(a,i)=>{const c=200*Math.pow(2,a);return i&&Um(i)&&Date.now()+c-n<Ku})}catch(n){if(this._debug(r,"error",n),Vt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),js()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await zc(this.storage,this.storageKey);if(a&&this.userStorage){let c=await zc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await Yu(this.userStorage,this.storageKey+"-user",c)),a.user=(e=c?.user)!==null&&e!==void 0?e:$m()}else if(a&&!a.user&&!a.user){const c=await zc(this.storage,this.storageKey+"-user");c&&c?.user?(a.user=c.user,await ql(this.storage,this.storageKey+"-user"),await Yu(this.storage,this.storageKey,a)):a.user=$m()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Bm;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Bm}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),Um(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:u}=await this._getUser(a.access_token);!u&&c?.user?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Kl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new kp;const{data:i,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!i.session)throw new Kl;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const u={data:i.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(i){if(this._debug(a,"error",i),Vt(i)){const c={data:null,error:i};return Um(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],c=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,r)}catch(d){i.push(d)}});if(await Promise.all(c),i.length>0){for(let u=0;u<i.length;u+=1)console.error(i[u]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Yu(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=X1(a);await Yu(this.storage,this.storageKey,i)}else{const a=X1(r);await Yu(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await ql(this.storage,this.storageKey),await ql(this.storage,this.storageKey+"-code-verifier"),await ql(this.storage,this.storageKey+"-user"),this.userStorage&&await ql(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&js()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ku);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/Ku);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ku}ms, refresh threshold is ${Bg} ticks`),a<=Bg&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof wx)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!js()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,c]=await Fu(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(u.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await rr(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Vt(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:c}=r;if(c)return{data:null,error:c};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:h}=await rr(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return h?{data:null,error:h}:(e.factorType==="totp"&&d.type==="totp"&&(!((a=d?.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(r){if(Vt(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?h3(e.webauthn.credential_response):f3(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:d}=await rr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:d})})}catch(r){if(Vt(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const c=await rr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(c.error)return c;const{data:u}=c;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:u3(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:d3(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Vt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r?.factors)!==null&&e!==void 0?e:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:a},error:i}=e;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=qm(a.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(g=>g.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const p=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(u=>u.kid===e);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(u=>u.kid===e),n&&this.jwks_cached_at+_4>a)return n;const{data:i,error:c}=await rr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(u=>u.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:S}=await this.getSession();if(S||!v.session)return{data:null,error:S};n=v.session.access_token}const{header:a,payload:i,signature:c,raw:{header:u,payload:d}}=qm(n);r?.allowExpired||V4(i.exp);const h=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!h){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:a,signature:c},error:null}}const p=W4(a.alg),g=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,c,O4(`${u}.${d}`)))throw new $g("Invalid JWT signature");return{data:{claims:i,header:a,signature:c},error:null}}catch(n){if(Vt(n))return{data:null,error:n};throw n}}}bh.nextInstanceID=0;const _3=bh;class N3 extends _3{constructor(e){super(e)}}class j3{constructor(e,r,n){var a,i,c;this.supabaseUrl=e,this.supabaseKey=r;const u=v4(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,h={db:c4,realtime:d4,auth:Object.assign(Object.assign({},u4),{storageKey:d}),global:l4},p=g4(n??{},h);this.storageKey=(a=p.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=p.global.headers)!==null&&i!==void 0?i:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=p.auth)!==null&&c!==void 0?c:{},this.headers,p.global.fetch),this.fetch=p4(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new yS(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new s4(this.storageUrl.href,this.headers,this.fetch,n?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new cS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:c,flowType:u,lock:d,debug:h},p,g){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new N3({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),p),storageKey:c,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:u,lock:d,debug:h,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new DS(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const S3=(t,e,r)=>new j3(t,e,r);function E3(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}E3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const C3="https://mgfwsvfkyakwmxlvovop.supabase.co",A3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1nZndzdmZreWFrd214bHZvdm9wIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE5NjM2NzksImV4cCI6MjA3NzUzOTY3OX0.shm8yuw4dHOLDDp8sQBNu_xTy68N6ksNjDXSIi2HFJ8",Pe=S3(C3,A3),jx=k.createContext(void 0);function k3({children:t}){const e=async({nome:h,email:p,senha:g,permissao:w,avatar_url:v})=>{const{data:S,error:x}=await Pe.auth.signUp({email:p,password:g});if(x||!S.user)return!1;const{error:_}=await Pe.from("usuarios").insert({id:S.user.id,nome:h,email:p,permissao:w,avatar_url:v||null});return!_},[r,n]=k.useState(null),[a,i]=k.useState(!0);k.useEffect(()=>{let h;const p=async g=>{if(g){const{data:w}=await Pe.from("usuarios").select("*").eq("email",g.email).single();n(w||null)}else n(null)};return Pe.auth.getUser().then(({data:g})=>{p(g?.user).then(()=>i(!1))}),h=Pe.auth.onAuthStateChange((g,w)=>{p(w?.user).then(()=>i(!1))}),()=>{h?.data?.subscription?.unsubscribe()}},[]);const c=async(h,p)=>{const{data:g,error:w}=await Pe.auth.signInWithPassword({email:h,password:p});if(w||!g.user)return console.error("Erro Supabase Auth:",w?.message,w),!1;const v=g.user.email,{data:S,error:x}=await Pe.from("usuarios").select("*").eq("email",v).maybeSingle();return x&&console.error("Erro ao buscar usurio na tabela usuarios:",x?.message,x),S?(n(S),!0):!1},u=async()=>{await Pe.auth.signOut(),n(null)},d=async h=>{if(r){const p={...r,...h};n(p),await Pe.from("usuarios").update(h).eq("id",r.id)}};return s.jsx(jx.Provider,{value:{user:r,loading:a,login:c,logout:u,updateUser:d,register:e},children:t})}function Th(){const t=k.useContext(jx);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const Sx=k.createContext(void 0);function P3({children:t}){const{user:e}=Th(),r=e?.permissao==="admin",n=r,a=r,i=r;return s.jsx(Sx.Provider,{value:{isAdmin:r,canEdit:n,canDelete:a,canCreate:i},children:t})}function ui(){const t=k.useContext(Sx);if(t===void 0)throw new Error("usePermissao must be used within a PermissaoProvider");return t}function O3(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const L3=t=>{switch(t){case"success":return D3;case"info":return F3;case"warning":return I3;case"error":return M3;default:return null}},T3=Array(12).fill(0),R3=({visible:t,className:e})=>ut.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ut.createElement("div",{className:"sonner-spinner"},T3.map((r,n)=>ut.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),D3=ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ut.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),I3=ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ut.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),F3=ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ut.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),M3=ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ut.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),z3=ut.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ut.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ut.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),B3=()=>{const[t,e]=ut.useState(document.hidden);return ut.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let Vg=1;class U3{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:n,...a}=e,i=typeof e?.id=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:Vg++,c=this.toasts.find(d=>d.id===i),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),c?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...e,id:i,title:n}),{...d,...e,id:i,dismissible:u,title:n}):d):this.addToast({title:n,...a,dismissible:u,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(e instanceof Function?e():e);let i=n!==void 0,c;const u=a.then(async h=>{if(c=["resolve",h],ut.isValidElement(h))i=!1,this.create({id:n,type:"default",message:h});else if($3(h)&&!h.ok){i=!1;const g=typeof r.error=="function"?await r.error(`HTTP error! status: ${h.status}`):r.error,w=typeof r.description=="function"?await r.description(`HTTP error! status: ${h.status}`):r.description,S=typeof g=="object"&&!ut.isValidElement(g)?g:{message:g};this.create({id:n,type:"error",description:w,...S})}else if(h instanceof Error){i=!1;const g=typeof r.error=="function"?await r.error(h):r.error,w=typeof r.description=="function"?await r.description(h):r.description,S=typeof g=="object"&&!ut.isValidElement(g)?g:{message:g};this.create({id:n,type:"error",description:w,...S})}else if(r.success!==void 0){i=!1;const g=typeof r.success=="function"?await r.success(h):r.success,w=typeof r.description=="function"?await r.description(h):r.description,S=typeof g=="object"&&!ut.isValidElement(g)?g:{message:g};this.create({id:n,type:"success",description:w,...S})}}).catch(async h=>{if(c=["reject",h],r.error!==void 0){i=!1;const p=typeof r.error=="function"?await r.error(h):r.error,g=typeof r.description=="function"?await r.description(h):r.description,v=typeof p=="object"&&!ut.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:g,...v})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),d=()=>new Promise((h,p)=>u.then(()=>c[0]==="reject"?p(c[1]):h(c[1])).catch(p));return typeof n!="string"&&typeof n!="number"?{unwrap:d}:Object.assign(n,{unwrap:d})},this.custom=(e,r)=>{const n=r?.id||Vg++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const os=new U3,q3=(t,e)=>{const r=e?.id||Vg++;return os.addToast({title:t,...e,id:r}),r},$3=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",V3=q3,W3=()=>os.toasts,H3=()=>os.getActiveToasts(),pe=Object.assign(V3,{success:os.success,info:os.info,warning:os.warning,error:os.error,custom:os.custom,message:os.message,promise:os.promise,dismiss:os.dismiss,loading:os.loading},{getHistory:W3,getToasts:H3});O3("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Pf(t){return t.label!==void 0}const G3=3,K3="24px",Y3="16px",a2=4e3,J3=356,X3=14,Q3=45,Z3=200;function Qo(...t){return t.filter(Boolean).join(" ")}function eE(t){const[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}const tE=t=>{var e,r,n,a,i,c,u,d,h;const{invert:p,toast:g,unstyled:w,interacting:v,setHeights:S,visibleToasts:x,heights:_,index:C,toasts:L,expanded:T,removeToast:R,defaultRichColors:H,closeButton:J,style:Q,cancelButtonStyle:D,actionButtonStyle:$,className:G="",descriptionClassName:z="",duration:F,position:P,gap:M,expandByDefault:fe,classNames:ae,icons:se,closeButtonAriaLabel:q="Close toast"}=t,[me,Ne]=ut.useState(null),[te,I]=ut.useState(null),[Y,Z]=ut.useState(!1),[ue,ge]=ut.useState(!1),[le,xe]=ut.useState(!1),[ye,ke]=ut.useState(!1),[De,He]=ut.useState(!1),[tt,Fe]=ut.useState(0),[de,zt]=ut.useState(0),wt=ut.useRef(g.duration||F||a2),bt=ut.useRef(null),Ve=ut.useRef(null),gt=C===0,we=C+1<=x,Je=g.type,V=g.dismissible!==!1,be=g.className||"",oe=g.descriptionClassName||"",Be=ut.useMemo(()=>_.findIndex(ne=>ne.toastId===g.id)||0,[_,g.id]),ct=ut.useMemo(()=>{var ne;return(ne=g.closeButton)!=null?ne:J},[g.closeButton,J]),ot=ut.useMemo(()=>g.duration||F||a2,[g.duration,F]),rt=ut.useRef(0),Xe=ut.useRef(0),Me=ut.useRef(0),Ge=ut.useRef(null),[xt,lt]=P.split("-"),mt=ut.useMemo(()=>_.reduce((ne,dt,Tt)=>Tt>=Be?ne:ne+dt.height,0),[_,Be]),St=B3(),Ze=g.invert||p,Bt=Je==="loading";Xe.current=ut.useMemo(()=>Be*M+mt,[Be,mt]),ut.useEffect(()=>{wt.current=ot},[ot]),ut.useEffect(()=>{Z(!0)},[]),ut.useEffect(()=>{const ne=Ve.current;if(ne){const dt=ne.getBoundingClientRect().height;return zt(dt),S(Tt=>[{toastId:g.id,height:dt,position:g.position},...Tt]),()=>S(Tt=>Tt.filter(Kt=>Kt.toastId!==g.id))}},[S,g.id]),ut.useLayoutEffect(()=>{if(!Y)return;const ne=Ve.current,dt=ne.style.height;ne.style.height="auto";const Tt=ne.getBoundingClientRect().height;ne.style.height=dt,zt(Tt),S(Kt=>Kt.find(yt=>yt.toastId===g.id)?Kt.map(yt=>yt.toastId===g.id?{...yt,height:Tt}:yt):[{toastId:g.id,height:Tt,position:g.position},...Kt])},[Y,g.title,g.description,S,g.id,g.jsx,g.action,g.cancel]);const pt=ut.useCallback(()=>{ge(!0),Fe(Xe.current),S(ne=>ne.filter(dt=>dt.toastId!==g.id)),setTimeout(()=>{R(g)},Z3)},[g,R,S,Xe]);ut.useEffect(()=>{if(g.promise&&Je==="loading"||g.duration===1/0||g.type==="loading")return;let ne;return T||v||St?(()=>{if(Me.current<rt.current){const Kt=new Date().getTime()-rt.current;wt.current=wt.current-Kt}Me.current=new Date().getTime()})():(()=>{wt.current!==1/0&&(rt.current=new Date().getTime(),ne=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),pt()},wt.current))})(),()=>clearTimeout(ne)},[T,v,g,Je,St,pt]),ut.useEffect(()=>{g.delete&&(pt(),g.onDismiss==null||g.onDismiss.call(g,g))},[pt,g.delete]);function ar(){var ne;if(se?.loading){var dt;return ut.createElement("div",{className:Qo(ae?.loader,g==null||(dt=g.classNames)==null?void 0:dt.loader,"sonner-loader"),"data-visible":Je==="loading"},se.loading)}return ut.createElement(R3,{className:Qo(ae?.loader,g==null||(ne=g.classNames)==null?void 0:ne.loader),visible:Je==="loading"})}const nr=g.icon||se?.[Je]||L3(Je);var Qe,at;return ut.createElement("li",{tabIndex:0,ref:Ve,className:Qo(G,be,ae?.toast,g==null||(e=g.classNames)==null?void 0:e.toast,ae?.default,ae?.[Je],g==null||(r=g.classNames)==null?void 0:r[Je]),"data-sonner-toast":"","data-rich-colors":(Qe=g.richColors)!=null?Qe:H,"data-styled":!(g.jsx||g.unstyled||w),"data-mounted":Y,"data-promise":!!g.promise,"data-swiped":De,"data-removed":ue,"data-visible":we,"data-y-position":xt,"data-x-position":lt,"data-index":C,"data-front":gt,"data-swiping":le,"data-dismissible":V,"data-type":Je,"data-invert":Ze,"data-swipe-out":ye,"data-swipe-direction":te,"data-expanded":!!(T||fe&&Y),"data-testid":g.testId,style:{"--index":C,"--toasts-before":C,"--z-index":L.length-C,"--offset":`${ue?tt:Xe.current}px`,"--initial-height":fe?"auto":`${de}px`,...Q,...g.style},onDragEnd:()=>{xe(!1),Ne(null),Ge.current=null},onPointerDown:ne=>{ne.button!==2&&(Bt||!V||(bt.current=new Date,Fe(Xe.current),ne.target.setPointerCapture(ne.pointerId),ne.target.tagName!=="BUTTON"&&(xe(!0),Ge.current={x:ne.clientX,y:ne.clientY})))},onPointerUp:()=>{var ne,dt,Tt;if(ye||!V)return;Ge.current=null;const Kt=Number(((ne=Ve.current)==null?void 0:ne.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),dr=Number(((dt=Ve.current)==null?void 0:dt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),yt=new Date().getTime()-((Tt=bt.current)==null?void 0:Tt.getTime()),fr=me==="x"?Kt:dr,yn=Math.abs(fr)/yt;if(Math.abs(fr)>=Q3||yn>.11){Fe(Xe.current),g.onDismiss==null||g.onDismiss.call(g,g),I(me==="x"?Kt>0?"right":"left":dr>0?"down":"up"),pt(),ke(!0);return}else{var Cr,qr;(Cr=Ve.current)==null||Cr.style.setProperty("--swipe-amount-x","0px"),(qr=Ve.current)==null||qr.style.setProperty("--swipe-amount-y","0px")}He(!1),xe(!1),Ne(null)},onPointerMove:ne=>{var dt,Tt,Kt;if(!Ge.current||!V||((dt=window.getSelection())==null?void 0:dt.toString().length)>0)return;const yt=ne.clientY-Ge.current.y,fr=ne.clientX-Ge.current.x;var yn;const Cr=(yn=t.swipeDirections)!=null?yn:eE(P);!me&&(Math.abs(fr)>1||Math.abs(yt)>1)&&Ne(Math.abs(fr)>Math.abs(yt)?"x":"y");let qr={x:0,y:0};const Nr=jr=>1/(1.5+Math.abs(jr)/20);if(me==="y"){if(Cr.includes("top")||Cr.includes("bottom"))if(Cr.includes("top")&&yt<0||Cr.includes("bottom")&&yt>0)qr.y=yt;else{const jr=yt*Nr(yt);qr.y=Math.abs(jr)<Math.abs(yt)?jr:yt}}else if(me==="x"&&(Cr.includes("left")||Cr.includes("right")))if(Cr.includes("left")&&fr<0||Cr.includes("right")&&fr>0)qr.x=fr;else{const jr=fr*Nr(fr);qr.x=Math.abs(jr)<Math.abs(fr)?jr:fr}(Math.abs(qr.x)>0||Math.abs(qr.y)>0)&&He(!0),(Tt=Ve.current)==null||Tt.style.setProperty("--swipe-amount-x",`${qr.x}px`),(Kt=Ve.current)==null||Kt.style.setProperty("--swipe-amount-y",`${qr.y}px`)}},ct&&!g.jsx&&Je!=="loading"?ut.createElement("button",{"aria-label":q,"data-disabled":Bt,"data-close-button":!0,onClick:Bt||!V?()=>{}:()=>{pt(),g.onDismiss==null||g.onDismiss.call(g,g)},className:Qo(ae?.closeButton,g==null||(n=g.classNames)==null?void 0:n.closeButton)},(at=se?.close)!=null?at:z3):null,(Je||g.icon||g.promise)&&g.icon!==null&&(se?.[Je]!==null||g.icon)?ut.createElement("div",{"data-icon":"",className:Qo(ae?.icon,g==null||(a=g.classNames)==null?void 0:a.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||ar():null,g.type!=="loading"?nr:null):null,ut.createElement("div",{"data-content":"",className:Qo(ae?.content,g==null||(i=g.classNames)==null?void 0:i.content)},ut.createElement("div",{"data-title":"",className:Qo(ae?.title,g==null||(c=g.classNames)==null?void 0:c.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?ut.createElement("div",{"data-description":"",className:Qo(z,oe,ae?.description,g==null||(u=g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),ut.isValidElement(g.cancel)?g.cancel:g.cancel&&Pf(g.cancel)?ut.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||D,onClick:ne=>{Pf(g.cancel)&&V&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,ne),pt())},className:Qo(ae?.cancelButton,g==null||(d=g.classNames)==null?void 0:d.cancelButton)},g.cancel.label):null,ut.isValidElement(g.action)?g.action:g.action&&Pf(g.action)?ut.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||$,onClick:ne=>{Pf(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,ne),!ne.defaultPrevented&&pt())},className:Qo(ae?.actionButton,g==null||(h=g.classNames)==null?void 0:h.actionButton)},g.action.label):null)};function s2(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function rE(t,e){const r={};return[t,e].forEach((n,a)=>{const i=a===1,c=i?"--mobile-offset":"--offset",u=i?Y3:K3;function d(h){["top","right","bottom","left"].forEach(p=>{r[`${c}-${p}`]=typeof h=="number"?`${h}px`:h})}typeof n=="number"||typeof n=="string"?d(n):typeof n=="object"?["top","right","bottom","left"].forEach(h=>{n[h]===void 0?r[`${c}-${h}`]=u:r[`${c}-${h}`]=typeof n[h]=="number"?`${n[h]}px`:n[h]}):d(u)}),r}const nE=ut.forwardRef(function(e,r){const{id:n,invert:a,position:i="bottom-right",hotkey:c=["altKey","KeyT"],expand:u,closeButton:d,className:h,offset:p,mobileOffset:g,theme:w="light",richColors:v,duration:S,style:x,visibleToasts:_=G3,toastOptions:C,dir:L=s2(),gap:T=X3,icons:R,containerAriaLabel:H="Notifications"}=e,[J,Q]=ut.useState([]),D=ut.useMemo(()=>n?J.filter(Y=>Y.toasterId===n):J.filter(Y=>!Y.toasterId),[J,n]),$=ut.useMemo(()=>Array.from(new Set([i].concat(D.filter(Y=>Y.position).map(Y=>Y.position)))),[D,i]),[G,z]=ut.useState([]),[F,P]=ut.useState(!1),[M,fe]=ut.useState(!1),[ae,se]=ut.useState(w!=="system"?w:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=ut.useRef(null),me=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),Ne=ut.useRef(null),te=ut.useRef(!1),I=ut.useCallback(Y=>{Q(Z=>{var ue;return(ue=Z.find(ge=>ge.id===Y.id))!=null&&ue.delete||os.dismiss(Y.id),Z.filter(({id:ge})=>ge!==Y.id)})},[]);return ut.useEffect(()=>os.subscribe(Y=>{if(Y.dismiss){requestAnimationFrame(()=>{Q(Z=>Z.map(ue=>ue.id===Y.id?{...ue,delete:!0}:ue))});return}setTimeout(()=>{Pb.flushSync(()=>{Q(Z=>{const ue=Z.findIndex(ge=>ge.id===Y.id);return ue!==-1?[...Z.slice(0,ue),{...Z[ue],...Y},...Z.slice(ue+1)]:[Y,...Z]})})})}),[J]),ut.useEffect(()=>{if(w!=="system"){se(w);return}if(w==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?se("dark"):se("light")),typeof window>"u")return;const Y=window.matchMedia("(prefers-color-scheme: dark)");try{Y.addEventListener("change",({matches:Z})=>{se(Z?"dark":"light")})}catch{Y.addListener(({matches:ue})=>{try{se(ue?"dark":"light")}catch(ge){console.error(ge)}})}},[w]),ut.useEffect(()=>{J.length<=1&&P(!1)},[J]),ut.useEffect(()=>{const Y=Z=>{var ue;if(c.every(xe=>Z[xe]||Z.code===xe)){var le;P(!0),(le=q.current)==null||le.focus()}Z.code==="Escape"&&(document.activeElement===q.current||(ue=q.current)!=null&&ue.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[c]),ut.useEffect(()=>{if(q.current)return()=>{Ne.current&&(Ne.current.focus({preventScroll:!0}),Ne.current=null,te.current=!1)}},[q.current]),ut.createElement("section",{ref:r,"aria-label":`${H} ${me}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},$.map((Y,Z)=>{var ue;const[ge,le]=Y.split("-");return D.length?ut.createElement("ol",{key:Y,dir:L==="auto"?s2():L,tabIndex:-1,ref:q,className:h,"data-sonner-toaster":!0,"data-sonner-theme":ae,"data-y-position":ge,"data-x-position":le,style:{"--front-toast-height":`${((ue=G[0])==null?void 0:ue.height)||0}px`,"--width":`${J3}px`,"--gap":`${T}px`,...x,...rE(p,g)},onBlur:xe=>{te.current&&!xe.currentTarget.contains(xe.relatedTarget)&&(te.current=!1,Ne.current&&(Ne.current.focus({preventScroll:!0}),Ne.current=null))},onFocus:xe=>{xe.target instanceof HTMLElement&&xe.target.dataset.dismissible==="false"||te.current||(te.current=!0,Ne.current=xe.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{M||P(!1)},onDragEnd:()=>P(!1),onPointerDown:xe=>{xe.target instanceof HTMLElement&&xe.target.dataset.dismissible==="false"||fe(!0)},onPointerUp:()=>fe(!1)},D.filter(xe=>!xe.position&&Z===0||xe.position===Y).map((xe,ye)=>{var ke,De;return ut.createElement(tE,{key:xe.id,icons:R,index:ye,toast:xe,defaultRichColors:v,duration:(ke=C?.duration)!=null?ke:S,className:C?.className,descriptionClassName:C?.descriptionClassName,invert:a,visibleToasts:_,closeButton:(De=C?.closeButton)!=null?De:d,interacting:M,position:Y,style:C?.style,unstyled:C?.unstyled,classNames:C?.classNames,cancelButtonStyle:C?.cancelButtonStyle,actionButtonStyle:C?.actionButtonStyle,closeButtonAriaLabel:C?.closeButtonAriaLabel,removeToast:I,toasts:D.filter(He=>He.position==xe.position),heights:G.filter(He=>He.position==xe.position),setHeights:z,expandByDefault:u,gap:T,expanded:F,swipeDirections:e.swipeDirections})})):null}))});/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sE=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),o2=t=>{const e=sE(t);return e.charAt(0).toUpperCase()+e.slice(1)},Ex=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:c,...u},d)=>k.createElement("svg",{ref:d,...oE,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:Ex("lucide",a),...u},[...c.map(([h,p])=>k.createElement(h,p)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=(t,e)=>{const r=k.forwardRef(({className:n,...a},i)=>k.createElement(iE,{ref:i,iconNode:e,className:Ex(`lucide-${aE(o2(t))}`,`lucide-${t}`,n),...a}));return r.displayName=o2(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],cE=Wt("activity",lE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],xh=Wt("arrow-left",uE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],hE=Wt("arrow-right",dE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Pa=Wt("building-2",fE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ka=Wt("calendar",pE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],gE=Wt("camera",mE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],yE=Wt("chart-pie",vE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],xE=Wt("check",bE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Mv=Wt("chevron-down",wE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],NE=Wt("chevron-left",_E);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],SE=Wt("chevron-right",jE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],CE=Wt("chevron-up",EE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],So=Wt("circle-alert",AE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Mn=Wt("circle-check-big",kE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],OE=Wt("circle-x",PE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],wh=Wt("clock",LE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ch=Wt("credit-card",TE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],sr=Wt("dollar-sign",RE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],IE=Wt("eye",DE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-1",key:"zg0ygc"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"M16 18v-3",key:"j5jt4h"}]],ME=Wt("file-chart-column",FE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m3.2 12.9-.9-.4",key:"1i3dj5"}],["path",{d:"m3.2 15.1-.9.4",key:"1fvgj0"}],["path",{d:"M4.677 21.5a2 2 0 0 0 1.313.5H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v2.5",key:"1yo3oz"}],["path",{d:"m4.9 11.2-.4-.9",key:"otmhb9"}],["path",{d:"m4.9 16.8-.4.9",key:"1b8z07"}],["path",{d:"m7.5 10.3-.4.9",key:"11k65u"}],["path",{d:"m7.5 17.7-.4-.9",key:"431x55"}],["path",{d:"m9.7 12.5-.9.4",key:"87sjan"}],["path",{d:"m9.7 15.5-.9-.4",key:"khqm91"}],["circle",{cx:"6",cy:"14",r:"3",key:"a1xfv6"}]],i2=Wt("file-cog",zE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],_h=Wt("file-down",BE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ps=Wt("file-text",UE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Cx=Wt("funnel",qE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]],dp=Wt("hard-hat",$E);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],l2=Wt("history",VE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],HE=Wt("info",WE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],c2=Wt("layout-dashboard",GE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Ax=Wt("link-2",KE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],JE=Wt("lock",YE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],kx=Wt("log-out",XE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Px=Wt("mail",QE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=[["path",{d:"M5 12h14",key:"1ays0h"}]],u2=Wt("minus",ZE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],tC=Wt("package",eC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],tc=Wt("pen",rC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vn=Wt("plus",nC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Ox=Wt("repeat",aC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],oC=Wt("rotate-ccw",sC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],lC=Wt("search",iC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],uh=Wt("send",cC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],dC=Wt("shield",uC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],fC=Wt("sparkles",hC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],mC=Wt("tag",pC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],zn=Wt("trash-2",gC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],ha=Wt("trending-down",vC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],al=Wt("trending-up",yC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],xC=Wt("triangle-alert",bC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Lx=Wt("upload",wC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ol=Wt("user",_C);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Jf=Wt("users",NC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Kc=Wt("wallet",jC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Nh=Wt("x",SC);function EC(){const[t,e]=k.useState(""),[r,n]=k.useState(""),[a,i]=k.useState(!1),{login:c}=Th(),u=Qs(),d=async h=>{h.preventDefault(),i(!0);try{await c(t,r)?(pe.success("Login realizado com sucesso!"),u("/dashboard")):pe.error("Email ou senha incorretos")}catch{pe.error("Erro ao fazer login")}finally{i(!1)}};return s.jsxs("div",{className:"login-container",children:[s.jsx("div",{className:"login-bg-blob login-bg-blob-1"}),s.jsx("div",{className:"login-bg-blob login-bg-blob-2"}),s.jsx("div",{className:"login-bg-blob login-bg-blob-3"}),[...Array(20)].map((h,p)=>s.jsx("div",{className:"login-particle",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${3+Math.random()*2}s`}},p)),s.jsxs("div",{className:"login-card-wrapper",children:[s.jsxs("div",{className:"login-card",children:[s.jsxs("div",{className:"login-header",children:[s.jsx("div",{className:"login-logo-container",children:s.jsxs("div",{className:"login-logo-wrapper",children:[s.jsx("div",{className:"login-logo-glow"}),s.jsx("div",{className:"login-logo-box",children:s.jsx(Pa,{className:"login-logo-icon"})})]})}),s.jsxs("div",{className:"login-title-container",children:[s.jsxs("div",{className:"login-brand-wrapper",children:[s.jsx("h1",{className:"login-brand-title",children:"PEPERAIO"}),s.jsx("p",{className:"login-brand-subtitle",children:"Comunicao Visual"}),s.jsxs("div",{className:"login-brand-bars",children:[s.jsx("div",{className:"login-brand-bar login-brand-bar-green"}),s.jsx("div",{className:"login-brand-bar login-brand-bar-red"})]})]}),s.jsxs("p",{className:"login-description",children:[s.jsx(fC,{className:"login-sparkle-icon"}),"Faa login para acessar o sistema"]})]})]}),s.jsxs("div",{className:"login-content",children:[s.jsxs("form",{onSubmit:d,className:"login-form",children:[s.jsxs("div",{className:"login-field",children:[s.jsx("label",{htmlFor:"email",className:"login-label",children:"Email"}),s.jsxs("div",{className:"login-input-wrapper",children:[s.jsx(Px,{className:"login-input-icon"}),s.jsx("input",{id:"email",type:"email",placeholder:"seu@email.com",value:t,onChange:h=>e(h.target.value),required:!0,className:"login-input"})]})]}),s.jsxs("div",{className:"login-field",children:[s.jsx("label",{htmlFor:"senha",className:"login-label",children:"Senha"}),s.jsxs("div",{className:"login-input-wrapper",children:[s.jsx(JE,{className:"login-input-icon"}),s.jsx("input",{id:"senha",type:"password",placeholder:"",value:r,onChange:h=>n(h.target.value),required:!0,className:"login-input"})]})]}),s.jsx("div",{className:"login-button-wrapper",children:s.jsx("button",{type:"submit",className:"login-button",disabled:a,children:a?s.jsx("div",{className:"login-spinner"}):s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"Entrar"}),s.jsx(hE,{className:"login-button-arrow"})]})})})]}),s.jsx("div",{className:"login-forgot",children:s.jsx("button",{type:"button",className:"login-forgot-link",onClick:()=>{},children:"Esqueceu sua senha?"})})]})]}),s.jsx("p",{className:"login-copyright",children:" 2025 PEPERAIO. Todos os direitos reservados."})]})]})}const CC=({userRole:t})=>{const[e,r]=k.useState([]),[n,a]=k.useState(!0),[i,c]=k.useState({total:0,emAndamento:0,aguardandoVerba:0,finalizados:0});k.useEffect(()=>{u()},[]);const u=async()=>{try{a(!0);const{data:{user:g}}=await Pe.auth.getUser();if(!g)return;let w=Pe.from("cards_de_obra").select("*");t==="visualizador"&&(w=w.eq("id_visualizador_responsavel",g.id));const{data:v,error:S}=await w.order("created_at",{ascending:!1}).limit(3);if(S)throw console.error("Erro ao carregar cards:",S),S;r(v||[]);const{data:x}=await(t==="admin"?Pe.from("cards_de_obra").select("status"):Pe.from("cards_de_obra").select("status").eq("id_visualizador_responsavel",g.id));x&&c({total:x.length,emAndamento:x.filter(_=>_.status==="EM_ANDAMENTO").length,aguardandoVerba:x.filter(_=>_.status==="AGUARDANDO_VERBA").length,finalizados:x.filter(_=>_.status==="FINALIZADO").length})}catch(g){console.error("Erro:",g),pe.error("Erro ao carregar cards de obra")}finally{a(!1)}},d=g=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(g),h=g=>{switch(g){case"PENDENTE":return{label:"Pendente",color:"#f59e0b",icon:wh};case"EM_ANDAMENTO":return{label:"Em Andamento",color:"#3b82f6",icon:al};case"AGUARDANDO_VERBA":return{label:"Aguardando Verba",color:"#8b5cf6",icon:So};case"EM_ANALISE":return{label:"Em Anlise",color:"#06b6d4",icon:Mn};case"FINALIZADO":return{label:"Finalizado",color:"#10b981",icon:Mn};case"CANCELADO":return{label:"Cancelado",color:"#ef4444",icon:So};default:return{label:g,color:"#6b7280",icon:So}}},p=g=>g.valor_venda_orcamento===0?0:Math.min(g.total_gasto/g.valor_venda_orcamento*100,100);return n?s.jsx("div",{className:"cards-obra-widget loading",children:s.jsx("div",{className:"spinner"})}):s.jsxs("div",{className:"cards-obra-widget",children:[s.jsxs("div",{className:"widget-header",children:[s.jsx("div",{className:"widget-icon obra",children:s.jsx(Pa,{size:24})}),s.jsxs("div",{className:"widget-title-section",children:[s.jsx("h3",{children:t==="admin"?"Todos os Cards de Obra":"Meus Cards de Obra"}),s.jsx("span",{className:"widget-subtitle",children:"Projetos em andamento"})]})]}),s.jsxs("div",{className:"widget-stats",children:[s.jsxs("div",{className:"stat-item",children:[s.jsx("span",{className:"stat-valor",children:i.total}),s.jsx("span",{className:"stat-label",children:"Total"})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("span",{className:"stat-valor",children:i.emAndamento}),s.jsx("span",{className:"stat-label",children:"Ativas"})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("span",{className:"stat-valor",children:i.aguardandoVerba}),s.jsx("span",{className:"stat-label",children:"Aguardando"})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("span",{className:"stat-valor",children:i.finalizados}),s.jsx("span",{className:"stat-label",children:"Finalizadas"})]})]}),e.length===0?s.jsxs("div",{className:"widget-empty",children:[s.jsx(Pa,{size:32}),s.jsx("p",{children:"Nenhum card de obra encontrado"})]}):s.jsx("div",{className:"cards-lista",children:e.map(g=>{const w=h(g.status),v=p(g),S=w.icon;return s.jsxs("div",{className:"card-item",children:[s.jsxs("div",{className:"card-item-header",children:[s.jsxs("div",{className:"card-item-info",children:[s.jsx("h4",{children:g.titulo}),s.jsx("span",{className:"card-cliente",children:g.nome_cliente})]}),s.jsxs("span",{className:"card-status",style:{backgroundColor:`${w.color}20`,color:w.color},children:[s.jsx(S,{size:12}),w.label]})]}),s.jsxs("div",{className:"card-financeiro",children:[s.jsxs("div",{className:"financeiro-item",children:[s.jsx("span",{className:"financeiro-label",children:"Oramento"}),s.jsx("span",{className:"financeiro-valor",children:d(g.valor_venda_orcamento)})]}),s.jsxs("div",{className:"financeiro-item",children:[s.jsx("span",{className:"financeiro-label",children:"Saldo"}),s.jsx("span",{className:"financeiro-valor saldo",children:d(g.saldo_atual)})]}),s.jsxs("div",{className:"financeiro-item",children:[s.jsx("span",{className:"financeiro-label",children:"Gasto"}),s.jsx("span",{className:"financeiro-valor gasto",children:d(g.total_gasto)})]})]}),s.jsxs("div",{className:"card-progresso",children:[s.jsxs("div",{className:"progresso-header",children:[s.jsx("span",{className:"progresso-label",children:"Progresso"}),s.jsxs("span",{className:"progresso-percentual",children:[v.toFixed(0),"%"]})]}),s.jsx("div",{className:"progresso-bar",children:s.jsx("div",{className:"progresso-fill",style:{width:`${v}%`,backgroundColor:w.color}})})]})]},g.id_card)})}),s.jsx("button",{className:"widget-ver-mais",onClick:()=>window.location.href=t==="admin"?"/cards-de-obra":"/minhas-obras",children:"Ver Todos os Cards "})]})};function ft(t){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t)}function AC(){const{isAdmin:t}=ui(),{user:e}=Th(),[r,n]=k.useState({saldoCaixa:0,totalReceber:0,dividasAtivas:0,lucroTotal:0}),[a,i]=k.useState([]),[c,u]=k.useState([]),[d,h]=k.useState([]),p=t?"admin":"visualizador";k.useEffect(()=>{g()},[]);const g=async()=>{try{const[{data:w},{data:v},{data:S},{data:x}]=await Promise.all([Pe.from("transacoes").select("*"),Pe.from("recebiveis").select("*"),Pe.from("dividas").select("*"),Pe.from("obras").select("*")]),_=w||[],C=v||[],L=S||[],T=x||[],R=_.reduce((se,q)=>q.tipo==="entrada"?se+q.valor:se-q.valor,0),H=C.reduce((se,q)=>se+((Number(q.valor_total)||0)-(Number(q.valor_pago)||0)),0),J=L.filter(se=>se.status!=="quitado").reduce((se,q)=>se+(q.valorRestante??q.valor??0),0),Q=T.filter(se=>se.finalizada).reduce((se,q)=>se+(q.lucro||0),0);n({saldoCaixa:R,totalReceber:H,dividasAtivas:J,lucroTotal:Q});const D=_.filter(se=>se.tipo==="saida"),$=D.reduce((se,q)=>se+q.valor,0),G=new Map;D.forEach(se=>G.set(se.categoria,(G.get(se.categoria)||0)+se.valor));const z=Array.from(G.entries()).map(([se,q])=>({categoria:se,valor:q,percentual:$>0?q/$*100:0}));i(z);const F=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],P=new Map;_.forEach(se=>{const q=new Date(se.data),me=`${F[q.getMonth()]}/${q.getFullYear().toString().slice(-2)}`;P.has(me)||P.set(me,{entradas:0,saidas:0});const Ne=P.get(me);se.tipo==="entrada"?Ne.entradas+=se.valor:Ne.saidas+=se.valor});const M=Array.from(P.entries()).map(([se,q])=>({mes:se,entradas:q.entradas,saidas:q.saidas,saldo:q.entradas-q.saidas})).slice(-6);u(M);const fe=_.filter(se=>se.tipo==="entrada").reduce((se,q)=>se+q.valor,0),ae=_.filter(se=>se.tipo==="saida").reduce((se,q)=>se+q.valor,0);h([{name:"Entradas",valor:fe},{name:"Sadas",valor:ae}])}catch(w){console.error("Erro ao carregar dados do dashboard",w)}};return s.jsx("div",{className:"dashboard-container",children:s.jsxs("div",{className:"dashboard-page",children:[s.jsx("header",{className:"dashboard-hero",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"dashboard-hero-title",children:[s.jsx(cE,{})," Dashboard"]}),s.jsx("p",{className:"dashboard-hero-sub",children:new Date().toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long"})})]})}),s.jsx("main",{className:"dashboard-main",children:s.jsx("section",{className:"dashboard-cards-harmonic",children:s.jsx("div",{className:"widget-container",children:s.jsx(CC,{userRole:p})})})})]})})}const kC=()=>{const t=Qs(),e=r=>{t(r==="empresarial"?"/dashboard":"/financeiro-pessoal")};return s.jsx("div",{className:"dashboard-selector-container",children:s.jsxs("div",{className:"dashboard-selector-content",children:[s.jsxs("div",{className:"dashboard-selector-header",children:[s.jsx("h1",{className:"dashboard-selector-title",children:"Bem-vindo! "}),s.jsx("p",{className:"dashboard-selector-subtitle",children:"Escolha qual rea voc deseja acessar"})]}),s.jsxs("div",{className:"dashboard-selector-cards",children:[s.jsxs("button",{className:"dashboard-card empresarial",onClick:()=>e("empresarial"),children:[s.jsx("div",{className:"dashboard-card-icon-wrapper empresarial-icon",children:s.jsx(Pa,{size:40,strokeWidth:2})}),s.jsx("h2",{className:"dashboard-card-title",children:"Dashboard Empresarial"}),s.jsx("p",{className:"dashboard-card-description",children:"Gerencie projetos, caixa de adiantamento, obras e todas as operaes da empresa"}),s.jsxs("div",{className:"dashboard-card-features",children:[s.jsxs("div",{className:"feature-item",children:[s.jsx(al,{size:16}),s.jsx("span",{children:"Caixa Principal"})]}),s.jsxs("div",{className:"feature-item",children:[s.jsx(Pa,{size:16}),s.jsx("span",{children:"Cards de Obra"})]}),s.jsxs("div",{className:"feature-item",children:[s.jsx(wh,{size:16}),s.jsx("span",{children:"Adiantamentos"})]})]}),s.jsx("div",{className:"dashboard-card-arrow",children:s.jsx("span",{children:"Acessar "})})]}),s.jsxs("button",{className:"dashboard-card pessoal",onClick:()=>e("pessoal"),children:[s.jsx("div",{className:"dashboard-card-icon-wrapper pessoal-icon",children:s.jsx(Kc,{size:40,strokeWidth:2})}),s.jsx("h2",{className:"dashboard-card-title",children:"Meu Financeiro Pessoal"}),s.jsx("p",{className:"dashboard-card-description",children:"Controle suas finanas pessoais de forma privada e organizada"}),s.jsxs("div",{className:"dashboard-card-features",children:[s.jsxs("div",{className:"feature-item",children:[s.jsx(Kc,{size:16}),s.jsx("span",{children:"Receitas & Despesas"})]}),s.jsxs("div",{className:"feature-item",children:[s.jsx(al,{size:16}),s.jsx("span",{children:"Grficos & Anlises"})]}),s.jsxs("div",{className:"feature-item",children:[s.jsx(wh,{size:16}),s.jsx("span",{children:"Histrico Completo"})]})]}),s.jsx("div",{className:"dashboard-card-arrow",children:s.jsx("span",{children:"Acessar "})})]})]}),s.jsx("div",{className:"dashboard-selector-footer",children:s.jsx("p",{className:"footer-note",children:" Voc pode alternar entre os dashboards a qualquer momento"})})]})})},PC=[{icon:Kc,label:"Caixa Pessoal",href:"/financeiro-pessoal"},{icon:ch,label:"Minhas Dvidas",href:"/dividas-pessoais"},{icon:ol,label:"Minha Conta",href:"/minha-conta-pessoal"}];function OC(){const t=Qs(),r=ci().pathname,[n,a]=k.useState(!1);return s.jsxs("nav",{className:"peperaio-navbar pessoal-navbar",children:[s.jsxs("div",{className:"navbar-container",children:[s.jsxs("button",{className:`navbar-toggle ${n?"active":""}`,onClick:()=>a(!n),"aria-label":"Toggle menu","aria-expanded":n,children:[s.jsx("span",{className:"hamburger-line line1"}),s.jsx("span",{className:"hamburger-line line2"}),s.jsx("span",{className:"hamburger-line line3"})]}),s.jsx("h1",{className:"navbar-brand",children:"FINANCEIRO PESSOAL"}),s.jsx("button",{className:"btn-trocar-dashboard",onClick:()=>t("/dashboard-selector"),title:"Trocar Dashboard",children:s.jsx(Ox,{size:20})})]}),n&&s.jsx("div",{className:"navbar-overlay",onClick:()=>a(!1)}),s.jsxs("aside",{className:`navbar-sidebar pessoal-sidebar ${n?"open":""}`,children:[s.jsxs("div",{className:"sidebar-header",children:[s.jsx("h2",{className:"sidebar-title",children:"Menu Pessoal"}),s.jsx("button",{className:"sidebar-close",onClick:()=>a(!1),"aria-label":"Fechar menu",children:s.jsx(Nh,{size:20})})]}),s.jsx("nav",{className:"sidebar-nav",children:PC.map((i,c)=>{const u=r===i.href;return s.jsxs("button",{onClick:()=>{t(i.href),a(!1)},className:`nav-item ${u?"active":""}`,children:[s.jsx(i.icon,{size:20,strokeWidth:2}),s.jsx("span",{children:i.label}),u&&s.jsx("span",{className:"active-particle"})]},c)})}),s.jsx("div",{className:"sidebar-footer",children:s.jsx("p",{children:"Financeiro Pessoal"})})]})]})}const zv=({children:t})=>(k.useEffect(()=>(document.documentElement.style.colorScheme="light",document.body.style.background="linear-gradient(180deg, #f0f4f8 0%, #e8ecf1 100%)",document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark"),()=>{document.documentElement.style.colorScheme="dark",document.body.style.background="linear-gradient(180deg, #071029 0%, #071017 60%)",document.body.classList.remove("theme-light"),document.body.classList.add("theme-dark")}),[]),s.jsxs("div",{className:"pessoal-layout theme-light",style:{display:"flex",flexDirection:"column",minHeight:"100dvh",width:"100%",background:"linear-gradient(180deg, #f0f4f8 0%, #e8ecf1 100%)",position:"relative",overflow:"hidden",transition:"background 0.6s cubic-bezier(.4,0,.2,1)"},children:[s.jsx(OC,{}),s.jsx("main",{style:{flex:1,paddingTop:"calc(64px + env(safe-area-inset-top))",display:"flex",flexDirection:"column",width:"100%",minHeight:0,overflow:"auto",position:"relative",transition:"background 0.6s cubic-bezier(.4,0,.2,1)"},children:t||s.jsx(Ep,{})})]})),LC=()=>{const t=Qs(),[e,r]=k.useState([]),[n,a]=k.useState(!0),[i,c]=k.useState(!1),[u,d]=k.useState("TODOS"),[h,p]=k.useState({tipo:"ENTRADA",descricao:"",valor:"",data:new Date().toISOString().split("T")[0]});k.useEffect(()=>{g()},[]);const g=async()=>{try{a(!0);const{data:{user:H}}=await Pe.auth.getUser();if(!H){pe.error("Usurio no autenticado"),t("/login");return}const{data:J,error:Q}=await Pe.from("transacoes_pessoais").select("*").eq("id_usuario",H.id).order("data",{ascending:!1});if(Q)throw Q;r(J||[])}catch(H){console.error("Erro ao carregar transaes:",H),pe.error("Erro ao carregar transaes")}finally{a(!1)}},w=async H=>{try{const{error:J}=await Pe.from("transacoes_pessoais").delete().eq("id_transacao",H);if(J)throw J;pe.success("Transao deletada com sucesso!"),g()}catch(J){console.error("Erro ao deletar transao:",J),pe.error("Erro ao deletar transao")}},v=async()=>{try{if(!h.descricao||!h.valor){pe.error("Preencha todos os campos");return}const{data:{user:H}}=await Pe.auth.getUser();if(!H){pe.error("Usurio no autenticado");return}const{error:J}=await Pe.from("transacoes_pessoais").insert([{id_usuario:H.id,tipo:h.tipo,descricao:h.descricao,valor:parseFloat(h.valor),data:new Date(h.data).toISOString()}]);if(J)throw J;pe.success("Transao adicionada com sucesso!"),c(!1),p({tipo:"ENTRADA",descricao:"",valor:"",data:new Date().toISOString().split("T")[0]}),g()}catch(H){console.error("Erro ao adicionar transao:",H),pe.error("Erro ao adicionar transao")}},S=()=>{const H=u==="TODOS"?e:e.filter($=>$.tipo===u),J=H.filter($=>$.tipo==="ENTRADA").reduce(($,G)=>$+G.valor,0),Q=H.filter($=>$.tipo==="SAIDA").reduce(($,G)=>$+G.valor,0),D=J-Q;return{entradas:J,saidas:Q,saldo:D}},x=H=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(H),_=H=>new Date(H).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),{entradas:C,saidas:L,saldo:T}=S(),R=u==="TODOS"?e:e.filter(H=>H.tipo===u);return s.jsx(zv,{children:s.jsxs("div",{className:"financeiro-pessoal-container",children:[s.jsxs("div",{className:"financeiro-header",children:[s.jsxs("button",{className:"btn-voltar",onClick:()=>t("/dashboard-selector"),children:[s.jsx(xh,{size:20}),s.jsx("span",{children:"Voltar"})]}),s.jsxs("div",{className:"financeiro-header-content",children:[s.jsxs("div",{className:"financeiro-title-section",children:[s.jsx("div",{className:"financeiro-icon",children:s.jsx(Kc,{size:32})}),s.jsxs("div",{children:[s.jsx("h1",{className:"financeiro-title",children:"Meu Financeiro Pessoal"}),s.jsx("p",{className:"financeiro-subtitle",children:"Controle suas finanas de forma privada"})]})]}),s.jsxs("button",{className:"btn-adicionar",onClick:()=>c(!0),children:[s.jsx(vn,{size:20}),s.jsx("span",{children:"Nova Transao"})]})]})]}),s.jsxs("div",{className:"financeiro-resumo",children:[s.jsxs("div",{className:"resumo-card saldo",children:[s.jsxs("div",{className:"resumo-card-header",children:[s.jsx("span",{className:"resumo-label",children:"Saldo Atual"}),s.jsx(sr,{size:20})]}),s.jsx("div",{className:"resumo-valor",children:x(T)}),s.jsx("div",{className:`resumo-badge ${T>=0?"positivo":"negativo"}`,children:T>=0?"Positivo":"Negativo"})]}),s.jsxs("div",{className:"resumo-card entradas",children:[s.jsxs("div",{className:"resumo-card-header",children:[s.jsx("span",{className:"resumo-label",children:"Entradas"}),s.jsx(al,{size:20})]}),s.jsx("div",{className:"resumo-valor",children:x(C)}),s.jsxs("div",{className:"resumo-badge positivo",children:[e.filter(H=>H.tipo==="ENTRADA").length," transaes"]})]}),s.jsxs("div",{className:"resumo-card saidas",children:[s.jsxs("div",{className:"resumo-card-header",children:[s.jsx("span",{className:"resumo-label",children:"Sadas"}),s.jsx(ha,{size:20})]}),s.jsx("div",{className:"resumo-valor",children:x(L)}),s.jsxs("div",{className:"resumo-badge negativo",children:[e.filter(H=>H.tipo==="SAIDA").length," transaes"]})]})]}),s.jsx("div",{className:"financeiro-filtros",children:s.jsxs("div",{className:"filtros-header",children:[s.jsxs("h2",{className:"filtros-title",children:[s.jsx(Cx,{size:20}),"Histrico de Transaes"]}),s.jsxs("div",{className:"filtros-buttons",children:[s.jsx("button",{className:`filtro-btn ${u==="TODOS"?"active":""}`,onClick:()=>d("TODOS"),children:"Todos"}),s.jsx("button",{className:`filtro-btn entrada ${u==="ENTRADA"?"active":""}`,onClick:()=>d("ENTRADA"),children:"Entradas"}),s.jsx("button",{className:`filtro-btn saida ${u==="SAIDA"?"active":""}`,onClick:()=>d("SAIDA"),children:"Sadas"})]})]})}),s.jsx("div",{className:"financeiro-transacoes",children:n?s.jsxs("div",{className:"loading-state",children:[s.jsx("div",{className:"spinner"}),s.jsx("p",{children:"Carregando transaes..."})]}):R.length===0?s.jsxs("div",{className:"empty-state",children:[s.jsx(yE,{size:64}),s.jsx("h3",{children:"Nenhuma transao encontrada"}),s.jsx("p",{children:"Adicione sua primeira transao para comear!"}),s.jsxs("button",{className:"btn-primary",onClick:()=>c(!0),children:[s.jsx(vn,{size:20}),"Adicionar Transao"]})]}):s.jsx("div",{className:"transacoes-lista",children:R.map(H=>s.jsxs("div",{className:`transacao-item ${H.tipo.toLowerCase()}`,children:[s.jsx("div",{className:"transacao-icon",children:H.tipo==="ENTRADA"?s.jsx(al,{size:24}):s.jsx(ha,{size:24})}),s.jsxs("div",{className:"transacao-info",children:[s.jsx("h3",{className:"transacao-descricao",children:H.descricao}),s.jsxs("div",{className:"transacao-meta",children:[s.jsx(ka,{size:14}),s.jsx("span",{children:_(H.data)})]})]}),s.jsxs("div",{className:"transacao-valor-container",children:[s.jsxs("span",{className:`transacao-valor ${H.tipo.toLowerCase()}`,children:[H.tipo==="ENTRADA"?"+":"-"," ",x(H.valor)]}),s.jsx("button",{className:"btn-delete",onClick:()=>w(H.id_transacao),title:"Deletar transao",children:s.jsx(zn,{size:16})})]})]},H.id_transacao))})}),i&&s.jsx("div",{className:"modal-overlay",onClick:()=>c(!1),children:s.jsxs("div",{className:"modal-content",onClick:H=>H.stopPropagation(),children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h2",{children:"Nova Transao"}),s.jsx("button",{className:"modal-close",onClick:()=>c(!1),children:""})]}),s.jsxs("div",{className:"modal-body",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Tipo"}),s.jsxs("div",{className:"tipo-buttons",children:[s.jsxs("button",{className:`tipo-btn entrada ${h.tipo==="ENTRADA"?"active":""}`,onClick:()=>p({...h,tipo:"ENTRADA"}),children:[s.jsx(al,{size:20}),"Entrada"]}),s.jsxs("button",{className:`tipo-btn saida ${h.tipo==="SAIDA"?"active":""}`,onClick:()=>p({...h,tipo:"SAIDA"}),children:[s.jsx(ha,{size:20}),"Sada"]})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Descrio"}),s.jsx("input",{type:"text",placeholder:"Ex: Salrio, Aluguel, Compras...",value:h.descricao,onChange:H=>p({...h,descricao:H.target.value})})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Valor"}),s.jsx("input",{type:"number",step:"0.01",placeholder:"0,00",value:h.valor,onChange:H=>p({...h,valor:H.target.value})})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Data"}),s.jsx("input",{type:"date",value:h.data,onChange:H=>p({...h,data:H.target.value})})]})]}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{className:"btn-secondary",onClick:()=>c(!1),children:"Cancelar"}),s.jsxs("button",{className:"btn-primary",onClick:v,children:[s.jsx(vn,{size:20}),"Adicionar"]})]})]})})]})})},TC=()=>{const[t,e]=k.useState([]),[r,n]=k.useState(!0),[a,i]=k.useState(!1),[c,u]=k.useState("TODOS"),[d,h]=k.useState({descricao:"",valor:"",data_vencimento:new Date().toISOString().split("T")[0],status:"pendente"});k.useEffect(()=>{p()},[]);const p=async()=>{try{n(!0);const{data:{user:J}}=await Pe.auth.getUser();if(!J){pe.error("Usurio no autenticado");return}const{data:Q,error:D}=await Pe.from("dividas_pessoais").select("*").eq("id_usuario",J.id).order("data_vencimento",{ascending:!0});if(D)throw D;e(Q||[])}catch(J){console.error("Erro ao carregar dvidas:",J),pe.error("Erro ao carregar dvidas")}finally{n(!1)}},g=async()=>{try{if(!d.descricao||!d.valor){pe.error("Preencha todos os campos obrigatrios");return}const{data:{user:J}}=await Pe.auth.getUser();if(!J){pe.error("Usurio no autenticado");return}const{error:Q}=await Pe.from("dividas_pessoais").insert([{id_usuario:J.id,descricao:d.descricao,valor:parseFloat(d.valor),data_vencimento:d.data_vencimento,status:d.status}]);if(Q)throw Q;pe.success("Dvida adicionada com sucesso!"),i(!1),h({descricao:"",valor:"",data_vencimento:new Date().toISOString().split("T")[0],status:"pendente"}),p()}catch(J){console.error("Erro ao adicionar dvida:",J),pe.error("Erro ao adicionar dvida")}},w=async J=>{try{const{error:Q}=await Pe.from("dividas_pessoais").delete().eq("id_divida",J);if(Q)throw Q;pe.success("Dvida deletada com sucesso!"),p()}catch(Q){console.error("Erro ao deletar dvida:",Q),pe.error("Erro ao deletar dvida")}},v=async(J,Q)=>{try{const{error:D}=await Pe.from("dividas_pessoais").update({status:Q}).eq("id_divida",J);if(D)throw D;pe.success("Status atualizado com sucesso!"),p()}catch(D){console.error("Erro ao atualizar status:",D),pe.error("Erro ao atualizar status")}},S=()=>{const J=c==="TODOS"?t:t.filter(G=>G.status===c),Q=J.filter(G=>G.status==="pendente").reduce((G,z)=>G+z.valor,0),D=J.filter(G=>G.status==="paga").reduce((G,z)=>G+z.valor,0),$=J.filter(G=>G.status==="atrasada").reduce((G,z)=>G+z.valor,0);return{totalPendente:Q,totalPaga:D,totalAtrasada:$,total:Q+D+$}},x=J=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(J),_=J=>new Date(J).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),{totalPendente:C,totalPaga:L,totalAtrasada:T}=S(),R=c==="TODOS"?t:t.filter(J=>J.status===c),H=J=>{switch(J){case"pendente":return"warning";case"paga":return"positivo";case"atrasada":return"negativo";default:return"info"}};return s.jsx(zv,{children:s.jsxs("div",{className:"financeiro-pessoal-container",children:[s.jsx("div",{className:"financeiro-header",children:s.jsxs("div",{className:"financeiro-header-content",children:[s.jsxs("div",{className:"financeiro-title-section",children:[s.jsx("div",{className:"financeiro-icon",children:s.jsx(ch,{size:32})}),s.jsxs("div",{children:[s.jsx("h1",{className:"financeiro-title",children:"Minhas Dvidas Pessoais"}),s.jsx("p",{className:"financeiro-subtitle",children:"Acompanhe suas dvidas e compromissos financeiros"})]})]}),s.jsxs("button",{className:"btn-adicionar",onClick:()=>i(!0),children:[s.jsx(vn,{size:20}),s.jsx("span",{children:"Nova Dvida"})]})]})}),s.jsxs("div",{className:"financeiro-resumo",children:[s.jsxs("div",{className:"resumo-card warning",children:[s.jsxs("div",{className:"resumo-card-header",children:[s.jsx("span",{className:"resumo-label",children:"Pendentes"}),s.jsx(ha,{size:20})]}),s.jsx("div",{className:"resumo-valor",children:x(C)}),s.jsxs("div",{className:"resumo-badge warning",children:[t.filter(J=>J.status==="pendente").length," dvidas"]})]}),s.jsxs("div",{className:"resumo-card info",children:[s.jsxs("div",{className:"resumo-card-header",children:[s.jsx("span",{className:"resumo-label",children:"Pagas"}),s.jsx(ha,{size:20})]}),s.jsx("div",{className:"resumo-valor",children:x(L)}),s.jsxs("div",{className:"resumo-badge positivo",children:[t.filter(J=>J.status==="paga").length," dvidas"]})]}),s.jsxs("div",{className:"resumo-card danger",children:[s.jsxs("div",{className:"resumo-card-header",children:[s.jsx("span",{className:"resumo-label",children:"Atrasadas"}),s.jsx(ha,{size:20})]}),s.jsx("div",{className:"resumo-valor",children:x(T)}),s.jsxs("div",{className:"resumo-badge negativo",children:[t.filter(J=>J.status==="atrasada").length," dvidas"]})]})]}),s.jsx("div",{className:"financeiro-filtros",children:s.jsxs("div",{className:"filtros-header",children:[s.jsx("h2",{className:"filtros-title",children:"Lista de Dvidas"}),s.jsx("div",{className:"filtros-buttons",children:["TODOS","pendente","paga","atrasada"].map(J=>s.jsx("button",{className:`filtro-btn ${c===J?"active":""}`,onClick:()=>u(J),children:J==="TODOS"?"Todas":J.charAt(0).toUpperCase()+J.slice(1)},J))})]})}),s.jsx("div",{className:"financeiro-transacoes",children:r?s.jsxs("div",{className:"loading-state",children:[s.jsx("div",{className:"spinner"}),s.jsx("p",{children:"Carregando dvidas..."})]}):R.length===0?s.jsxs("div",{className:"empty-state",children:[s.jsx(ch,{size:64}),s.jsx("h3",{children:"Nenhuma dvida encontrada"}),s.jsx("p",{children:"Adicione sua primeira dvida para comear a acompanhar!"}),s.jsxs("button",{className:"btn-primary",onClick:()=>i(!0),children:[s.jsx(vn,{size:20}),"Adicionar Dvida"]})]}):s.jsx("div",{className:"transacoes-lista",children:R.map(J=>s.jsxs("div",{className:`transacao-item ${J.status}`,children:[s.jsx("div",{className:"transacao-icon",children:s.jsx(ch,{size:24})}),s.jsxs("div",{className:"transacao-info",children:[s.jsx("h3",{className:"transacao-descricao",children:J.descricao}),s.jsxs("div",{className:"transacao-meta",children:[s.jsx(ka,{size:14}),s.jsxs("span",{children:["Vencimento: ",_(J.data_vencimento)]})]})]}),s.jsxs("div",{className:"transacao-valor-container",children:[s.jsx("div",{className:"status-control",children:s.jsxs("select",{value:J.status,onChange:Q=>v(J.id_divida,Q.target.value),className:"status-select",children:[s.jsx("option",{value:"pendente",children:"Pendente"}),s.jsx("option",{value:"paga",children:"Paga"}),s.jsx("option",{value:"atrasada",children:"Atrasada"})]})}),s.jsx("span",{className:`transacao-valor ${H(J.status)}`,children:x(J.valor)}),s.jsx("button",{className:"btn-delete",onClick:()=>w(J.id_divida),title:"Deletar dvida",children:s.jsx(zn,{size:16})})]})]},J.id_divida))})}),a&&s.jsx("div",{className:"modal-overlay",onClick:()=>i(!1),children:s.jsxs("div",{className:"modal-content",onClick:J=>J.stopPropagation(),children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h2",{children:"Nova Dvida Pessoal"}),s.jsx("button",{className:"modal-close",onClick:()=>i(!1),children:""})]}),s.jsxs("div",{className:"modal-body",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Descrio *"}),s.jsx("input",{type:"text",placeholder:"Ex: Emprstimo, Carto de crdito...",value:d.descricao,onChange:J=>h({...d,descricao:J.target.value})})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Valor *"}),s.jsx("input",{type:"number",step:"0.01",placeholder:"0,00",value:d.valor,onChange:J=>h({...d,valor:J.target.value})})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Data de Vencimento"}),s.jsx("input",{type:"date",value:d.data_vencimento,onChange:J=>h({...d,data_vencimento:J.target.value})})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Status"}),s.jsxs("select",{value:d.status,onChange:J=>h({...d,status:J.target.value}),children:[s.jsx("option",{value:"pendente",children:"Pendente"}),s.jsx("option",{value:"paga",children:"Paga"}),s.jsx("option",{value:"atrasada",children:"Atrasada"})]})]})]}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{className:"btn-secondary",onClick:()=>i(!1),children:"Cancelar"}),s.jsxs("button",{className:"btn-primary",onClick:g,children:[s.jsx(vn,{size:20}),"Adicionar"]})]})]})})]})})},RC=()=>{const t=Qs(),[e,r]=k.useState({}),[n,a]=k.useState(!0);k.useEffect(()=>{i()},[]);const i=async()=>{try{a(!0);const{data:{user:d}}=await Pe.auth.getUser();if(!d){pe.error("Usurio no autenticado");return}r({email:d.email,name:d.user_metadata?.name||"Usurio",created_at:d.created_at})}catch(d){console.error("Erro ao carregar dados:",d),pe.error("Erro ao carregar dados")}finally{a(!1)}},c=async()=>{try{await Pe.auth.signOut(),pe.success("Desconectado com sucesso!"),t("/login")}catch(d){console.error("Erro ao desconectar:",d),pe.error("Erro ao desconectar")}},u=d=>d?new Date(d).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}):"";return s.jsx(zv,{children:s.jsxs("div",{className:"financeiro-pessoal-container",children:[s.jsx("div",{className:"financeiro-header",children:s.jsx("div",{className:"financeiro-header-content",children:s.jsxs("div",{className:"financeiro-title-section",children:[s.jsx("div",{className:"financeiro-icon",children:s.jsx(ol,{size:32})}),s.jsxs("div",{children:[s.jsx("h1",{className:"financeiro-title",children:"Minha Conta Pessoal"}),s.jsx("p",{className:"financeiro-subtitle",children:"Gerencie seus dados e preferncias"})]})]})})}),s.jsxs("div",{className:"financeiro-resumo",children:[s.jsxs("div",{className:"resumo-card saldo",children:[s.jsxs("div",{className:"resumo-card-header",children:[s.jsx("span",{className:"resumo-label",children:"Usurio"}),s.jsx(ol,{size:20})]}),s.jsx("div",{className:"resumo-valor",children:n?"...":e.name}),s.jsx("div",{className:"resumo-badge positivo",children:"Conta Ativa"})]}),s.jsxs("div",{className:"resumo-card info",children:[s.jsxs("div",{className:"resumo-card-header",children:[s.jsx("span",{className:"resumo-label",children:"Email"}),s.jsx(Px,{size:20})]}),s.jsx("div",{className:"resumo-valor",style:{fontSize:"0.9rem",wordBreak:"break-all"},children:n?"...":e.email}),s.jsx("div",{className:"resumo-badge info",children:"Verificado"})]})]}),s.jsxs("div",{className:"financeiro-transacoes",children:[s.jsxs("div",{className:"info-section",children:[s.jsx("h3",{className:"info-title",children:"Informaes da Conta"}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Data de Criao:"}),s.jsx("span",{className:"info-value",children:u(e.created_at)})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Status:"}),s.jsx("span",{className:"info-value",children:"Ativo"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Tipo de Conta:"}),s.jsx("span",{className:"info-value",children:"Financeiro Pessoal"})]})]}),s.jsxs("div",{className:"info-section",style:{marginTop:"2rem"},children:[s.jsx("h3",{className:"info-title",children:"Segurana e Privacidade"}),s.jsx("p",{className:"info-description",children:"Seus dados financeiros pessoais so armazenados de forma segura e criptografada. Apenas voc tem acesso s suas transaes e dvidas."}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Dados Pessoais:"}),s.jsx("span",{className:"info-value",children:"Protegidos por RLS (Row Level Security)"})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"Privacidade:"}),s.jsx("span",{className:"info-value",children:"Exclusiva para voc"})]})]}),s.jsxs("div",{className:"info-section",style:{marginTop:"2rem"},children:[s.jsx("h3",{className:"info-title",children:"Aes"}),s.jsxs("button",{className:"btn-logout",onClick:c,children:[s.jsx(kx,{size:20}),s.jsx("span",{children:"Sair da Conta"})]})]})]})]})})},Tx=({isOpen:t,title:e,message:r,onConfirm:n,onCancel:a,confirmText:i="Confirmar",cancelText:c="Cancelar"})=>t?s.jsx("div",{className:"confirm-dialog-overlay",onClick:a,children:s.jsxs("div",{className:"confirm-dialog-content",onClick:u=>u.stopPropagation(),children:[s.jsx("div",{className:"confirm-dialog-icon",children:s.jsx(xC,{})}),s.jsx("h3",{className:"confirm-dialog-title",children:e}),s.jsx("p",{className:"confirm-dialog-message",children:r}),s.jsxs("div",{className:"confirm-dialog-actions",children:[s.jsx("button",{className:"confirm-dialog-btn confirm-dialog-btn-cancel",onClick:a,children:c}),s.jsx("button",{className:"confirm-dialog-btn confirm-dialog-btn-confirm",onClick:n,children:i})]})]})}):null,DC=async()=>{const{data:t,error:e}=await Pe.from("cards_de_obra").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]},IC=async t=>{const{data:e,error:r}=await Pe.from("cards_de_obra").insert([{...t,saldo_atual:0,total_gasto:0,status:"PENDENTE"}]).select().single();if(r)throw r;return e},FC=async(t,e)=>{const{data:r,error:n}=await Pe.from("cards_de_obra").update(e).eq("id_card",t).select().single();if(n)throw n;return r},MC=async t=>{const{error:e}=await Pe.from("cards_de_obra").delete().eq("id_card",t);if(e)throw e},zC=async(t,e)=>{const r=t.saldo_atual+e,{error:n}=await Pe.from("cards_de_obra").update({saldo_atual:r,status:"EM_ANDAMENTO"}).eq("id_card",t.id_card);if(n)throw n;const{error:a}=await Pe.from("transacoes").insert({tipo:"saida",valor:e,origem:`Verba para Card - ${t.titulo}`,data:new Date().toISOString().split("T")[0],observacao:`Transferncia para ${t.nome_cliente}`,categoria:"Verba para Obra"});a&&console.warn("Aviso: Transao no foi registrada no caixa",a);try{const{data:i}=await Pe.from("obras").select("id, orcamento").eq("titulo",t.titulo).limit(1);if(i&&i.length>0){const c=i[0];await Pe.from("gastos_obra").insert({obra_id:c.id,categoria:"Verba Enviada",descricao:`Verba transferida para card de ${t.nome_cliente}`,valor:e,data:new Date().toISOString().split("T")[0]});const u=(c.orcamento||0)-e;await Pe.from("obras").update({orcamento:u}).eq("id",c.id)}}catch(i){console.warn("Aviso: Erro ao registrar gasto na obra",i)}try{const{data:i}=await Pe.from("categorias_de_gasto").select("id_categoria").eq("nome","Verba para Obra").limit(1);i&&i.length>0&&await Pe.from("despesas_de_obra").insert({id_card:t.id_card,id_categoria:i[0].id_categoria,descricao:"Verba transferida para execuo da obra",valor:e,data:new Date().toISOString(),url_comprovante:"verba_transferida",status:"APROVADO"})}catch(i){console.warn("Aviso: Erro ao registrar despesa de obra",i)}},BC=async t=>{const{error:e}=await Pe.from("cards_de_obra").update({status:"EM_ANALISE",finalizado_em:new Date().toISOString()}).eq("id_card",t);if(e)throw e},UC=async t=>{const e=t.saldo_atual;try{const{data:n}=await Pe.from("categorias_de_gasto").select("id_categoria").eq("nome","Verba para Obra").limit(1);n&&n.length>0&&e>0&&await Pe.from("despesas_de_obra").insert({id_card:t.id_card,id_categoria:n[0].id_categoria,descricao:"Estorno de verba no utilizada",valor:-e,data:new Date().toISOString(),url_comprovante:"estorno_aprovacao",status:"APROVADO"})}catch(n){console.warn("Aviso: Erro ao registrar estorno",n)}try{const{data:n}=await Pe.from("obras").select("id, orcamento").eq("titulo",t.titulo).limit(1);if(n&&n.length>0&&e>0){const a=n[0],i=(a.orcamento||0)+e;await Pe.from("obras").update({orcamento:i}).eq("id",a.id)}}catch(n){console.warn("Aviso: Erro ao devolver ao oramento",n)}e>0&&await Pe.from("transacoes").insert({tipo:"entrada",valor:e,origem:`Estorno de verba - ${t.titulo}`,data:new Date().toISOString().split("T")[0],observacao:`Devoluo de saldo no utilizado por ${t.nome_cliente}`,categoria:"Estorno de Verba"});const{error:r}=await Pe.from("cards_de_obra").update({saldo_atual:0,status:"FINALIZADO",aprovado_em:new Date().toISOString()}).eq("id_card",t.id_card);if(r)throw r},qC=async(t,e)=>{const{error:r}=await Pe.from("cards_de_obra").update({status:"EM_ANDAMENTO",finalizado_em:null}).eq("id_card",t);if(r)throw r},$C=async(t,e,r)=>{const{data:n,error:a}=await Pe.from("obras").select("*").eq("id",t).single();if(a)throw a;const i={titulo:n.titulo||n.nome||"Sem ttulo",nome_cliente:n.nome||"Cliente",valor_venda_orcamento:n.orcamento||0,id_visualizador_responsavel:e,saldo_atual:r,total_gasto:0,status:"EM_ANDAMENTO"},{data:c,error:u}=await Pe.from("cards_de_obra").insert([i]).select().single();if(u)throw u;if(r>0&&await Pe.from("transacoes").insert({tipo:"saida",valor:r,origem:`Verba Inicial para ${i.titulo}`,data:new Date().toISOString().split("T")[0],observacao:"Verba inicial para funcionrio",categoria:"Verba para Obra"}),r>0){const d=(n.orcamento||0)-r;await Pe.from("obras").update({orcamento:d}).eq("id",t)}return c},Bv=()=>{const[t,e]=k.useState([]),[r,n]=k.useState(!0),[a,i]=k.useState(null),c=k.useCallback(async()=>{try{n(!0);const x=await DC();e(x)}catch(x){console.error("Erro ao carregar cards:",x),pe.error("Erro ao carregar cards de obra")}finally{n(!1)}},[]);return k.useEffect(()=>{c()},[c]),{cards:t,loading:r,selectedCard:a,setSelectedCard:i,carregarCards:c,criarCard:async x=>{try{await IC(x),pe.success("Card criado com sucesso!"),await c()}catch(_){throw console.error("Erro ao criar card:",_),pe.error("Erro ao criar card"),_}},atualizarCard:async(x,_)=>{try{await FC(x,_),pe.success("Card atualizado com sucesso!"),await c()}catch(C){throw console.error("Erro ao atualizar card:",C),pe.error("Erro ao atualizar card"),C}},deletarCard:async x=>{try{await MC(x),pe.success("Card deletado com sucesso!"),await c()}catch(_){throw console.error("Erro ao deletar card:",_),pe.error("Erro ao deletar card"),_}},transferirVerba:async(x,_)=>{try{if(await zC(x,_),pe.success(`R$ ${_.toFixed(2)} transferido com sucesso! Registrado como gasto, sada no caixa e oramento atualizado.`),await c(),a&&a.id_card===x.id_card){const C=t.find(L=>L.id_card===x.id_card);C&&i(C)}}catch(C){throw console.error("Erro ao transferir verba:",C),pe.error("Erro ao transferir verba"),C}},finalizarCard:async x=>{try{await BC(x),pe.success("Card finalizado! Aguardando anlise."),await c(),i(null)}catch(_){throw console.error("Erro ao finalizar card:",_),pe.error("Erro ao finalizar card"),_}},aprovarCard:async x=>{try{await UC(x),pe.success("Card aprovado com sucesso! Estorno realizado."),await c(),i(null)}catch(_){throw console.error("Erro ao aprovar card:",_),pe.error("Erro ao aprovar card"),_}},rejeitarCard:async(x,_)=>{try{await qC(x,_),pe.success("Card rejeitado. Status voltou para Em Andamento."),await c(),i(null)}catch(C){throw console.error("Erro ao rejeitar card:",C),pe.error("Erro ao rejeitar card"),C}},vincularCardComObra:async(x,_,C)=>{try{await $C(x,_,C),pe.success("Card vinculado e verba transferida!"),await c()}catch(L){throw console.error("Erro ao vincular card:",L),pe.error("Erro ao vincular card com obra"),L}}}},VC=async()=>{const{data:t,error:e}=await Pe.from("categorias_de_gasto").select("*").order("nome");if(e)throw e;return t||[]},WC=async t=>{const{data:e,error:r}=await Pe.from("despesas_de_obra").select(`
      *,
      categoria:categorias_de_gasto(*)
    `).eq("id_card",t).order("data",{ascending:!1});if(r)throw r;return e||[]},HC=async(t,e)=>{const{error:r}=await Pe.from("despesas_de_obra").insert([{id_card:t,id_categoria:e.id_categoria,descricao:e.descricao,valor:e.valor,url_comprovante:e.url_comprovante||"sem_comprovante",status:"PENDENTE"}]);if(r)throw r},GC=async t=>{const{error:e}=await Pe.from("despesas_de_obra").delete().eq("id_despesa",t);if(e)throw e},KC=async(t,e,r)=>{const{error:n}=await Pe.from("despesas_de_obra").update({status:e,notas_admin:r}).eq("id_despesa",t);if(n)throw n},YC=t=>{const[e,r]=k.useState([]),[n,a]=k.useState([]),[i,c]=k.useState(!1),u=k.useCallback(async()=>{try{const w=await VC();a(w)}catch(w){console.error("Erro ao carregar categorias:",w),pe.error("Erro ao carregar categorias")}},[]),d=k.useCallback(async w=>{try{c(!0);const v=await WC(w);r(v)}catch(v){console.error("Erro ao carregar despesas:",v),pe.error("Erro ao carregar despesas")}finally{c(!1)}},[]);return k.useEffect(()=>{u()},[u]),k.useEffect(()=>{},[t,d]),{despesas:e,categorias:n,loading:i,carregarDespesas:d,carregarCategorias:u,registrarDespesa:async(w,v)=>{try{await HC(w,v),pe.success("Despesa registrada com sucesso!"),await d(w)}catch(S){throw console.error("Erro ao registrar despesa:",S),pe.error("Erro ao registrar despesa"),S}},deletarDespesa:async(w,v)=>{try{await GC(w),pe.success("Despesa deletada com sucesso!"),await d(v)}catch(S){throw console.error("Erro ao deletar despesa:",S),pe.error("Erro ao deletar despesa"),S}},atualizarStatusDespesa:async(w,v,S,x)=>{try{await KC(w,v,x),pe.success(`Despesa ${v.toLowerCase()}!`),await d(S)}catch(_){throw console.error("Erro ao atualizar status:",_),pe.error("Erro ao atualizar status da despesa"),_}}}},JC=()=>{const t=Qs(),{isAdmin:e}=ui(),{cards:r,selectedCard:n,setSelectedCard:a,transferirVerba:i,aprovarCard:c,rejeitarCard:u,carregarCards:d}=Bv(),{categorias:h,carregarCategorias:p}=YC(),[g,w]=k.useState([]),[v,S]=k.useState([]),[x,_]=k.useState(!0),[C,L]=k.useState("TODOS"),[T,R]=k.useState(""),[H,J]=k.useState(!1),[Q,D]=k.useState(!1),[$,G]=k.useState(!1),[z,F]=k.useState(!1),[P,M]=k.useState(!1),[fe,ae]=k.useState(!1),[se,q]=k.useState(null),[me,Ne]=k.useState(!1),[te,I]=k.useState({isOpen:!1,cardId:null}),[Y,Z]=k.useState([]),[ue,ge]=k.useState([]),[le,xe]=k.useState({id_obra:"",id_funcionario:"",valor_inicial:""}),[ye,ke]=k.useState({titulo:"",nome_cliente:"",valor_venda_orcamento:"",id_funcionario:""}),[De,He]=k.useState({titulo:"",nome_cliente:"",valor_venda_orcamento:"",id_funcionario:""}),[tt,Fe]=k.useState({valor:""}),[de,zt]=k.useState({descricao:"",valor:"",id_categoria:"",comprovante:null}),[wt,bt]=k.useState({valor:"",justificativa:""}),[Ve,gt]=k.useState({nome:"",email:""});k.useEffect(()=>{we()},[]);const we=async()=>{try{_(!0),await Promise.all([d(),p(),e&&Je(),e&&V()])}catch(ne){console.error("Erro ao carregar dados:",ne),pe.error("Erro ao carregar dados")}finally{_(!1)}},Je=async()=>{try{console.log(" Carregando obras disponveis...");const{data:ne,error:dt}=await Pe.from("obras").select("id, nome, orcamento, finalizada").eq("finalizada",!1).order("nome");if(dt)throw console.error(" Erro ao buscar obras:",dt),dt;console.log(` ${ne?.length||0} obras encontradas:`,ne),Z(ne||[]),(!ne||ne.length===0)&&console.warn(' Nenhuma obra no finalizada encontrada. Cadastre obras na aba "Obras" do sistema.')}catch(ne){console.error("Erro ao carregar obras:",ne),pe.error("Erro ao carregar obras. Verifique as polticas RLS no Supabase.")}},V=async()=>{try{console.log(" Carregando funcionrios...");const{data:ne,error:dt}=await Pe.from("usuarios").select("id, nome, email, permissao").eq("permissao","visualizador").order("nome");if(dt)throw console.error(" Erro ao buscar funcionrios:",dt),dt;console.log(` ${ne?.length||0} funcionrios encontrados:`,ne),ge(ne||[]),(!ne||ne.length===0)&&console.warn(' Nenhum usurio com permissao "visualizador" encontrado. Verifique a tabela usuarios.')}catch(ne){console.error("Erro ao carregar funcionrios:",ne),pe.error("Erro ao carregar funcionrios. Verifique as polticas RLS.")}},be=async()=>{try{if(!le.id_obra||!le.id_funcionario){pe.error("Selecione uma obra e um funcionrio");return}const ne=le.valor_inicial?parseFloat(le.valor_inicial):0,{data:dt,error:Tt}=await Pe.from("obras").select("*").eq("id",le.id_obra).single();if(Tt)throw Tt;const Kt={titulo:dt.titulo||dt.nome||"Sem ttulo",nome_cliente:dt.nome_cliente||"Cliente Desconhecido",valor_venda_orcamento:dt.valor_venda_orcamento||dt.orcamento||0,saldo_atual:ne,id_visualizador_responsavel:le.id_funcionario,status:ne>0?"EM_ANDAMENTO":"PENDENTE"};console.log("Payload enviado para cards_de_obra:",Kt);const{error:dr}=await Pe.from("cards_de_obra").insert([Kt]);if(dr)throw dr;if(ne>0){const{error:yt}=await Pe.from("transacoes").insert({tipo:"saida",valor:ne,origem:`Verba Inicial para ${Kt.titulo}`,data:new Date().toISOString().split("T")[0],observacao:`Verba inicial para ${Kt.nome_cliente}`,categoria:"Verba para Obra"});yt&&console.warn("Aviso: Valor inicial no foi registrado no caixa",yt);const fr=(dt.orcamento||dt.valor_venda_orcamento||0)-ne,{error:yn}=await Pe.from("obras").update({orcamento:fr}).eq("id",le.id_obra);yn&&console.warn("Aviso: Oramento da obra no foi atualizado",yn)}pe.success("Obra vinculada ao funcionrio com sucesso!"),G(!1),xe({id_obra:"",id_funcionario:"",valor_inicial:""}),d(),Je()}catch(ne){console.error("Erro ao vincular obra:",ne),pe.error("Erro ao vincular obra")}},oe=(ne,dt)=>{dt.stopPropagation(),q(ne),He({titulo:ne.titulo,nome_cliente:ne.nome_cliente,valor_venda_orcamento:ne.valor_venda_orcamento.toString(),id_funcionario:ne.id_visualizador_responsavel}),D(!0)},Be=async()=>{try{if(!se)return;if(!De.titulo||!De.nome_cliente||!De.valor_venda_orcamento||!De.id_funcionario){pe.error("Preencha todos os campos obrigatrios");return}const{error:ne}=await Pe.from("cards_de_obra").update({titulo:De.titulo,nome_cliente:De.nome_cliente,valor_venda_orcamento:parseFloat(De.valor_venda_orcamento),id_visualizador_responsavel:De.id_funcionario}).eq("id_card",se.id_card);if(ne)throw ne;pe.success("Card atualizado com sucesso!"),D(!1),q(null),He({titulo:"",nome_cliente:"",valor_venda_orcamento:"",id_funcionario:""}),d()}catch(ne){console.error("Erro ao editar card:",ne),pe.error("Erro ao atualizar card")}},ct=(ne,dt)=>{dt.stopPropagation(),I({isOpen:!0,cardId:ne})},ot=async()=>{const ne=te.cardId;if(ne)try{const{error:dt}=await Pe.from("despesas_de_obra").delete().eq("id_card",ne);if(dt)throw dt;const{error:Tt}=await Pe.from("solicitacoes_de_verba").delete().eq("id_card",ne);if(Tt)throw Tt;const{error:Kt}=await Pe.from("cards_de_obra").delete().eq("id_card",ne);if(Kt)throw Kt;pe.success("Card excludo com sucesso!"),d(),I({isOpen:!1,cardId:null})}catch(dt){console.error("Erro ao excluir card:",dt),pe.error("Erro ao excluir card")}},rt=()=>{I({isOpen:!1,cardId:null})},Xe=async ne=>{try{a(ne);const{data:dt,error:Tt}=await Pe.from("despesas_de_obra").select(`
          *,
          categoria:categorias_de_gasto(*)
        `).eq("id_card",ne.id_card).order("data",{ascending:!1});if(Tt)throw Tt;const Kt=(dt||[]).filter(fr=>!(fr?.url_comprovante??"").startsWith("verba_"));w(Kt);const{data:dr,error:yt}=await Pe.from("solicitacoes_de_verba").select("*").eq("id_card",ne.id_card).order("data_solicitacao",{ascending:!1});if(yt)throw yt;S(dr||[])}catch(dt){console.error("Erro ao carregar detalhes:",dt),pe.error("Erro ao carregar detalhes do card")}},Me=async()=>{try{if(!ye.titulo||!ye.nome_cliente||!ye.valor_venda_orcamento||!ye.id_funcionario){pe.error("Preencha todos os campos obrigatrios");return}const{error:ne}=await Pe.from("cards_de_obra").insert([{titulo:ye.titulo,nome_cliente:ye.nome_cliente,valor_venda_orcamento:parseFloat(ye.valor_venda_orcamento),id_visualizador_responsavel:ye.id_funcionario,status:"PENDENTE"}]);if(ne)throw ne;pe.success("Card criado com sucesso!"),J(!1),ke({titulo:"",nome_cliente:"",valor_venda_orcamento:"",id_funcionario:""}),d()}catch(ne){console.error("Erro ao criar card:",ne),pe.error("Erro ao criar card")}},Ge=async()=>{try{if(!n||!tt.valor){pe.error("Preencha o valor");return}const ne=parseFloat(tt.valor);if(await i(n,ne),F(!1),Fe({valor:""}),n){const dt=n.saldo_atual+ne,Tt={...n,saldo_atual:dt,status:"EM_ANDAMENTO"};Xe(Tt)}}catch(ne){console.error("Erro ao transferir verba:",ne),pe.error("Erro ao transferir verba")}},xt=async()=>{try{if(!n||!de.descricao||!de.valor||!de.id_categoria){pe.error("Preencha todos os campos");return}const ne=parseFloat(de.valor);if(ne>n.saldo_atual){pe.error("Saldo insuficiente no card!");return}const dt=de.comprovante?"pending_upload":"sem_comprovante",Tt=n.saldo_atual-ne,Kt=n.total_gasto+ne,{error:dr}=await Pe.from("despesas_de_obra").insert([{id_card:n.id_card,id_categoria:de.id_categoria,descricao:de.descricao,valor:ne,url_comprovante:dt}]);if(dr)throw dr;const{error:yt}=await Pe.from("cards_de_obra").update({saldo_atual:Tt,total_gasto:Kt}).eq("id_card",n.id_card);if(yt)throw yt;if(pe.success("Despesa registrada com sucesso!"),M(!1),zt({descricao:"",valor:"",id_categoria:"",comprovante:null}),d(),n){const fr={...n,saldo_atual:Tt,total_gasto:Kt};Xe(fr)}}catch(ne){console.error("Erro ao registrar despesa:",ne),pe.error("Erro ao registrar despesa")}},lt=async()=>{try{if(!n||!wt.valor||!wt.justificativa){pe.error("Preencha todos os campos");return}const{data:{user:ne}}=await Pe.auth.getUser();if(!ne)return;const{error:dt}=await Pe.from("solicitacoes_de_verba").insert([{id_card:n.id_card,id_solicitante:ne.id,valor:parseFloat(wt.valor),justificativa:wt.justificativa}]);if(dt)throw dt;const{error:Tt}=await Pe.from("cards_de_obra").update({status:"AGUARDANDO_VERBA"}).eq("id_card",n.id_card);if(Tt)throw Tt;if(pe.success("Solicitao de verba enviada!"),ae(!1),bt({valor:"",justificativa:""}),d(),n){const Kt={...n,status:"AGUARDANDO_VERBA"};Xe(Kt)}}catch(ne){console.error("Erro ao solicitar verba:",ne),pe.error("Erro ao solicitar verba")}},mt=async()=>{try{if(!n||!window.confirm(`Deseja finalizar esta obra e enviar para anlise?

O card ser travado e no poder mais registrar despesas at a aprovao do admin.`))return;const{error:dt}=await Pe.from("cards_de_obra").update({status:"EM_ANALISE",finalizado_em:new Date().toISOString()}).eq("id_card",n.id_card);if(dt)throw dt;pe.success("Obra enviada para anlise!"),d(),a(null)}catch(ne){console.error("Erro ao finalizar obra:",ne),pe.error("Erro ao finalizar obra")}},St=async()=>{try{if(!n||!window.confirm(`Deseja APROVAR esta obra?

Os gastos sero finalizados e o saldo restante ser devolvido ao oramento da obra.`))return;await c(n),a(null)}catch(ne){console.error("Erro ao aprovar obra:",ne)}},Ze=async()=>{try{if(!n)return;const ne=prompt("Digite o motivo da rejeio:");if(!ne)return;await u(n.id_card,ne),a(null)}catch(ne){console.error("Erro ao rejeitar obra:",ne)}},Bt=async()=>{try{if(!Ve.nome||!Ve.email){pe.error("Preencha todos os campos");return}const ne=crypto.randomUUID(),{error:dt}=await Pe.from("usuarios").insert([{id:ne,nome:Ve.nome,email:Ve.email,permissao:"visualizador"}]);if(dt)throw dt;pe.success("Funcionrio cadastrado com sucesso!"),Ne(!1),gt({nome:"",email:""}),V()}catch(ne){console.error("Erro ao cadastrar funcionrio:",ne),pe.error("Erro ao cadastrar funcionrio")}},pt=ne=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ne),ar=ne=>new Date(ne).toLocaleDateString("pt-BR"),nr=ne=>({PENDENTE:{label:"Pendente",color:"#f59e0b",icon:wh},EM_ANDAMENTO:{label:"Em Andamento",color:"#3b82f6",icon:Mn},AGUARDANDO_VERBA:{label:"Aguardando Verba",color:"#8b5cf6",icon:So},EM_ANALISE:{label:"Em Anlise",color:"#06b6d4",icon:Ps},FINALIZADO:{label:"Finalizado",color:"#10b981",icon:Mn},CANCELADO:{label:"Cancelado",color:"#ef4444",icon:So}})[ne],Qe=r.filter(ne=>{const dt=C==="TODOS"||ne.status===C,Tt=ne.titulo.toLowerCase().includes(T.toLowerCase())||ne.nome_cliente.toLowerCase().includes(T.toLowerCase());return dt&&Tt}),at=ne=>ne.valor_venda_orcamento===0?0:Math.min(ne.total_gasto/ne.valor_venda_orcamento*100,100);return s.jsxs("div",{className:"cards-obra-page",children:[s.jsxs("div",{className:"page-header",children:[s.jsxs("button",{className:"btn-voltar",onClick:()=>t("/dashboard"),children:[s.jsx(xh,{size:20}),s.jsx("span",{children:"Voltar"})]}),s.jsxs("div",{className:"header-content",children:[s.jsxs("div",{className:"header-title-section",children:[s.jsx("div",{className:"header-icon",children:s.jsx(Pa,{size:32})}),s.jsxs("div",{children:[s.jsx("h1",{children:e?"Gesto de Cards de Obra":"Meus Cards de Obra"}),s.jsx("p",{children:"Centro de custo e gerenciamento de projetos"})]})]}),e&&s.jsxs("div",{className:"header-actions",children:[s.jsxs("button",{className:"btn-secondary",onClick:()=>G(!0),children:[s.jsx(Pa,{size:20}),s.jsx("span",{children:"Vincular Obra Existente"})]}),s.jsxs("button",{className:"btn-primary",onClick:()=>J(!0),children:[s.jsx(vn,{size:20}),s.jsx("span",{children:"Novo Card Manual"})]}),s.jsx("button",{className:"btn-secondary",style:{marginLeft:8},onClick:()=>Ne(!0),children:"+ Novo Funcionrio"})]})]})]}),s.jsxs("div",{className:"filtros-section",children:[s.jsxs("div",{className:"busca-container",children:[s.jsx(lC,{size:20}),s.jsx("input",{type:"text",placeholder:"Buscar por ttulo ou cliente...",value:T,onChange:ne=>R(ne.target.value)})]}),s.jsxs("div",{className:"filtros-status",children:[s.jsx(Cx,{size:16}),s.jsx("button",{className:C==="TODOS"?"active":"",onClick:()=>L("TODOS"),children:"Todos"}),s.jsx("button",{className:C==="EM_ANDAMENTO"?"active":"",onClick:()=>L("EM_ANDAMENTO"),children:"Em Andamento"}),s.jsx("button",{className:C==="AGUARDANDO_VERBA"?"active":"",onClick:()=>L("AGUARDANDO_VERBA"),children:"Aguardando Verba"}),s.jsx("button",{className:C==="EM_ANALISE"?"active":"",onClick:()=>L("EM_ANALISE"),children:"Em Anlise"})]})]}),s.jsx("div",{className:"cards-grid",children:x?s.jsxs("div",{className:"loading-state",children:[s.jsx("div",{className:"spinner"}),s.jsx("p",{children:"Carregando cards..."})]}):Qe.length===0?s.jsxs("div",{className:"empty-state",children:[s.jsx(Pa,{size:64}),s.jsx("h3",{children:"Nenhum card encontrado"}),s.jsx("p",{children:e?"Crie um novo card para comear":"Aguarde a atribuio de um projeto"}),e&&s.jsxs("button",{className:"btn-primary",onClick:()=>J(!0),children:[s.jsx(vn,{size:20}),"Criar Primeiro Card"]})]}):Qe.map(ne=>{const dt=nr(ne.status),Tt=dt.icon,Kt=at(ne);return s.jsxs("div",{className:"card-obra-item",children:[s.jsxs("div",{className:"card-header",children:[s.jsx("h3",{onClick:()=>Xe(ne),style:{cursor:"pointer",flex:1},children:ne.titulo}),e&&s.jsxs("div",{className:"card-actions",onClick:dr=>dr.stopPropagation(),children:[s.jsx("button",{className:"btn-icon edit",onClick:dr=>oe(ne,dr),title:"Editar card",children:s.jsx(tc,{size:16})}),s.jsx("button",{className:"btn-icon delete",onClick:dr=>ct(ne.id_card,dr),title:"Excluir card",children:s.jsx(zn,{size:16})})]}),s.jsxs("span",{className:"card-status-badge",style:{backgroundColor:`${dt.color}20`,color:dt.color},children:[s.jsx(Tt,{size:14}),dt.label]})]}),s.jsx("p",{className:"card-cliente",onClick:()=>Xe(ne),style:{cursor:"pointer"},children:ne.nome_cliente}),s.jsxs("div",{className:"card-financeiro-grid",onClick:()=>Xe(ne),style:{cursor:"pointer"},children:[s.jsxs("div",{className:"financeiro-item",children:[s.jsx("span",{className:"label",children:"Oramento"}),s.jsx("span",{className:"valor",children:pt(ne.valor_venda_orcamento)})]}),s.jsxs("div",{className:"financeiro-item",children:[s.jsx("span",{className:"label",children:"Saldo"}),s.jsx("span",{className:"valor saldo",children:pt(ne.saldo_atual)})]}),s.jsxs("div",{className:"financeiro-item",children:[s.jsx("span",{className:"label",children:"Gasto"}),s.jsx("span",{className:"valor gasto",children:pt(ne.total_gasto)})]})]}),s.jsxs("div",{className:"card-progresso-section",onClick:()=>Xe(ne),style:{cursor:"pointer"},children:[s.jsxs("div",{className:"progresso-header",children:[s.jsx("span",{children:"Progresso"}),s.jsxs("span",{children:[Kt.toFixed(0),"%"]})]}),s.jsx("div",{className:"progresso-bar",children:s.jsx("div",{className:"progresso-fill",style:{width:`${Kt}%`,backgroundColor:dt.color}})})]})]},ne.id_card)})}),n&&s.jsx("div",{className:"modal-overlay",onClick:()=>a(null),children:s.jsxs("div",{className:"modal-detalhes-card",onClick:ne=>ne.stopPropagation(),children:[s.jsxs("div",{className:"modal-header",children:[s.jsxs("div",{children:[s.jsx("h2",{children:n.titulo}),s.jsx("p",{children:n.nome_cliente})]}),s.jsx("button",{className:"modal-close",onClick:()=>a(null),children:""})]}),s.jsxs("div",{className:"modal-body-detalhes",children:[s.jsxs("div",{className:"resumo-financeiro",children:[s.jsxs("div",{className:"resumo-item",children:[s.jsx(sr,{size:20}),s.jsxs("div",{children:[s.jsx("span",{className:"resumo-label",children:"Oramento Total"}),s.jsx("span",{className:"resumo-valor",children:pt(n.valor_venda_orcamento)})]})]}),s.jsxs("div",{className:`resumo-item ${n.saldo_atual===0?"saldo-zero":""}`,children:[s.jsx(sr,{size:20}),s.jsxs("div",{children:[s.jsx("span",{className:"resumo-label",children:"Saldo Atual"}),s.jsx("span",{className:"resumo-valor saldo",children:pt(n.saldo_atual)}),n.saldo_atual===0&&s.jsx("span",{className:"aviso-sem-verba",children:" Aguardando verba"})]})]}),s.jsxs("div",{className:"resumo-item",children:[s.jsx(ha,{size:20}),s.jsxs("div",{children:[s.jsx("span",{className:"resumo-label",children:"Total Gasto"}),s.jsx("span",{className:"resumo-valor gasto",children:pt(n.total_gasto)})]})]})]}),s.jsxs("div",{className:"acoes-card",children:[e&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{className:"btn-acao transferir",onClick:()=>F(!0),disabled:n.status==="FINALIZADO"||n.status==="CANCELADO"||n.status==="EM_ANALISE",children:[s.jsx(sr,{size:18}),"Transferir Verba"]}),n.status==="EM_ANALISE"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{className:"btn-acao aprovar",onClick:St,children:[s.jsx(Mn,{size:18}),"Aprovar Obra"]}),s.jsxs("button",{className:"btn-acao rejeitar",onClick:Ze,children:[s.jsx(OE,{size:18}),"Rejeitar"]})]})]}),!e&&n.status==="EM_ANDAMENTO"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{className:"btn-acao despesa",onClick:()=>{if(n.saldo_atual===0){pe.error("Aguardando envio de verba para iniciar obra");return}M(!0)},disabled:n.saldo_atual===0,title:n.saldo_atual===0?"Sem verba disponvel":"Registrar despesa",children:[s.jsx(ha,{size:18}),"Registrar Despesa"]}),s.jsxs("button",{className:"btn-acao solicitar",onClick:()=>ae(!0),children:[s.jsx(uh,{size:18}),"Solicitar Verba"]}),s.jsxs("button",{className:"btn-acao finalizar",onClick:mt,children:[s.jsx(Mn,{size:18}),"Finalizar Obra"]})]})]}),s.jsxs("div",{className:"despesas-section",children:[s.jsxs("h3",{children:[s.jsx(Ps,{size:20})," Despesas Registradas"]}),g.length===0?s.jsx("p",{className:"empty-message",children:"Nenhuma despesa registrada"}):s.jsx("div",{className:"despesas-lista-detalhes",children:g.map(ne=>s.jsxs("div",{className:"despesa-item-detalhes",children:[s.jsxs("div",{className:"despesa-info",children:[s.jsx("h4",{children:ne.descricao}),s.jsxs("div",{className:"despesa-meta",children:[s.jsx("span",{className:"categoria",children:ne.categoria?.nome||"Sem categoria"}),s.jsx("span",{className:"data",children:ar(ne.data)})]})]}),s.jsxs("div",{className:"despesa-valor-status",children:[s.jsxs("span",{className:"valor",children:["-",pt(ne.valor)]}),s.jsx("span",{className:"status-badge",style:{backgroundColor:ne.status==="APROVADO"?"#10b98120":ne.status==="REPROVADO"?"#ef444420":"#f59e0b20",color:ne.status==="APROVADO"?"#10b981":ne.status==="REPROVADO"?"#ef4444":"#f59e0b"},children:ne.status})]})]},ne.id_despesa))})]}),v.length>0&&s.jsxs("div",{className:"solicitacoes-section",children:[s.jsxs("h3",{children:[s.jsx(uh,{size:20})," Solicitaes de Verba"]}),s.jsx("div",{className:"solicitacoes-lista",children:v.map(ne=>s.jsxs("div",{className:"solicitacao-item",children:[s.jsxs("div",{className:"solicitacao-info",children:[s.jsx("span",{className:"valor",children:pt(ne.valor)}),s.jsx("p",{className:"justificativa",children:ne.justificativa}),s.jsx("span",{className:"data",children:ar(ne.data_solicitacao)})]}),s.jsx("span",{className:"status-badge",style:{backgroundColor:ne.status==="APROVADO"?"#10b98120":ne.status==="REPROVADO"?"#ef444420":"#f59e0b20",color:ne.status==="APROVADO"?"#10b981":ne.status==="REPROVADO"?"#ef4444":"#f59e0b"},children:ne.status})]},ne.id_solicitacao))})]})]})]})}),H&&e&&s.jsx("div",{className:"modal-overlay",onClick:()=>J(!1),children:s.jsxs("div",{className:"modal-content",onClick:ne=>ne.stopPropagation(),children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h2",{children:"Criar Novo Card de Obra"}),s.jsx("button",{className:"modal-close",onClick:()=>J(!1),children:""})]}),s.jsxs("div",{className:"modal-body",children:[s.jsx("div",{className:"info-box",children:s.jsx("p",{children:'Crie um card manualmente preenchendo todos os dados. Para vincular uma obra existente, use a opo "Vincular Obra Existente".'})}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Ttulo da Obra *"}),s.jsx("input",{type:"text",placeholder:"Ex: Fachada ENF CLINIC",value:ye.titulo,onChange:ne=>ke({...ye,titulo:ne.target.value})})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Cliente *"}),s.jsx("input",{type:"text",placeholder:"Nome do cliente",value:ye.nome_cliente,onChange:ne=>ke({...ye,nome_cliente:ne.target.value})})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Valor da Venda (Oramento) *"}),s.jsx("input",{type:"number",step:"0.01",placeholder:"0,00",value:ye.valor_venda_orcamento,onChange:ne=>ke({...ye,valor_venda_orcamento:ne.target.value})})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Funcionrio Responsvel *"}),s.jsxs("select",{value:ye.id_funcionario,onChange:ne=>ke({...ye,id_funcionario:ne.target.value}),children:[s.jsx("option",{value:"",children:"Selecione um funcionrio..."}),ue.map(ne=>s.jsxs("option",{value:ne.id,children:[ne.nome," (",ne.email,")"]},ne.id))]}),ue.length===0&&s.jsx("span",{className:"field-hint warning",children:"Nenhum funcionrio encontrado"})]})]}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{className:"btn-secondary",onClick:()=>J(!1),children:"Cancelar"}),s.jsxs("button",{className:"btn-primary",onClick:Me,disabled:!ye.titulo||!ye.nome_cliente||!ye.valor_venda_orcamento||!ye.id_funcionario,children:[s.jsx(vn,{size:20}),"Criar Card"]})]})]})}),$&&e&&s.jsx("div",{className:"modal-overlay",onClick:()=>G(!1),children:s.jsxs("div",{className:"modal-content",onClick:ne=>ne.stopPropagation(),children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h2",{children:"Vincular Obra a Funcionrio"}),s.jsx("button",{className:"modal-close",onClick:()=>G(!1),children:""})]}),s.jsxs("div",{className:"modal-body",children:[s.jsx("div",{className:"info-box",children:s.jsx("p",{children:"Selecione uma obra cadastrada e atribua a um funcionrio. O card de obra ser criado automaticamente."})}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Obra Cadastrada *"}),s.jsxs("select",{value:le.id_obra,onChange:ne=>xe({...le,id_obra:ne.target.value}),children:[s.jsx("option",{value:"",children:"Selecione uma obra..."}),Y.map(ne=>s.jsx("option",{value:ne.id,children:ne.nome?`${ne.nome} (R$ ${ne.orcamento})`:`Obra sem nome (${ne.id})`},ne.id))]}),Y.length===0&&s.jsx("p",{style:{color:"#f59e0b",fontSize:"0.85rem",marginTop:"0.5rem"},children:'Nenhuma obra ativa disponvel. Cadastre uma obra primeiro em "Obras Ativas".'})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Funcionrio Responsvel *"}),s.jsxs("select",{value:le.id_funcionario,onChange:ne=>xe({...le,id_funcionario:ne.target.value}),children:[s.jsx("option",{value:"",children:"Selecione um funcionrio..."}),ue.map(ne=>s.jsxs("option",{value:ne.id,children:[ne.nome," (",ne.email,")"]},ne.id))]}),ue.length===0&&s.jsx("p",{style:{color:"#f59e0b",fontSize:"0.85rem",marginTop:"0.5rem"},children:'Nenhum funcionrio (visualizador) cadastrado. Cadastre um usurio com role "visualizador".'})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Verba Inicial (Opcional)"}),s.jsx("input",{type:"number",step:"0.01",placeholder:"0,00",value:le.valor_inicial,onChange:ne=>xe({...le,valor_inicial:ne.target.value})}),s.jsx("p",{style:{color:"rgba(255, 255, 255, 0.6)",fontSize:"0.85rem",marginTop:"0.5rem"},children:"Deixe em branco se no quiser transferir verba agora. Voc pode transferir depois."})]})]}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{className:"btn-secondary",onClick:()=>G(!1),children:"Cancelar"}),s.jsxs("button",{className:"btn-primary",onClick:be,disabled:!le.id_obra||!le.id_funcionario,children:[s.jsx(Pa,{size:20}),"Vincular Obra"]})]})]})}),Q&&e&&se&&s.jsx("div",{className:"modal-overlay",onClick:()=>D(!1),children:s.jsxs("div",{className:"modal-content",onClick:ne=>ne.stopPropagation(),children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h2",{children:"Editar Card de Obra"}),s.jsx("button",{className:"modal-close",onClick:()=>D(!1),children:""})]}),s.jsxs("div",{className:"modal-body",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Ttulo da Obra *"}),s.jsx("input",{type:"text",placeholder:"Ex: Fachada ENF CLINIC",value:De.titulo,onChange:ne=>He({...De,titulo:ne.target.value})})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Cliente *"}),s.jsx("input",{type:"text",placeholder:"Nome do cliente",value:De.nome_cliente,onChange:ne=>He({...De,nome_cliente:ne.target.value})})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Valor da Venda (Oramento) *"}),s.jsx("input",{type:"number",step:"0.01",placeholder:"0,00",value:De.valor_venda_orcamento,onChange:ne=>He({...De,valor_venda_orcamento:ne.target.value})})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Funcionrio Responsvel *"}),s.jsxs("select",{value:De.id_funcionario,onChange:ne=>He({...De,id_funcionario:ne.target.value}),children:[s.jsx("option",{value:"",children:"Selecione um funcionrio..."}),ue.map(ne=>s.jsxs("option",{value:ne.id,children:[ne.nome," (",ne.email,")"]},ne.id))]}),ue.length===0&&s.jsx("span",{className:"field-hint warning",children:"Nenhum funcionrio encontrado"})]}),s.jsxs("div",{className:"info-box warning",children:[s.jsx(So,{size:16}),s.jsx("p",{children:'Os valores de saldo e total gasto no podem ser editados aqui. Use "Transferir Verba" ou gerencie as despesas.'})]})]}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{className:"btn-secondary",onClick:()=>D(!1),children:"Cancelar"}),s.jsxs("button",{className:"btn-primary",onClick:Be,disabled:!De.titulo||!De.nome_cliente||!De.valor_venda_orcamento||!De.id_funcionario,children:[s.jsx(Mn,{size:20}),"Salvar Alteraes"]})]})]})}),z&&e&&n&&s.jsx("div",{className:"modal-overlay",onClick:()=>F(!1),children:s.jsxs("div",{className:"modal-content",onClick:ne=>ne.stopPropagation(),children:[s.jsxs("div",{className:"modal-header",children:[s.jsxs("h2",{children:["Transferir Verba para ",n.titulo]}),s.jsx("button",{className:"modal-close",onClick:()=>F(!1),children:""})]}),s.jsxs("div",{className:"modal-body",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Valor a Transferir"}),s.jsx("input",{type:"number",step:"0.01",placeholder:"0,00",value:tt.valor,onChange:ne=>Fe({valor:ne.target.value})})]}),s.jsxs("div",{className:"info-box",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Saldo Atual do Card:"})," ",pt(n.saldo_atual)]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Novo Saldo:"})," ",pt(n.saldo_atual+parseFloat(tt.valor||"0"))]})]})]}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{className:"btn-secondary",onClick:()=>F(!1),children:"Cancelar"}),s.jsxs("button",{className:"btn-primary",onClick:Ge,children:[s.jsx(sr,{size:20}),"Transferir"]})]})]})}),P&&!e&&n&&s.jsx("div",{className:"modal-overlay",onClick:()=>M(!1),children:s.jsxs("div",{className:"modal-content",onClick:ne=>ne.stopPropagation(),children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h2",{children:"Registrar Despesa"}),s.jsx("button",{className:"modal-close",onClick:()=>M(!1),children:""})]}),s.jsxs("div",{className:"modal-body",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Descrio"}),s.jsx("input",{type:"text",placeholder:"Ex: Placas ACM Bege",value:de.descricao,onChange:ne=>zt({...de,descricao:ne.target.value})})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Valor"}),s.jsx("input",{type:"number",step:"0.01",placeholder:"0,00",value:de.valor,onChange:ne=>zt({...de,valor:ne.target.value})})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Categoria"}),s.jsxs("select",{value:de.id_categoria,onChange:ne=>zt({...de,id_categoria:ne.target.value}),children:[s.jsx("option",{value:"",children:"Selecione..."}),h.map(ne=>s.jsx("option",{value:ne.id_categoria,children:ne.nome},ne.id_categoria))]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Comprovante (Imagem/PDF)"}),s.jsxs("div",{className:"file-input",children:[s.jsx(Lx,{size:20}),s.jsx("input",{type:"file",accept:"image/*,application/pdf",onChange:ne=>zt({...de,comprovante:ne.target.files?.[0]||null})}),s.jsx("span",{children:de.comprovante?de.comprovante.name:"Selecionar arquivo"})]})]}),s.jsxs("div",{className:"info-box",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Saldo Disponvel:"})," ",pt(n.saldo_atual)]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Saldo Aps Despesa:"})," ",pt(n.saldo_atual-parseFloat(de.valor||"0"))]})]})]}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{className:"btn-secondary",onClick:()=>M(!1),children:"Cancelar"}),s.jsxs("button",{className:"btn-primary",onClick:xt,children:[s.jsx(ha,{size:20}),"Registrar"]})]})]})}),fe&&!e&&n&&s.jsx("div",{className:"modal-overlay",onClick:()=>ae(!1),children:s.jsxs("div",{className:"modal-content",onClick:ne=>ne.stopPropagation(),children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h2",{children:"Solicitar Verba Adicional"}),s.jsx("button",{className:"modal-close",onClick:()=>ae(!1),children:""})]}),s.jsxs("div",{className:"modal-body",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Valor Solicitado"}),s.jsx("input",{type:"number",step:"0.01",placeholder:"0,00",value:wt.valor,onChange:ne=>bt({...wt,valor:ne.target.value})})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Justificativa"}),s.jsx("textarea",{placeholder:"Explique o motivo da solicitao...",rows:4,value:wt.justificativa,onChange:ne=>bt({...wt,justificativa:ne.target.value})})]}),s.jsxs("div",{className:"info-box warning",children:[s.jsx(So,{size:20}),s.jsx("p",{children:'O card ficar com status "Aguardando Verba" at a aprovao do administrador.'})]})]}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{className:"btn-secondary",onClick:()=>ae(!1),children:"Cancelar"}),s.jsxs("button",{className:"btn-primary",onClick:lt,children:[s.jsx(uh,{size:20}),"Enviar Solicitao"]})]})]})}),me&&e&&s.jsx("div",{className:"modal-overlay",onClick:()=>Ne(!1),children:s.jsxs("div",{className:"modal-content",onClick:ne=>ne.stopPropagation(),children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h2",{children:"Cadastrar Funcionrio"}),s.jsx("button",{className:"modal-close",onClick:()=>Ne(!1),children:""})]}),s.jsxs("div",{className:"modal-body",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Nome *"}),s.jsx("input",{type:"text",value:Ve.nome,onChange:ne=>gt({...Ve,nome:ne.target.value}),placeholder:"Nome do funcionrio"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Email *"}),s.jsx("input",{type:"email",value:Ve.email,onChange:ne=>gt({...Ve,email:ne.target.value}),placeholder:"Email do funcionrio"})]}),s.jsx("div",{className:"info-box",children:s.jsxs("p",{children:["O funcionrio ser cadastrado com permisso ",s.jsx("b",{children:"visualizador"})," e poder acessar suas obras no dashboard."]})})]}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{className:"btn-secondary",onClick:()=>Ne(!1),children:"Cancelar"}),s.jsx("button",{className:"btn-primary",onClick:Bt,disabled:!Ve.nome||!Ve.email,children:"Cadastrar"})]})]})}),s.jsx(Tx,{isOpen:te.isOpen,title:"Confirmar Excluso do Card",message:"Tem certeza que deseja excluir este card? Todas as despesas e solicitaes de verba associadas tambm sero excludas. Esta ao no pode ser desfeita.",onConfirm:ot,onCancel:rt,confirmText:"Sim, excluir",cancelText:"Cancelar"})]})},XC=()=>{const t=Qs(),[e,r]=k.useState([]),[n,a]=k.useState(null),[i,c]=k.useState([]),[u,d]=k.useState([]),[h,p]=k.useState(!0),[g,w]=k.useState(!1),[v,S]=k.useState(!1),[x,_]=k.useState({descricao:"",valor:"",id_categoria:"",comprovante:null});k.useEffect(()=>{C()},[]);const C=async()=>{try{p(!0),await Promise.all([L(),T()])}catch(P){console.error("Erro ao carregar dados:",P),pe.error("Erro ao carregar suas obras")}finally{p(!1)}},L=async()=>{try{const{data:{user:P}}=await Pe.auth.getUser();if(!P)return;const{data:M,error:fe}=await Pe.from("cards_de_obra").select("*").eq("id_visualizador_responsavel",P.id).order("created_at",{ascending:!1});if(fe)throw fe;r(M||[])}catch(P){throw console.error("Erro ao carregar obras:",P),P}},T=async()=>{try{const{data:P,error:M}=await Pe.from("categorias_de_gasto").select("*").order("nome");if(M)throw M;d(P||[])}catch(P){throw console.error("Erro ao carregar categorias:",P),P}},R=async P=>{try{a(P);const{data:M,error:fe}=await Pe.from("despesas_de_obra").select(`
          *,
          categoria:categorias_de_gasto(*)
        `).eq("id_card",P.id_card).order("data",{ascending:!1});if(fe)throw fe;const ae=(M||[]).filter(se=>!(se?.url_comprovante??"").startsWith("verba_"));c(ae),S(!0)}catch(M){console.error("Erro ao carregar detalhes:",M),pe.error("Erro ao carregar detalhes da obra")}},H=async()=>{try{if(!n||!x.descricao||!x.valor||!x.id_categoria){pe.error("Preencha todos os campos obrigatrios");return}if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(x.id_categoria)){console.error("ID Categoria invlido:",x.id_categoria),pe.error("Categoria invlida selecionada");return}const M=parseFloat(x.valor);if(M>n.saldo_atual){pe.error("Saldo insuficiente na obra!");return}if(M<=0){pe.error("Valor deve ser maior que zero");return}const fe=x.comprovante?"pending_upload":"sem_comprovante",ae=n.saldo_atual-M,se=n.total_gasto+M,q={id_card:n.id_card,id_categoria:x.id_categoria,descricao:x.descricao,valor:M,url_comprovante:fe,status:"PENDENTE"};console.log("Dados a inserir em despesas_de_obra:",q),console.log("Tipos:",{id_card:typeof n.id_card,id_categoria:typeof x.id_categoria,descricao:typeof x.descricao,valor:typeof M,url_comprovante:typeof fe,status:"string"});const{error:me,data:Ne}=await Pe.from("despesas_de_obra").insert([q]);if(me)throw console.error("Erro Supabase ao inserir despesa:",me),me;if(console.log("Despesa inserida com sucesso:",Ne),me)throw me;const{error:te}=await Pe.from("cards_de_obra").update({saldo_atual:ae,total_gasto:se}).eq("id_card",n.id_card);if(te)throw te;pe.success("Gasto registrado com sucesso!"),_({descricao:"",valor:"",id_categoria:"",comprovante:null}),w(!1),await L();const I={...n,saldo_atual:ae,total_gasto:se};a(I),await R(I)}catch(P){console.error("Erro ao registrar gasto:",P),console.error("Detalhes do erro:",P?.message||P);const M=P?.message||"Erro ao registrar gasto";pe.error(M)}},J=async P=>{try{if(!n||!window.confirm(`Deseja realmente excluir o gasto "${P.descricao}"?

Valor: ${D(P.valor)}

O valor ser devolvido ao saldo da obra.`))return;const fe=n.saldo_atual+P.valor,ae=n.total_gasto-P.valor,{error:se,data:q}=await Pe.from("despesas_de_obra").delete().eq("id_despesa",P.id_despesa);if(se)throw console.error("Erro Supabase ao deletar despesa:",se),se;console.log("Despesa deletada com sucesso:",q);const{error:me}=await Pe.from("cards_de_obra").update({saldo_atual:fe,total_gasto:ae}).eq("id_card",n.id_card);if(me)throw console.error("Erro ao atualizar card:",me),me;pe.success("Gasto excludo com sucesso!"),await L();const Ne={...n,saldo_atual:fe,total_gasto:ae};a(Ne),await R(Ne)}catch(M){console.error("Erro ao excluir gasto:",M),console.error("Detalhes do erro:",M?.message||M);const fe=M?.message||"Erro ao excluir gasto";pe.error(fe)}},Q=async()=>{try{if(!n)return;if(n.status!=="EM_ANDAMENTO"){pe.error("Apenas obras em andamento podem ser finalizadas");return}if(!window.confirm(`Deseja realmente finalizar a obra "${n.titulo}"?

Ela ser enviada para anlise do administrador.
Gastos remanescentes sero calculados como estorno.`))return;const{error:M}=await Pe.from("cards_de_obra").update({status:"EM_ANALISE",finalizado_em:new Date().toISOString()}).eq("id_card",n.id_card);if(M)throw console.error("Erro ao finalizar obra:",M),M;pe.success("Obra finalizada! Aguardando anlise do administrador."),await L(),S(!1),a(null)}catch(P){console.error("Erro ao finalizar obra:",P),console.error("Detalhes do erro:",P?.message||P);const M=P?.message||"Erro ao finalizar obra";pe.error(M)}},D=P=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(P),$=P=>new Date(P).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),G=P=>P.valor_venda_orcamento===0?0:Math.min(P.total_gasto/P.valor_venda_orcamento*100,100),z=P=>({PENDENTE:"#f59e0b",EM_ANDAMENTO:"#3b82f6",AGUARDANDO_VERBA:"#8b5cf6",EM_ANALISE:"#06b6d4",FINALIZADO:"#10b981",CANCELADO:"#ef4444"})[P]||"#6b7280",F=P=>({PENDENTE:"Aguardando Incio",EM_ANDAMENTO:"Em Andamento",AGUARDANDO_VERBA:"Aguardando Verba",EM_ANALISE:"Em Anlise",FINALIZADO:"Finalizado",CANCELADO:"Cancelado"})[P]||P;return s.jsxs("div",{className:"minhas-obras-page",children:[s.jsxs("div",{className:"page-header",children:[s.jsxs("button",{className:"btn-voltar",onClick:()=>t("/dashboard"),children:[s.jsx(xh,{size:20}),s.jsx("span",{children:"Voltar"})]}),s.jsxs("div",{className:"header-content",children:[s.jsxs("div",{className:"header-title-section",children:[s.jsx("div",{className:"header-icon",children:s.jsx(Pa,{size:32})}),s.jsxs("div",{children:[s.jsx("h1",{children:"Minhas Obras"}),s.jsx("p",{children:"Gerencie os gastos das suas obras atribudas"})]})]}),s.jsxs("div",{className:"header-stats",children:[s.jsxs("div",{className:"stat-item",children:[s.jsx("span",{className:"stat-label",children:"Total de Obras"}),s.jsx("span",{className:"stat-valor",children:e.length})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("span",{className:"stat-label",children:"Em Andamento"}),s.jsx("span",{className:"stat-valor",children:e.filter(P=>P.status==="EM_ANDAMENTO").length})]})]})]})]}),h?s.jsxs("div",{className:"loading-state",children:[s.jsx("div",{className:"spinner"}),s.jsx("p",{children:"Carregando suas obras..."})]}):e.length===0?s.jsxs("div",{className:"empty-state",children:[s.jsx(Pa,{size:64}),s.jsx("h3",{children:"Nenhuma obra atribuda"}),s.jsx("p",{children:"Aguarde o administrador atribuir obras para voc gerenciar"})]}):s.jsx("div",{className:"obras-grid",children:e.map(P=>{const M=G(P),fe=z(P.status),ae=P.status==="EM_ANDAMENTO";return s.jsxs("div",{className:"obra-card",style:{borderColor:`${fe}30`},children:[s.jsxs("div",{className:"obra-card-header",children:[s.jsxs("div",{className:"obra-titulo-section",children:[s.jsx("h3",{children:P.titulo}),s.jsx("span",{className:"obra-status-badge",style:{backgroundColor:`${fe}20`,color:fe},children:F(P.status)})]}),s.jsxs("div",{className:"obra-cliente",children:[s.jsx(ol,{size:14}),s.jsx("span",{children:P.nome_cliente})]})]}),s.jsxs("div",{className:"obra-financeiro",children:[s.jsxs("div",{className:"financeiro-row",children:[s.jsxs("div",{className:"financeiro-item orcamento",children:[s.jsx("span",{className:"financeiro-label",children:"Oramento Total"}),s.jsx("span",{className:"financeiro-valor",children:D(P.valor_venda_orcamento)})]}),s.jsxs("div",{className:"financeiro-item saldo",children:[s.jsx("span",{className:"financeiro-label",children:"Saldo Disponvel"}),s.jsx("span",{className:"financeiro-valor",children:D(P.saldo_atual)})]})]}),s.jsxs("div",{className:"financeiro-row",children:[s.jsxs("div",{className:"financeiro-item gasto",children:[s.jsx("span",{className:"financeiro-label",children:"Total Gasto"}),s.jsx("span",{className:"financeiro-valor",children:D(P.total_gasto)})]}),s.jsxs("div",{className:"financeiro-item progresso-info",children:[s.jsx("span",{className:"financeiro-label",children:"Execuo"}),s.jsxs("span",{className:"financeiro-valor",children:[M.toFixed(1),"%"]})]})]})]}),s.jsx("div",{className:"obra-progresso",children:s.jsx("div",{className:"progresso-bar",children:s.jsx("div",{className:"progresso-fill",style:{width:`${M}%`,backgroundColor:fe}})})}),s.jsxs("div",{className:"obra-acoes",children:[s.jsxs("button",{className:"btn-acao ver-detalhes",onClick:()=>R(P),children:[s.jsx(IE,{size:18}),"Ver Detalhes"]}),s.jsxs("button",{className:"btn-acao registrar-gasto",onClick:()=>{a(P),w(!0)},disabled:!ae,children:[s.jsx(vn,{size:18}),"Registrar Gasto"]})]}),!ae&&s.jsxs("div",{className:"obra-alerta",children:[s.jsx(So,{size:16}),s.jsxs("span",{children:[P.status==="PENDENTE"&&"Aguardando incio da obra",P.status==="AGUARDANDO_VERBA"&&"Aguardando aprovao de verba",P.status==="EM_ANALISE"&&"Obra em anlise pelo admin",P.status==="FINALIZADO"&&"Obra finalizada",P.status==="CANCELADO"&&"Obra cancelada"]})]})]},P.id_card)})}),g&&n&&s.jsx("div",{className:"modal-overlay",onClick:()=>w(!1),children:s.jsxs("div",{className:"modal-content",onClick:P=>P.stopPropagation(),children:[s.jsxs("div",{className:"modal-header",children:[s.jsxs("div",{children:[s.jsx("h2",{children:"Registrar Gasto"}),s.jsx("p",{children:n.titulo})]}),s.jsx("button",{className:"modal-close",onClick:()=>w(!1),children:s.jsx(Nh,{size:24})})]}),s.jsxs("div",{className:"modal-body",children:[s.jsxs("div",{className:"saldo-info-destaque",children:[s.jsx(sr,{size:24}),s.jsxs("div",{children:[s.jsx("span",{className:"saldo-label",children:"Saldo Disponvel"}),s.jsx("span",{className:"saldo-valor",children:D(n.saldo_atual)})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Descrio do Gasto *"}),s.jsx("input",{type:"text",placeholder:"Ex: Placas ACM Bege, Mo de obra instalao...",value:x.descricao,onChange:P=>_({...x,descricao:P.target.value}),autoFocus:!0})]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Valor do Gasto *"}),s.jsxs("div",{className:"input-with-icon",children:[s.jsx(sr,{size:18}),s.jsx("input",{type:"number",step:"0.01",placeholder:"0,00",value:x.valor,onChange:P=>_({...x,valor:P.target.value})})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Categoria *"}),s.jsxs("select",{value:x.id_categoria,onChange:P=>_({...x,id_categoria:P.target.value}),children:[s.jsx("option",{value:"",children:"Selecione..."}),u.map(P=>s.jsx("option",{value:P.id_categoria,children:P.nome},P.id_categoria))]})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Comprovante (Opcional)"}),s.jsxs("div",{className:"file-upload-area",children:[s.jsx(Lx,{size:24}),s.jsx("input",{type:"file",accept:"image/*,application/pdf",onChange:P=>_({...x,comprovante:P.target.files?.[0]||null}),id:"file-input"}),s.jsx("label",{htmlFor:"file-input",className:"file-label",children:x.comprovante?s.jsx("span",{className:"file-selected",children:x.comprovante.name}):s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"Clique para selecionar"}),s.jsx("span",{className:"file-hint",children:"JPG, PNG ou PDF (mx. 5MB)"})]})})]})]}),x.valor&&parseFloat(x.valor)>0&&s.jsxs("div",{className:"preview-calculo",children:[s.jsxs("div",{className:"calculo-item",children:[s.jsx("span",{children:"Saldo Atual:"}),s.jsx("span",{children:D(n.saldo_atual)})]}),s.jsxs("div",{className:"calculo-item destaque",children:[s.jsx("span",{children:"Valor do Gasto:"}),s.jsxs("span",{className:"negativo",children:["-",D(parseFloat(x.valor))]})]}),s.jsx("div",{className:"calculo-divider"}),s.jsxs("div",{className:"calculo-item total",children:[s.jsx("span",{children:"Saldo Restante:"}),s.jsx("span",{className:n.saldo_atual-parseFloat(x.valor)<0?"negativo":"positivo",children:D(n.saldo_atual-parseFloat(x.valor))})]})]})]}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{className:"btn-secondary",onClick:()=>w(!1),children:"Cancelar"}),s.jsxs("button",{className:"btn-primary",onClick:H,children:[s.jsx(vn,{size:20}),"Registrar Gasto"]})]})]})}),v&&n&&s.jsx("div",{className:"modal-overlay",onClick:()=>S(!1),children:s.jsxs("div",{className:"modal-detalhes",onClick:P=>P.stopPropagation(),children:[s.jsxs("div",{className:"modal-header",children:[s.jsxs("div",{children:[s.jsx("h2",{children:n.titulo}),s.jsx("p",{children:n.nome_cliente})]}),s.jsx("button",{className:"modal-close",onClick:()=>S(!1),children:s.jsx(Nh,{size:24})})]}),s.jsxs("div",{className:"modal-body-detalhes",children:[s.jsxs("div",{className:"resumo-financeiro-expandido",children:[s.jsxs("div",{className:"resumo-card orcamento",children:[s.jsx(tC,{size:24}),s.jsxs("div",{children:[s.jsx("span",{className:"resumo-label",children:"Oramento Total"}),s.jsx("span",{className:"resumo-valor",children:D(n.valor_venda_orcamento)})]})]}),s.jsxs("div",{className:"resumo-card saldo",children:[s.jsx(sr,{size:24}),s.jsxs("div",{children:[s.jsx("span",{className:"resumo-label",children:"Saldo Disponvel"}),s.jsx("span",{className:"resumo-valor",children:D(n.saldo_atual)})]})]}),s.jsxs("div",{className:"resumo-card gasto",children:[s.jsx(ha,{size:24}),s.jsxs("div",{children:[s.jsx("span",{className:"resumo-label",children:"Total Gasto"}),s.jsx("span",{className:"resumo-valor",children:D(n.total_gasto)})]})]})]}),s.jsxs("div",{className:"gastos-section",children:[s.jsxs("div",{className:"section-header",children:[s.jsxs("h3",{children:[s.jsx(Ps,{size:20}),"Gastos Registrados"]}),n.status==="EM_ANDAMENTO"&&s.jsxs("button",{className:"btn-adicionar-pequeno",onClick:()=>{S(!1),w(!0)},children:[s.jsx(vn,{size:16}),"Adicionar"]})]}),i.length===0?s.jsxs("div",{className:"empty-message",children:[s.jsx(Ps,{size:48}),s.jsx("p",{children:"Nenhum gasto registrado ainda"})]}):s.jsx("div",{className:"gastos-lista",children:i.map(P=>s.jsxs("div",{className:"gasto-item",children:[s.jsxs("div",{className:"gasto-info",children:[s.jsxs("div",{className:"gasto-header",children:[s.jsx("h4",{children:P.descricao}),s.jsxs("span",{className:"gasto-valor",children:["-",D(P.valor)]})]}),s.jsxs("div",{className:"gasto-meta",children:[s.jsx("span",{className:"gasto-categoria",children:P.categoria?.nome||"Sem categoria"}),s.jsxs("span",{className:"gasto-data",children:[s.jsx(ka,{size:14}),$(P.data)]}),s.jsx("span",{className:"gasto-status",style:{color:P.status==="APROVADO"?"#10b981":P.status==="REPROVADO"?"#ef4444":"#f59e0b"},children:P.status})]})]}),n.status==="EM_ANDAMENTO"&&s.jsx("button",{className:"btn-excluir",onClick:()=>J(P),title:"Excluir gasto",children:s.jsx(zn,{size:18})})]},P.id_despesa))})]})]}),s.jsxs("div",{className:"modal-footer-detalhes",children:[s.jsx("button",{className:"btn-secondary",onClick:()=>S(!1),children:"Fechar"}),n.status==="EM_ANDAMENTO"&&s.jsxs("button",{className:"btn-finalizar",onClick:Q,children:[s.jsx(Mn,{size:20}),"Finalizar Obra"]})]})]})})]})};function mr(t,e,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t?.(a),r===!1||!a.defaultPrevented)return e?.(a)}}function d2(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Rx(...t){return e=>{let r=!1;const n=t.map(a=>{const i=d2(a,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():d2(t[a],null)}}}}function Cn(...t){return k.useCallback(Rx(...t),t)}function QC(t,e){const r=k.createContext(e),n=i=>{const{children:c,...u}=i,d=k.useMemo(()=>u,Object.values(u));return s.jsx(r.Provider,{value:d,children:c})};n.displayName=t+"Provider";function a(i){const c=k.useContext(r);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,a]}function bd(t,e=[]){let r=[];function n(i,c){const u=k.createContext(c),d=r.length;r=[...r,c];const h=g=>{const{scope:w,children:v,...S}=g,x=w?.[t]?.[d]||u,_=k.useMemo(()=>S,Object.values(S));return s.jsx(x.Provider,{value:_,children:v})};h.displayName=i+"Provider";function p(g,w){const v=w?.[t]?.[d]||u,S=k.useContext(v);if(S)return S;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${i}\``)}return[h,p]}const a=()=>{const i=r.map(c=>k.createContext(c));return function(u){const d=u?.[t]||i;return k.useMemo(()=>({[`__scope${t}`]:{...u,[t]:d}}),[u,d])}};return a.scopeName=t,[n,ZC(a,...e)]}function ZC(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const c=n.reduce((u,{useScope:d,scopeName:h})=>{const g=d(i)[`__scope${h}`];return{...u,...g}},{});return k.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return r.scopeName=e.scopeName,r}var Oa=globalThis?.document?k.useLayoutEffect:()=>{},eA=fb[" useId ".trim().toString()]||(()=>{}),tA=0;function Zl(t){const[e,r]=k.useState(eA());return Oa(()=>{r(n=>n??String(tA++))},[t]),t||(e?`radix-${e}`:"")}var rA=fb[" useInsertionEffect ".trim().toString()]||Oa;function jh({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[a,i,c]=nA({defaultProp:e,onChange:r}),u=t!==void 0,d=u?t:a;{const p=k.useRef(t!==void 0);k.useEffect(()=>{const g=p.current;g!==u&&console.warn(`${n} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,n])}const h=k.useCallback(p=>{if(u){const g=aA(p)?p(t):p;g!==t&&c.current?.(g)}else i(p)},[u,t,i,c]);return[d,h]}function nA({defaultProp:t,onChange:e}){const[r,n]=k.useState(t),a=k.useRef(r),i=k.useRef(e);return rA(()=>{i.current=e},[e]),k.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,n,i]}function aA(t){return typeof t=="function"}function fd(t){const e=sA(t),r=k.forwardRef((n,a)=>{const{children:i,...c}=n,u=k.Children.toArray(i),d=u.find(iA);if(d){const h=d.props.children,p=u.map(g=>g===d?k.Children.count(h)>1?k.Children.only(null):k.isValidElement(h)?h.props.children:null:g);return s.jsx(e,{...c,ref:a,children:k.isValidElement(h)?k.cloneElement(h,void 0,p):null})}return s.jsx(e,{...c,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}var Dx=fd("Slot");function sA(t){const e=k.forwardRef((r,n)=>{const{children:a,...i}=r;if(k.isValidElement(a)){const c=cA(a),u=lA(i,a.props);return a.type!==k.Fragment&&(u.ref=n?Rx(n,c):c),k.cloneElement(a,u)}return k.Children.count(a)>1?k.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var oA=Symbol("radix.slottable");function iA(t){return k.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===oA}function lA(t,e){const r={...e};for(const n in e){const a=t[n],i=e[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...u)=>{const d=i(...u);return a(...u),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function cA(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var uA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wr=uA.reduce((t,e)=>{const r=fd(`Primitive.${e}`),n=k.forwardRef((a,i)=>{const{asChild:c,...u}=a,d=c?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...u,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function dA(t,e){t&&Oh.flushSync(()=>t.dispatchEvent(e))}function rc(t){const e=k.useRef(t);return k.useEffect(()=>{e.current=t}),k.useMemo(()=>(...r)=>e.current?.(...r),[])}function hA(t,e=globalThis?.document){const r=rc(t);k.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var fA="DismissableLayer",Wg="dismissableLayer.update",pA="dismissableLayer.pointerDownOutside",mA="dismissableLayer.focusOutside",h2,Ix=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Uv=k.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:c,onDismiss:u,...d}=t,h=k.useContext(Ix),[p,g]=k.useState(null),w=p?.ownerDocument??globalThis?.document,[,v]=k.useState({}),S=Cn(e,Q=>g(Q)),x=Array.from(h.layers),[_]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),C=x.indexOf(_),L=p?x.indexOf(p):-1,T=h.layersWithOutsidePointerEventsDisabled.size>0,R=L>=C,H=yA(Q=>{const D=Q.target,$=[...h.branches].some(G=>G.contains(D));!R||$||(a?.(Q),c?.(Q),Q.defaultPrevented||u?.())},w),J=bA(Q=>{const D=Q.target;[...h.branches].some(G=>G.contains(D))||(i?.(Q),c?.(Q),Q.defaultPrevented||u?.())},w);return hA(Q=>{L===h.layers.size-1&&(n?.(Q),!Q.defaultPrevented&&u&&(Q.preventDefault(),u()))},w),k.useEffect(()=>{if(p)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(h2=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),f2(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=h2)}},[p,w,r,h]),k.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),f2())},[p,h]),k.useEffect(()=>{const Q=()=>v({});return document.addEventListener(Wg,Q),()=>document.removeEventListener(Wg,Q)},[]),s.jsx(wr.div,{...d,ref:S,style:{pointerEvents:T?R?"auto":"none":void 0,...t.style},onFocusCapture:mr(t.onFocusCapture,J.onFocusCapture),onBlurCapture:mr(t.onBlurCapture,J.onBlurCapture),onPointerDownCapture:mr(t.onPointerDownCapture,H.onPointerDownCapture)})});Uv.displayName=fA;var gA="DismissableLayerBranch",vA=k.forwardRef((t,e)=>{const r=k.useContext(Ix),n=k.useRef(null),a=Cn(e,n);return k.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(wr.div,{...t,ref:a})});vA.displayName=gA;function yA(t,e=globalThis?.document){const r=rc(t),n=k.useRef(!1),a=k.useRef(()=>{});return k.useEffect(()=>{const i=u=>{if(u.target&&!n.current){let d=function(){Fx(pA,r,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=d,e.addEventListener("click",a.current,{once:!0})):d()}else e.removeEventListener("click",a.current);n.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",i),e.removeEventListener("click",a.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function bA(t,e=globalThis?.document){const r=rc(t),n=k.useRef(!1);return k.useEffect(()=>{const a=i=>{i.target&&!n.current&&Fx(mA,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function f2(){const t=new CustomEvent(Wg);document.dispatchEvent(t)}function Fx(t,e,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),n?dA(a,i):a.dispatchEvent(i)}var Wm="focusScope.autoFocusOnMount",Hm="focusScope.autoFocusOnUnmount",p2={bubbles:!1,cancelable:!0},xA="FocusScope",qv=k.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...c}=t,[u,d]=k.useState(null),h=rc(a),p=rc(i),g=k.useRef(null),w=Cn(e,x=>d(x)),v=k.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;k.useEffect(()=>{if(n){let x=function(T){if(v.paused||!u)return;const R=T.target;u.contains(R)?g.current=R:Yl(g.current,{select:!0})},_=function(T){if(v.paused||!u)return;const R=T.relatedTarget;R!==null&&(u.contains(R)||Yl(g.current,{select:!0}))},C=function(T){if(document.activeElement===document.body)for(const H of T)H.removedNodes.length>0&&Yl(u)};document.addEventListener("focusin",x),document.addEventListener("focusout",_);const L=new MutationObserver(C);return u&&L.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",_),L.disconnect()}}},[n,u,v.paused]),k.useEffect(()=>{if(u){g2.add(v);const x=document.activeElement;if(!u.contains(x)){const C=new CustomEvent(Wm,p2);u.addEventListener(Wm,h),u.dispatchEvent(C),C.defaultPrevented||(wA(EA(Mx(u)),{select:!0}),document.activeElement===x&&Yl(u))}return()=>{u.removeEventListener(Wm,h),setTimeout(()=>{const C=new CustomEvent(Hm,p2);u.addEventListener(Hm,p),u.dispatchEvent(C),C.defaultPrevented||Yl(x??document.body,{select:!0}),u.removeEventListener(Hm,p),g2.remove(v)},0)}}},[u,h,p,v]);const S=k.useCallback(x=>{if(!r&&!n||v.paused)return;const _=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,C=document.activeElement;if(_&&C){const L=x.currentTarget,[T,R]=_A(L);T&&R?!x.shiftKey&&C===R?(x.preventDefault(),r&&Yl(T,{select:!0})):x.shiftKey&&C===T&&(x.preventDefault(),r&&Yl(R,{select:!0})):C===L&&x.preventDefault()}},[r,n,v.paused]);return s.jsx(wr.div,{tabIndex:-1,...c,ref:w,onKeyDown:S})});qv.displayName=xA;function wA(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Yl(n,{select:e}),document.activeElement!==r)return}function _A(t){const e=Mx(t),r=m2(e,t),n=m2(e.reverse(),t);return[r,n]}function Mx(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function m2(t,e){for(const r of t)if(!NA(r,{upTo:e}))return r}function NA(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function jA(t){return t instanceof HTMLInputElement&&"select"in t}function Yl(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&jA(t)&&e&&t.select()}}var g2=SA();function SA(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=v2(t,e),t.unshift(e)},remove(e){t=v2(t,e),t[0]?.resume()}}}function v2(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function EA(t){return t.filter(e=>e.tagName!=="A")}var CA="Portal",$v=k.forwardRef((t,e)=>{const{container:r,...n}=t,[a,i]=k.useState(!1);Oa(()=>i(!0),[]);const c=r||a&&globalThis?.document?.body;return c?Pb.createPortal(s.jsx(wr.div,{...n,ref:e}),c):null});$v.displayName=CA;function AA(t,e){return k.useReducer((r,n)=>e[r][n]??r,t)}var Rh=t=>{const{present:e,children:r}=t,n=kA(e),a=typeof r=="function"?r({present:n.isPresent}):k.Children.only(r),i=Cn(n.ref,PA(a));return typeof r=="function"||n.isPresent?k.cloneElement(a,{ref:i}):null};Rh.displayName="Presence";function kA(t){const[e,r]=k.useState(),n=k.useRef(null),a=k.useRef(t),i=k.useRef("none"),c=t?"mounted":"unmounted",[u,d]=AA(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const h=Of(n.current);i.current=u==="mounted"?h:"none"},[u]),Oa(()=>{const h=n.current,p=a.current;if(p!==t){const w=i.current,v=Of(h);t?d("MOUNT"):v==="none"||h?.display==="none"?d("UNMOUNT"):d(p&&w!==v?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,d]),Oa(()=>{if(e){let h;const p=e.ownerDocument.defaultView??window,g=v=>{const x=Of(n.current).includes(CSS.escape(v.animationName));if(v.target===e&&x&&(d("ANIMATION_END"),!a.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",h=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},w=v=>{v.target===e&&(i.current=Of(n.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(h),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:k.useCallback(h=>{n.current=h?getComputedStyle(h):null,r(h)},[])}}function Of(t){return t?.animationName||"none"}function PA(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Gm=0;function zx(){k.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??y2()),document.body.insertAdjacentElement("beforeend",t[1]??y2()),Gm++,()=>{Gm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Gm--}},[])}function y2(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Xf="right-scroll-bar-position",Qf="width-before-scroll-bar",OA="with-scroll-bars-hidden",LA="--removed-body-scroll-bar-size";function Km(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function TA(t,e){var r=k.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=e,r.facade}var RA=typeof window<"u"?k.useLayoutEffect:k.useEffect,b2=new WeakMap;function DA(t,e){var r=TA(null,function(n){return t.forEach(function(a){return Km(a,n)})});return RA(function(){var n=b2.get(r);if(n){var a=new Set(n),i=new Set(t),c=r.current;a.forEach(function(u){i.has(u)||Km(u,null)}),i.forEach(function(u){a.has(u)||Km(u,c)})}b2.set(r,t)},[t]),r}function IA(t){return t}function FA(t,e){e===void 0&&(e=IA);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var c=e(i,n);return r.push(c),function(){r=r.filter(function(u){return u!==c})}},assignSyncMedium:function(i){for(n=!0;r.length;){var c=r;r=[],c.forEach(i)}r={push:function(u){return i(u)},filter:function(){return r}}},assignMedium:function(i){n=!0;var c=[];if(r.length){var u=r;r=[],u.forEach(i),c=r}var d=function(){var p=c;c=[],p.forEach(i)},h=function(){return Promise.resolve().then(d)};h(),r={push:function(p){c.push(p),h()},filter:function(p){return c=c.filter(p),r}}}};return a}function MA(t){t===void 0&&(t={});var e=FA(null);return e.options=Js({async:!0,ssr:!1},t),e}var Bx=function(t){var e=t.sideCar,r=oc(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return k.createElement(n,Js({},r))};Bx.isSideCarExport=!0;function zA(t,e){return t.useMedium(e),Bx}var Ux=MA(),Ym=function(){},Pp=k.forwardRef(function(t,e){var r=k.useRef(null),n=k.useState({onScrollCapture:Ym,onWheelCapture:Ym,onTouchMoveCapture:Ym}),a=n[0],i=n[1],c=t.forwardProps,u=t.children,d=t.className,h=t.removeScrollBar,p=t.enabled,g=t.shards,w=t.sideCar,v=t.noRelative,S=t.noIsolation,x=t.inert,_=t.allowPinchZoom,C=t.as,L=C===void 0?"div":C,T=t.gapMode,R=oc(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),H=w,J=DA([r,e]),Q=Js(Js({},R),a);return k.createElement(k.Fragment,null,p&&k.createElement(H,{sideCar:Ux,removeScrollBar:h,shards:g,noRelative:v,noIsolation:S,inert:x,setCallbacks:i,allowPinchZoom:!!_,lockRef:r,gapMode:T}),c?k.cloneElement(k.Children.only(u),Js(Js({},Q),{ref:J})):k.createElement(L,Js({},Q,{className:d,ref:J}),u))});Pp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Pp.classNames={fullWidth:Qf,zeroRight:Xf};var BA=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function UA(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=BA();return e&&t.setAttribute("nonce",e),t}function qA(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function $A(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var VA=function(){var t=0,e=null;return{add:function(r){t==0&&(e=UA())&&(qA(e,r),$A(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},WA=function(){var t=VA();return function(e,r){k.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},qx=function(){var t=WA(),e=function(r){var n=r.styles,a=r.dynamic;return t(n,a),null};return e},HA={left:0,top:0,right:0,gap:0},Jm=function(t){return parseInt(t||"",10)||0},GA=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[Jm(r),Jm(n),Jm(a)]},KA=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return HA;var e=GA(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},YA=qx(),ed="data-scroll-locked",JA=function(t,e,r,n){var a=t.left,i=t.top,c=t.right,u=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(OA,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(ed,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xf,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Qf,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Xf," .").concat(Xf,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Qf," .").concat(Qf,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ed,`] {
    `).concat(LA,": ").concat(u,`px;
  }
`)},x2=function(){var t=parseInt(document.body.getAttribute(ed)||"0",10);return isFinite(t)?t:0},XA=function(){k.useEffect(function(){return document.body.setAttribute(ed,(x2()+1).toString()),function(){var t=x2()-1;t<=0?document.body.removeAttribute(ed):document.body.setAttribute(ed,t.toString())}},[])},QA=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,a=n===void 0?"margin":n;XA();var i=k.useMemo(function(){return KA(a)},[a]);return k.createElement(YA,{styles:JA(i,!e,a,r?"":"!important")})},Hg=!1;if(typeof window<"u")try{var Lf=Object.defineProperty({},"passive",{get:function(){return Hg=!0,!0}});window.addEventListener("test",Lf,Lf),window.removeEventListener("test",Lf,Lf)}catch{Hg=!1}var Uu=Hg?{passive:!1}:!1,ZA=function(t){return t.tagName==="TEXTAREA"},$x=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!ZA(t)&&r[e]==="visible")},ek=function(t){return $x(t,"overflowY")},tk=function(t){return $x(t,"overflowX")},w2=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=Vx(t,n);if(a){var i=Wx(t,n),c=i[1],u=i[2];if(c>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},rk=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},nk=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},Vx=function(t,e){return t==="v"?ek(e):tk(e)},Wx=function(t,e){return t==="v"?rk(e):nk(e)},ak=function(t,e){return t==="h"&&e==="rtl"?-1:1},sk=function(t,e,r,n,a){var i=ak(t,window.getComputedStyle(e).direction),c=i*n,u=r.target,d=e.contains(u),h=!1,p=c>0,g=0,w=0;do{if(!u)break;var v=Wx(t,u),S=v[0],x=v[1],_=v[2],C=x-_-i*S;(S||C)&&Vx(t,u)&&(g+=C,w+=S);var L=u.parentNode;u=L&&L.nodeType===Node.DOCUMENT_FRAGMENT_NODE?L.host:L}while(!d&&u!==document.body||d&&(e.contains(u)||e===u));return(p&&Math.abs(g)<1||!p&&Math.abs(w)<1)&&(h=!0),h},Tf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},_2=function(t){return[t.deltaX,t.deltaY]},N2=function(t){return t&&"current"in t?t.current:t},ok=function(t,e){return t[0]===e[0]&&t[1]===e[1]},ik=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},lk=0,qu=[];function ck(t){var e=k.useRef([]),r=k.useRef([0,0]),n=k.useRef(),a=k.useState(lk++)[0],i=k.useState(qx)[0],c=k.useRef(t);k.useEffect(function(){c.current=t},[t]),k.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var x=kv([t.lockRef.current],(t.shards||[]).map(N2),!0).filter(Boolean);return x.forEach(function(_){return _.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var u=k.useCallback(function(x,_){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!c.current.allowPinchZoom;var C=Tf(x),L=r.current,T="deltaX"in x?x.deltaX:L[0]-C[0],R="deltaY"in x?x.deltaY:L[1]-C[1],H,J=x.target,Q=Math.abs(T)>Math.abs(R)?"h":"v";if("touches"in x&&Q==="h"&&J.type==="range")return!1;var D=w2(Q,J);if(!D)return!0;if(D?H=Q:(H=Q==="v"?"h":"v",D=w2(Q,J)),!D)return!1;if(!n.current&&"changedTouches"in x&&(T||R)&&(n.current=H),!H)return!0;var $=n.current||H;return sk($,_,x,$==="h"?T:R)},[]),d=k.useCallback(function(x){var _=x;if(!(!qu.length||qu[qu.length-1]!==i)){var C="deltaY"in _?_2(_):Tf(_),L=e.current.filter(function(H){return H.name===_.type&&(H.target===_.target||_.target===H.shadowParent)&&ok(H.delta,C)})[0];if(L&&L.should){_.cancelable&&_.preventDefault();return}if(!L){var T=(c.current.shards||[]).map(N2).filter(Boolean).filter(function(H){return H.contains(_.target)}),R=T.length>0?u(_,T[0]):!c.current.noIsolation;R&&_.cancelable&&_.preventDefault()}}},[]),h=k.useCallback(function(x,_,C,L){var T={name:x,delta:_,target:C,should:L,shadowParent:uk(C)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(R){return R!==T})},1)},[]),p=k.useCallback(function(x){r.current=Tf(x),n.current=void 0},[]),g=k.useCallback(function(x){h(x.type,_2(x),x.target,u(x,t.lockRef.current))},[]),w=k.useCallback(function(x){h(x.type,Tf(x),x.target,u(x,t.lockRef.current))},[]);k.useEffect(function(){return qu.push(i),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:w}),document.addEventListener("wheel",d,Uu),document.addEventListener("touchmove",d,Uu),document.addEventListener("touchstart",p,Uu),function(){qu=qu.filter(function(x){return x!==i}),document.removeEventListener("wheel",d,Uu),document.removeEventListener("touchmove",d,Uu),document.removeEventListener("touchstart",p,Uu)}},[]);var v=t.removeScrollBar,S=t.inert;return k.createElement(k.Fragment,null,S?k.createElement(i,{styles:ik(a)}):null,v?k.createElement(QA,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function uk(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const dk=zA(Ux,ck);var Vv=k.forwardRef(function(t,e){return k.createElement(Pp,Js({},t,{ref:e,sideCar:dk}))});Vv.classNames=Pp.classNames;var hk=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},$u=new WeakMap,Rf=new WeakMap,Df={},Xm=0,Hx=function(t){return t&&(t.host||Hx(t.parentNode))},fk=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=Hx(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},pk=function(t,e,r,n){var a=fk(e,Array.isArray(t)?t:[t]);Df[r]||(Df[r]=new WeakMap);var i=Df[r],c=[],u=new Set,d=new Set(a),h=function(g){!g||u.has(g)||(u.add(g),h(g.parentNode))};a.forEach(h);var p=function(g){!g||d.has(g)||Array.prototype.forEach.call(g.children,function(w){if(u.has(w))p(w);else try{var v=w.getAttribute(n),S=v!==null&&v!=="false",x=($u.get(w)||0)+1,_=(i.get(w)||0)+1;$u.set(w,x),i.set(w,_),c.push(w),x===1&&S&&Rf.set(w,!0),_===1&&w.setAttribute(r,"true"),S||w.setAttribute(n,"true")}catch(C){console.error("aria-hidden: cannot operate on ",w,C)}})};return p(e),u.clear(),Xm++,function(){c.forEach(function(g){var w=$u.get(g)-1,v=i.get(g)-1;$u.set(g,w),i.set(g,v),w||(Rf.has(g)||g.removeAttribute(n),Rf.delete(g)),v||g.removeAttribute(r)}),Xm--,Xm||($u=new WeakMap,$u=new WeakMap,Rf=new WeakMap,Df={})}},Gx=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),a=hk(t);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),pk(n,a,r,"aria-hidden")):function(){return null}},Op="Dialog",[Kx]=bd(Op),[mk,Lo]=Kx(Op),Yx=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:c=!0}=t,u=k.useRef(null),d=k.useRef(null),[h,p]=jh({prop:n,defaultProp:a??!1,onChange:i,caller:Op});return s.jsx(mk,{scope:e,triggerRef:u,contentRef:d,contentId:Zl(),titleId:Zl(),descriptionId:Zl(),open:h,onOpenChange:p,onOpenToggle:k.useCallback(()=>p(g=>!g),[p]),modal:c,children:r})};Yx.displayName=Op;var Jx="DialogTrigger",Xx=k.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Lo(Jx,r),i=Cn(e,a.triggerRef);return s.jsx(wr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Gv(a.open),...n,ref:i,onClick:mr(t.onClick,a.onOpenToggle)})});Xx.displayName=Jx;var Wv="DialogPortal",[gk,Qx]=Kx(Wv,{forceMount:void 0}),Zx=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:a}=t,i=Lo(Wv,e);return s.jsx(gk,{scope:e,forceMount:r,children:k.Children.map(n,c=>s.jsx(Rh,{present:r||i.open,children:s.jsx($v,{asChild:!0,container:a,children:c})}))})};Zx.displayName=Wv;var hp="DialogOverlay",ew=k.forwardRef((t,e)=>{const r=Qx(hp,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=Lo(hp,t.__scopeDialog);return i.modal?s.jsx(Rh,{present:n||i.open,children:s.jsx(yk,{...a,ref:e})}):null});ew.displayName=hp;var vk=fd("DialogOverlay.RemoveScroll"),yk=k.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Lo(hp,r);return s.jsx(Vv,{as:vk,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(wr.div,{"data-state":Gv(a.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Yc="DialogContent",tw=k.forwardRef((t,e)=>{const r=Qx(Yc,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=Lo(Yc,t.__scopeDialog);return s.jsx(Rh,{present:n||i.open,children:i.modal?s.jsx(bk,{...a,ref:e}):s.jsx(xk,{...a,ref:e})})});tw.displayName=Yc;var bk=k.forwardRef((t,e)=>{const r=Lo(Yc,t.__scopeDialog),n=k.useRef(null),a=Cn(e,r.contentRef,n);return k.useEffect(()=>{const i=n.current;if(i)return Gx(i)},[]),s.jsx(rw,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:mr(t.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:mr(t.onPointerDownOutside,i=>{const c=i.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&i.preventDefault()}),onFocusOutside:mr(t.onFocusOutside,i=>i.preventDefault())})}),xk=k.forwardRef((t,e)=>{const r=Lo(Yc,t.__scopeDialog),n=k.useRef(!1),a=k.useRef(!1);return s.jsx(rw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=i.target;r.triggerRef.current?.contains(c)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),rw=k.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...c}=t,u=Lo(Yc,r),d=k.useRef(null),h=Cn(e,d);return zx(),s.jsxs(s.Fragment,{children:[s.jsx(qv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Uv,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Gv(u.open),...c,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(wk,{titleId:u.titleId}),s.jsx(Nk,{contentRef:d,descriptionId:u.descriptionId})]})]})}),Hv="DialogTitle",nw=k.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Lo(Hv,r);return s.jsx(wr.h2,{id:a.titleId,...n,ref:e})});nw.displayName=Hv;var aw="DialogDescription",sw=k.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Lo(aw,r);return s.jsx(wr.p,{id:a.descriptionId,...n,ref:e})});sw.displayName=aw;var ow="DialogClose",iw=k.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=Lo(ow,r);return s.jsx(wr.button,{type:"button",...n,ref:e,onClick:mr(t.onClick,()=>a.onOpenChange(!1))})});iw.displayName=ow;function Gv(t){return t?"open":"closed"}var lw="DialogTitleWarning",[tD,cw]=QC(lw,{contentName:Yc,titleName:Hv,docsSlug:"dialog"}),wk=({titleId:t})=>{const e=cw(lw),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return k.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},_k="DialogDescriptionWarning",Nk=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${cw(_k).contentName}}.`;return k.useEffect(()=>{const a=t.current?.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},jk=Yx,Sk=Xx,Ek=Zx,Ck=ew,Ak=tw,kk=nw,Pk=sw,Ok=iw;function uw(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=uw(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function dw(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=uw(t))&&(n&&(n+=" "),n+=e);return n}const Kv="-",Lk=t=>{const e=Rk(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:c=>{const u=c.split(Kv);return u[0]===""&&u.length!==1&&u.shift(),hw(u,e)||Tk(c)},getConflictingClassGroupIds:(c,u)=>{const d=r[c]||[];return u&&n[c]?[...d,...n[c]]:d}}},hw=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),a=n?hw(t.slice(1),n):void 0;if(a)return a;if(e.validators.length===0)return;const i=t.join(Kv);return e.validators.find(({validator:c})=>c(i))?.classGroupId},j2=/^\[(.+)\]$/,Tk=t=>{if(j2.test(t)){const e=j2.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Rk=t=>{const{theme:e,classGroups:r}=t,n={nextPart:new Map,validators:[]};for(const a in r)Gg(r[a],n,a,e);return n},Gg=(t,e,r,n)=>{t.forEach(a=>{if(typeof a=="string"){const i=a===""?e:S2(e,a);i.classGroupId=r;return}if(typeof a=="function"){if(Dk(a)){Gg(a(n),e,r,n);return}e.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,c])=>{Gg(c,S2(e,i),r,n)})})},S2=(t,e)=>{let r=t;return e.split(Kv).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Dk=t=>t.isThemeGetter,Ik=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const a=(i,c)=>{r.set(i,c),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let c=r.get(i);if(c!==void 0)return c;if((c=n.get(i))!==void 0)return a(i,c),c},set(i,c){r.has(i)?r.set(i,c):a(i,c)}}},Kg="!",Yg=":",Fk=Yg.length,Mk=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=a=>{const i=[];let c=0,u=0,d=0,h;for(let S=0;S<a.length;S++){let x=a[S];if(c===0&&u===0){if(x===Yg){i.push(a.slice(d,S)),d=S+Fk;continue}if(x==="/"){h=S;continue}}x==="["?c++:x==="]"?c--:x==="("?u++:x===")"&&u--}const p=i.length===0?a:a.substring(d),g=zk(p),w=g!==p,v=h&&h>d?h-d:void 0;return{modifiers:i,hasImportantModifier:w,baseClassName:g,maybePostfixModifierPosition:v}};if(e){const a=e+Yg,i=n;n=c=>c.startsWith(a)?i(c.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},zk=t=>t.endsWith(Kg)?t.substring(0,t.length-1):t.startsWith(Kg)?t.substring(1):t,Bk=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const a=[];let i=[];return n.forEach(c=>{c[0]==="["||e[c]?(a.push(...i.sort(),c),i=[]):i.push(c)}),a.push(...i.sort()),a}},Uk=t=>({cache:Ik(t.cacheSize),parseClassName:Mk(t),sortModifiers:Bk(t),...Lk(t)}),qk=/\s+/,$k=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=e,c=[],u=t.trim().split(qk);let d="";for(let h=u.length-1;h>=0;h-=1){const p=u[h],{isExternal:g,modifiers:w,hasImportantModifier:v,baseClassName:S,maybePostfixModifierPosition:x}=r(p);if(g){d=p+(d.length>0?" "+d:d);continue}let _=!!x,C=n(_?S.substring(0,x):S);if(!C){if(!_){d=p+(d.length>0?" "+d:d);continue}if(C=n(S),!C){d=p+(d.length>0?" "+d:d);continue}_=!1}const L=i(w).join(":"),T=v?L+Kg:L,R=T+C;if(c.includes(R))continue;c.push(R);const H=a(C,_);for(let J=0;J<H.length;++J){const Q=H[J];c.push(T+Q)}d=p+(d.length>0?" "+d:d)}return d};function Vk(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=fw(e))&&(n&&(n+=" "),n+=r);return n}const fw=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=fw(t[n]))&&(r&&(r+=" "),r+=e);return r};function Wk(t,...e){let r,n,a,i=c;function c(d){const h=e.reduce((p,g)=>g(p),t());return r=Uk(h),n=r.cache.get,a=r.cache.set,i=u,u(d)}function u(d){const h=n(d);if(h)return h;const p=$k(d,r);return a(d,p),p}return function(){return i(Vk.apply(null,arguments))}}const Jn=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},pw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,mw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Hk=/^\d+\/\d+$/,Gk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Kk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Yk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Jk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Xk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vu=t=>Hk.test(t),ir=t=>!!t&&!Number.isNaN(Number(t)),$l=t=>!!t&&Number.isInteger(Number(t)),Qm=t=>t.endsWith("%")&&ir(t.slice(0,-1)),Gi=t=>Gk.test(t),Qk=()=>!0,Zk=t=>Kk.test(t)&&!Yk.test(t),gw=()=>!1,e6=t=>Jk.test(t),t6=t=>Xk.test(t),r6=t=>!Pt(t)&&!Ot(t),n6=t=>xd(t,bw,gw),Pt=t=>pw.test(t),Bc=t=>xd(t,xw,Zk),Zm=t=>xd(t,l6,ir),E2=t=>xd(t,vw,gw),a6=t=>xd(t,yw,t6),If=t=>xd(t,ww,e6),Ot=t=>mw.test(t),th=t=>wd(t,xw),s6=t=>wd(t,c6),C2=t=>wd(t,vw),o6=t=>wd(t,bw),i6=t=>wd(t,yw),Ff=t=>wd(t,ww,!0),xd=(t,e,r)=>{const n=pw.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},wd=(t,e,r=!1)=>{const n=mw.exec(t);return n?n[1]?e(n[1]):r:!1},vw=t=>t==="position"||t==="percentage",yw=t=>t==="image"||t==="url",bw=t=>t==="length"||t==="size"||t==="bg-size",xw=t=>t==="length",l6=t=>t==="number",c6=t=>t==="family-name",ww=t=>t==="shadow",u6=()=>{const t=Jn("color"),e=Jn("font"),r=Jn("text"),n=Jn("font-weight"),a=Jn("tracking"),i=Jn("leading"),c=Jn("breakpoint"),u=Jn("container"),d=Jn("spacing"),h=Jn("radius"),p=Jn("shadow"),g=Jn("inset-shadow"),w=Jn("text-shadow"),v=Jn("drop-shadow"),S=Jn("blur"),x=Jn("perspective"),_=Jn("aspect"),C=Jn("ease"),L=Jn("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],H=()=>[...R(),Ot,Pt],J=()=>["auto","hidden","clip","visible","scroll"],Q=()=>["auto","contain","none"],D=()=>[Ot,Pt,d],$=()=>[Vu,"full","auto",...D()],G=()=>[$l,"none","subgrid",Ot,Pt],z=()=>["auto",{span:["full",$l,Ot,Pt]},$l,Ot,Pt],F=()=>[$l,"auto",Ot,Pt],P=()=>["auto","min","max","fr",Ot,Pt],M=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],fe=()=>["start","end","center","stretch","center-safe","end-safe"],ae=()=>["auto",...D()],se=()=>[Vu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...D()],q=()=>[t,Ot,Pt],me=()=>[...R(),C2,E2,{position:[Ot,Pt]}],Ne=()=>["no-repeat",{repeat:["","x","y","space","round"]}],te=()=>["auto","cover","contain",o6,n6,{size:[Ot,Pt]}],I=()=>[Qm,th,Bc],Y=()=>["","none","full",h,Ot,Pt],Z=()=>["",ir,th,Bc],ue=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],le=()=>[ir,Qm,C2,E2],xe=()=>["","none",S,Ot,Pt],ye=()=>["none",ir,Ot,Pt],ke=()=>["none",ir,Ot,Pt],De=()=>[ir,Ot,Pt],He=()=>[Vu,"full",...D()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Gi],breakpoint:[Gi],color:[Qk],container:[Gi],"drop-shadow":[Gi],ease:["in","out","in-out"],font:[r6],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Gi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Gi],shadow:[Gi],spacing:["px",ir],text:[Gi],"text-shadow":[Gi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Vu,Pt,Ot,_]}],container:["container"],columns:[{columns:[ir,Pt,Ot,u]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:H()}],overflow:[{overflow:J()}],"overflow-x":[{"overflow-x":J()}],"overflow-y":[{"overflow-y":J()}],overscroll:[{overscroll:Q()}],"overscroll-x":[{"overscroll-x":Q()}],"overscroll-y":[{"overscroll-y":Q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:$()}],"inset-x":[{"inset-x":$()}],"inset-y":[{"inset-y":$()}],start:[{start:$()}],end:[{end:$()}],top:[{top:$()}],right:[{right:$()}],bottom:[{bottom:$()}],left:[{left:$()}],visibility:["visible","invisible","collapse"],z:[{z:[$l,"auto",Ot,Pt]}],basis:[{basis:[Vu,"full","auto",u,...D()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ir,Vu,"auto","initial","none",Pt]}],grow:[{grow:["",ir,Ot,Pt]}],shrink:[{shrink:["",ir,Ot,Pt]}],order:[{order:[$l,"first","last","none",Ot,Pt]}],"grid-cols":[{"grid-cols":G()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":G()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":P()}],"auto-rows":[{"auto-rows":P()}],gap:[{gap:D()}],"gap-x":[{"gap-x":D()}],"gap-y":[{"gap-y":D()}],"justify-content":[{justify:[...M(),"normal"]}],"justify-items":[{"justify-items":[...fe(),"normal"]}],"justify-self":[{"justify-self":["auto",...fe()]}],"align-content":[{content:["normal",...M()]}],"align-items":[{items:[...fe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...fe(),{baseline:["","last"]}]}],"place-content":[{"place-content":M()}],"place-items":[{"place-items":[...fe(),"baseline"]}],"place-self":[{"place-self":["auto",...fe()]}],p:[{p:D()}],px:[{px:D()}],py:[{py:D()}],ps:[{ps:D()}],pe:[{pe:D()}],pt:[{pt:D()}],pr:[{pr:D()}],pb:[{pb:D()}],pl:[{pl:D()}],m:[{m:ae()}],mx:[{mx:ae()}],my:[{my:ae()}],ms:[{ms:ae()}],me:[{me:ae()}],mt:[{mt:ae()}],mr:[{mr:ae()}],mb:[{mb:ae()}],ml:[{ml:ae()}],"space-x":[{"space-x":D()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":D()}],"space-y-reverse":["space-y-reverse"],size:[{size:se()}],w:[{w:[u,"screen",...se()]}],"min-w":[{"min-w":[u,"screen","none",...se()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[c]},...se()]}],h:[{h:["screen","lh",...se()]}],"min-h":[{"min-h":["screen","lh","none",...se()]}],"max-h":[{"max-h":["screen","lh",...se()]}],"font-size":[{text:["base",r,th,Bc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Ot,Zm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Qm,Pt]}],"font-family":[{font:[s6,Pt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ot,Pt]}],"line-clamp":[{"line-clamp":[ir,"none",Ot,Zm]}],leading:[{leading:[i,...D()]}],"list-image":[{"list-image":["none",Ot,Pt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ot,Pt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:q()}],"text-color":[{text:q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:[ir,"from-font","auto",Ot,Bc]}],"text-decoration-color":[{decoration:q()}],"underline-offset":[{"underline-offset":[ir,"auto",Ot,Pt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ot,Pt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ot,Pt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:me()}],"bg-repeat":[{bg:Ne()}],"bg-size":[{bg:te()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},$l,Ot,Pt],radial:["",Ot,Pt],conic:[$l,Ot,Pt]},i6,a6]}],"bg-color":[{bg:q()}],"gradient-from-pos":[{from:I()}],"gradient-via-pos":[{via:I()}],"gradient-to-pos":[{to:I()}],"gradient-from":[{from:q()}],"gradient-via":[{via:q()}],"gradient-to":[{to:q()}],rounded:[{rounded:Y()}],"rounded-s":[{"rounded-s":Y()}],"rounded-e":[{"rounded-e":Y()}],"rounded-t":[{"rounded-t":Y()}],"rounded-r":[{"rounded-r":Y()}],"rounded-b":[{"rounded-b":Y()}],"rounded-l":[{"rounded-l":Y()}],"rounded-ss":[{"rounded-ss":Y()}],"rounded-se":[{"rounded-se":Y()}],"rounded-ee":[{"rounded-ee":Y()}],"rounded-es":[{"rounded-es":Y()}],"rounded-tl":[{"rounded-tl":Y()}],"rounded-tr":[{"rounded-tr":Y()}],"rounded-br":[{"rounded-br":Y()}],"rounded-bl":[{"rounded-bl":Y()}],"border-w":[{border:Z()}],"border-w-x":[{"border-x":Z()}],"border-w-y":[{"border-y":Z()}],"border-w-s":[{"border-s":Z()}],"border-w-e":[{"border-e":Z()}],"border-w-t":[{"border-t":Z()}],"border-w-r":[{"border-r":Z()}],"border-w-b":[{"border-b":Z()}],"border-w-l":[{"border-l":Z()}],"divide-x":[{"divide-x":Z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ue(),"hidden","none"]}],"divide-style":[{divide:[...ue(),"hidden","none"]}],"border-color":[{border:q()}],"border-color-x":[{"border-x":q()}],"border-color-y":[{"border-y":q()}],"border-color-s":[{"border-s":q()}],"border-color-e":[{"border-e":q()}],"border-color-t":[{"border-t":q()}],"border-color-r":[{"border-r":q()}],"border-color-b":[{"border-b":q()}],"border-color-l":[{"border-l":q()}],"divide-color":[{divide:q()}],"outline-style":[{outline:[...ue(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ir,Ot,Pt]}],"outline-w":[{outline:["",ir,th,Bc]}],"outline-color":[{outline:q()}],shadow:[{shadow:["","none",p,Ff,If]}],"shadow-color":[{shadow:q()}],"inset-shadow":[{"inset-shadow":["none",g,Ff,If]}],"inset-shadow-color":[{"inset-shadow":q()}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:q()}],"ring-offset-w":[{"ring-offset":[ir,Bc]}],"ring-offset-color":[{"ring-offset":q()}],"inset-ring-w":[{"inset-ring":Z()}],"inset-ring-color":[{"inset-ring":q()}],"text-shadow":[{"text-shadow":["none",w,Ff,If]}],"text-shadow-color":[{"text-shadow":q()}],opacity:[{opacity:[ir,Ot,Pt]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ir]}],"mask-image-linear-from-pos":[{"mask-linear-from":le()}],"mask-image-linear-to-pos":[{"mask-linear-to":le()}],"mask-image-linear-from-color":[{"mask-linear-from":q()}],"mask-image-linear-to-color":[{"mask-linear-to":q()}],"mask-image-t-from-pos":[{"mask-t-from":le()}],"mask-image-t-to-pos":[{"mask-t-to":le()}],"mask-image-t-from-color":[{"mask-t-from":q()}],"mask-image-t-to-color":[{"mask-t-to":q()}],"mask-image-r-from-pos":[{"mask-r-from":le()}],"mask-image-r-to-pos":[{"mask-r-to":le()}],"mask-image-r-from-color":[{"mask-r-from":q()}],"mask-image-r-to-color":[{"mask-r-to":q()}],"mask-image-b-from-pos":[{"mask-b-from":le()}],"mask-image-b-to-pos":[{"mask-b-to":le()}],"mask-image-b-from-color":[{"mask-b-from":q()}],"mask-image-b-to-color":[{"mask-b-to":q()}],"mask-image-l-from-pos":[{"mask-l-from":le()}],"mask-image-l-to-pos":[{"mask-l-to":le()}],"mask-image-l-from-color":[{"mask-l-from":q()}],"mask-image-l-to-color":[{"mask-l-to":q()}],"mask-image-x-from-pos":[{"mask-x-from":le()}],"mask-image-x-to-pos":[{"mask-x-to":le()}],"mask-image-x-from-color":[{"mask-x-from":q()}],"mask-image-x-to-color":[{"mask-x-to":q()}],"mask-image-y-from-pos":[{"mask-y-from":le()}],"mask-image-y-to-pos":[{"mask-y-to":le()}],"mask-image-y-from-color":[{"mask-y-from":q()}],"mask-image-y-to-color":[{"mask-y-to":q()}],"mask-image-radial":[{"mask-radial":[Ot,Pt]}],"mask-image-radial-from-pos":[{"mask-radial-from":le()}],"mask-image-radial-to-pos":[{"mask-radial-to":le()}],"mask-image-radial-from-color":[{"mask-radial-from":q()}],"mask-image-radial-to-color":[{"mask-radial-to":q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":R()}],"mask-image-conic-pos":[{"mask-conic":[ir]}],"mask-image-conic-from-pos":[{"mask-conic-from":le()}],"mask-image-conic-to-pos":[{"mask-conic-to":le()}],"mask-image-conic-from-color":[{"mask-conic-from":q()}],"mask-image-conic-to-color":[{"mask-conic-to":q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:me()}],"mask-repeat":[{mask:Ne()}],"mask-size":[{mask:te()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ot,Pt]}],filter:[{filter:["","none",Ot,Pt]}],blur:[{blur:xe()}],brightness:[{brightness:[ir,Ot,Pt]}],contrast:[{contrast:[ir,Ot,Pt]}],"drop-shadow":[{"drop-shadow":["","none",v,Ff,If]}],"drop-shadow-color":[{"drop-shadow":q()}],grayscale:[{grayscale:["",ir,Ot,Pt]}],"hue-rotate":[{"hue-rotate":[ir,Ot,Pt]}],invert:[{invert:["",ir,Ot,Pt]}],saturate:[{saturate:[ir,Ot,Pt]}],sepia:[{sepia:["",ir,Ot,Pt]}],"backdrop-filter":[{"backdrop-filter":["","none",Ot,Pt]}],"backdrop-blur":[{"backdrop-blur":xe()}],"backdrop-brightness":[{"backdrop-brightness":[ir,Ot,Pt]}],"backdrop-contrast":[{"backdrop-contrast":[ir,Ot,Pt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ir,Ot,Pt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ir,Ot,Pt]}],"backdrop-invert":[{"backdrop-invert":["",ir,Ot,Pt]}],"backdrop-opacity":[{"backdrop-opacity":[ir,Ot,Pt]}],"backdrop-saturate":[{"backdrop-saturate":[ir,Ot,Pt]}],"backdrop-sepia":[{"backdrop-sepia":["",ir,Ot,Pt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":D()}],"border-spacing-x":[{"border-spacing-x":D()}],"border-spacing-y":[{"border-spacing-y":D()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ot,Pt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ir,"initial",Ot,Pt]}],ease:[{ease:["linear","initial",C,Ot,Pt]}],delay:[{delay:[ir,Ot,Pt]}],animate:[{animate:["none",L,Ot,Pt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,Ot,Pt]}],"perspective-origin":[{"perspective-origin":H()}],rotate:[{rotate:ye()}],"rotate-x":[{"rotate-x":ye()}],"rotate-y":[{"rotate-y":ye()}],"rotate-z":[{"rotate-z":ye()}],scale:[{scale:ke()}],"scale-x":[{"scale-x":ke()}],"scale-y":[{"scale-y":ke()}],"scale-z":[{"scale-z":ke()}],"scale-3d":["scale-3d"],skew:[{skew:De()}],"skew-x":[{"skew-x":De()}],"skew-y":[{"skew-y":De()}],transform:[{transform:[Ot,Pt,"","none","gpu","cpu"]}],"transform-origin":[{origin:H()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:He()}],"translate-x":[{"translate-x":He()}],"translate-y":[{"translate-y":He()}],"translate-z":[{"translate-z":He()}],"translate-none":["translate-none"],accent:[{accent:q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ot,Pt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ot,Pt]}],fill:[{fill:["none",...q()]}],"stroke-w":[{stroke:[ir,th,Bc,Zm]}],stroke:[{stroke:["none",...q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},d6=Wk(u6);function An(...t){return d6(dw(t))}function gn({...t}){return s.jsx(jk,{"data-slot":"dialog",...t})}function ec({...t}){return s.jsx(Sk,{"data-slot":"dialog-trigger",...t})}function h6({...t}){return s.jsx(Ek,{"data-slot":"dialog-portal",...t})}const _w=k.forwardRef(({className:t,...e},r)=>s.jsx(Ck,{ref:r,"data-slot":"dialog-overlay",className:An("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));_w.displayName="DialogOverlay";const nn=k.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(h6,{"data-slot":"dialog-portal",children:[s.jsx(_w,{}),s.jsxs(Ak,{ref:n,"data-slot":"dialog-content",className:An("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),"aria-describedby":"dialog-description",...r,children:[e,s.jsxs(Ok,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[s.jsx(Nh,{}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));nn.displayName="DialogContent";function Ss({className:t,...e}){return s.jsx("div",{"data-slot":"dialog-header",className:An("flex flex-col gap-2 text-center sm:text-left",t),...e})}function Es({className:t,...e}){return s.jsx(kk,{"data-slot":"dialog-title",className:An("text-lg leading-none font-semibold",t),...e})}function Jl({className:t,...e}){return s.jsx(Pk,{"data-slot":"dialog-description",className:An("text-muted-foreground text-sm",t),...e})}function lr({className:t,type:e,...r}){return s.jsx("input",{type:e,"data-slot":"input",className:An("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}var f6="Label",Nw=k.forwardRef((t,e)=>s.jsx(wr.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Nw.displayName=f6;var p6=Nw;function Rn({className:t,...e}){return s.jsx(p6,{"data-slot":"label",className:An("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function A2(t,[e,r]){return Math.min(r,Math.max(e,t))}function jw(t){const e=t+"CollectionProvider",[r,n]=bd(e),[a,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),c=x=>{const{scope:_,children:C}=x,L=ut.useRef(null),T=ut.useRef(new Map).current;return s.jsx(a,{scope:_,itemMap:T,collectionRef:L,children:C})};c.displayName=e;const u=t+"CollectionSlot",d=fd(u),h=ut.forwardRef((x,_)=>{const{scope:C,children:L}=x,T=i(u,C),R=Cn(_,T.collectionRef);return s.jsx(d,{ref:R,children:L})});h.displayName=u;const p=t+"CollectionItemSlot",g="data-radix-collection-item",w=fd(p),v=ut.forwardRef((x,_)=>{const{scope:C,children:L,...T}=x,R=ut.useRef(null),H=Cn(_,R),J=i(p,C);return ut.useEffect(()=>(J.itemMap.set(R,{ref:R,...T}),()=>void J.itemMap.delete(R))),s.jsx(w,{[g]:"",ref:H,children:L})});v.displayName=p;function S(x){const _=i(t+"CollectionConsumer",x);return ut.useCallback(()=>{const L=_.collectionRef.current;if(!L)return[];const T=Array.from(L.querySelectorAll(`[${g}]`));return Array.from(_.itemMap.values()).sort((J,Q)=>T.indexOf(J.ref.current)-T.indexOf(Q.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:c,Slot:h,ItemSlot:v},S,n]}var m6=k.createContext(void 0);function Yv(t){const e=k.useContext(m6);return t||e||"ltr"}const g6=["top","right","bottom","left"],nc=Math.min,Cs=Math.max,fp=Math.round,Mf=Math.floor,ii=t=>({x:t,y:t}),v6={left:"right",right:"left",bottom:"top",top:"bottom"},y6={start:"end",end:"start"};function Jg(t,e,r){return Cs(t,nc(e,r))}function il(t,e){return typeof t=="function"?t(e):t}function ll(t){return t.split("-")[0]}function _d(t){return t.split("-")[1]}function Jv(t){return t==="x"?"y":"x"}function Xv(t){return t==="y"?"height":"width"}const b6=new Set(["top","bottom"]);function ai(t){return b6.has(ll(t))?"y":"x"}function Qv(t){return Jv(ai(t))}function x6(t,e,r){r===void 0&&(r=!1);const n=_d(t),a=Qv(t),i=Xv(a);let c=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(c=pp(c)),[c,pp(c)]}function w6(t){const e=pp(t);return[Xg(t),e,Xg(e)]}function Xg(t){return t.replace(/start|end/g,e=>y6[e])}const k2=["left","right"],P2=["right","left"],_6=["top","bottom"],N6=["bottom","top"];function j6(t,e,r){switch(t){case"top":case"bottom":return r?e?P2:k2:e?k2:P2;case"left":case"right":return e?_6:N6;default:return[]}}function S6(t,e,r,n){const a=_d(t);let i=j6(ll(t),r==="start",n);return a&&(i=i.map(c=>c+"-"+a),e&&(i=i.concat(i.map(Xg)))),i}function pp(t){return t.replace(/left|right|bottom|top/g,e=>v6[e])}function E6(t){return{top:0,right:0,bottom:0,left:0,...t}}function Sw(t){return typeof t!="number"?E6(t):{top:t,right:t,bottom:t,left:t}}function mp(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}function O2(t,e,r){let{reference:n,floating:a}=t;const i=ai(e),c=Qv(e),u=Xv(c),d=ll(e),h=i==="y",p=n.x+n.width/2-a.width/2,g=n.y+n.height/2-a.height/2,w=n[u]/2-a[u]/2;let v;switch(d){case"top":v={x:p,y:n.y-a.height};break;case"bottom":v={x:p,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:g};break;case"left":v={x:n.x-a.width,y:g};break;default:v={x:n.x,y:n.y}}switch(_d(e)){case"start":v[c]-=w*(r&&h?-1:1);break;case"end":v[c]+=w*(r&&h?-1:1);break}return v}const C6=async(t,e,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:c}=r,u=i.filter(Boolean),d=await(c.isRTL==null?void 0:c.isRTL(e));let h=await c.getElementRects({reference:t,floating:e,strategy:a}),{x:p,y:g}=O2(h,n,d),w=n,v={},S=0;for(let x=0;x<u.length;x++){const{name:_,fn:C}=u[x],{x:L,y:T,data:R,reset:H}=await C({x:p,y:g,initialPlacement:n,placement:w,strategy:a,middlewareData:v,rects:h,platform:c,elements:{reference:t,floating:e}});p=L??p,g=T??g,v={...v,[_]:{...v[_],...R}},H&&S<=50&&(S++,typeof H=="object"&&(H.placement&&(w=H.placement),H.rects&&(h=H.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:a}):H.rects),{x:p,y:g}=O2(h,w,d)),x=-1)}return{x:p,y:g,placement:w,strategy:a,middlewareData:v}};async function Sh(t,e){var r;e===void 0&&(e={});const{x:n,y:a,platform:i,rects:c,elements:u,strategy:d}=t,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:w=!1,padding:v=0}=il(e,t),S=Sw(v),_=u[w?g==="floating"?"reference":"floating":g],C=mp(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(_)))==null||r?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:h,rootBoundary:p,strategy:d})),L=g==="floating"?{x:n,y:a,width:c.floating.width,height:c.floating.height}:c.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),R=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},H=mp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:L,offsetParent:T,strategy:d}):L);return{top:(C.top-H.top+S.top)/R.y,bottom:(H.bottom-C.bottom+S.bottom)/R.y,left:(C.left-H.left+S.left)/R.x,right:(H.right-C.right+S.right)/R.x}}const A6=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:a,rects:i,platform:c,elements:u,middlewareData:d}=e,{element:h,padding:p=0}=il(t,e)||{};if(h==null)return{};const g=Sw(p),w={x:r,y:n},v=Qv(a),S=Xv(v),x=await c.getDimensions(h),_=v==="y",C=_?"top":"left",L=_?"bottom":"right",T=_?"clientHeight":"clientWidth",R=i.reference[S]+i.reference[v]-w[v]-i.floating[S],H=w[v]-i.reference[v],J=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h));let Q=J?J[T]:0;(!Q||!await(c.isElement==null?void 0:c.isElement(J)))&&(Q=u.floating[T]||i.floating[S]);const D=R/2-H/2,$=Q/2-x[S]/2-1,G=nc(g[C],$),z=nc(g[L],$),F=G,P=Q-x[S]-z,M=Q/2-x[S]/2+D,fe=Jg(F,M,P),ae=!d.arrow&&_d(a)!=null&&M!==fe&&i.reference[S]/2-(M<F?G:z)-x[S]/2<0,se=ae?M<F?M-F:M-P:0;return{[v]:w[v]+se,data:{[v]:fe,centerOffset:M-fe-se,...ae&&{alignmentOffset:se}},reset:ae}}}),k6=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:a,middlewareData:i,rects:c,initialPlacement:u,platform:d,elements:h}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:w,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:x=!0,..._}=il(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const C=ll(a),L=ai(u),T=ll(u)===u,R=await(d.isRTL==null?void 0:d.isRTL(h.floating)),H=w||(T||!x?[pp(u)]:w6(u)),J=S!=="none";!w&&J&&H.push(...S6(u,x,S,R));const Q=[u,...H],D=await Sh(e,_),$=[];let G=((n=i.flip)==null?void 0:n.overflows)||[];if(p&&$.push(D[C]),g){const M=x6(a,c,R);$.push(D[M[0]],D[M[1]])}if(G=[...G,{placement:a,overflows:$}],!$.every(M=>M<=0)){var z,F;const M=(((z=i.flip)==null?void 0:z.index)||0)+1,fe=Q[M];if(fe&&(!(g==="alignment"?L!==ai(fe):!1)||G.every(q=>ai(q.placement)===L?q.overflows[0]>0:!0)))return{data:{index:M,overflows:G},reset:{placement:fe}};let ae=(F=G.filter(se=>se.overflows[0]<=0).sort((se,q)=>se.overflows[1]-q.overflows[1])[0])==null?void 0:F.placement;if(!ae)switch(v){case"bestFit":{var P;const se=(P=G.filter(q=>{if(J){const me=ai(q.placement);return me===L||me==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(me=>me>0).reduce((me,Ne)=>me+Ne,0)]).sort((q,me)=>q[1]-me[1])[0])==null?void 0:P[0];se&&(ae=se);break}case"initialPlacement":ae=u;break}if(a!==ae)return{reset:{placement:ae}}}return{}}}};function L2(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function T2(t){return g6.some(e=>t[e]>=0)}const P6=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...a}=il(t,e);switch(n){case"referenceHidden":{const i=await Sh(e,{...a,elementContext:"reference"}),c=L2(i,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:T2(c)}}}case"escaped":{const i=await Sh(e,{...a,altBoundary:!0}),c=L2(i,r.floating);return{data:{escapedOffsets:c,escaped:T2(c)}}}default:return{}}}}},Ew=new Set(["left","top"]);async function O6(t,e){const{placement:r,platform:n,elements:a}=t,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),c=ll(r),u=_d(r),d=ai(r)==="y",h=Ew.has(c)?-1:1,p=i&&d?-1:1,g=il(e,t);let{mainAxis:w,crossAxis:v,alignmentAxis:S}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof S=="number"&&(v=u==="end"?S*-1:S),d?{x:v*p,y:w*h}:{x:w*h,y:v*p}}const L6=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:a,y:i,placement:c,middlewareData:u}=e,d=await O6(e,t);return c===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:a+d.x,y:i+d.y,data:{...d,placement:c}}}}},T6=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:a}=e,{mainAxis:i=!0,crossAxis:c=!1,limiter:u={fn:_=>{let{x:C,y:L}=_;return{x:C,y:L}}},...d}=il(t,e),h={x:r,y:n},p=await Sh(e,d),g=ai(ll(a)),w=Jv(g);let v=h[w],S=h[g];if(i){const _=w==="y"?"top":"left",C=w==="y"?"bottom":"right",L=v+p[_],T=v-p[C];v=Jg(L,v,T)}if(c){const _=g==="y"?"top":"left",C=g==="y"?"bottom":"right",L=S+p[_],T=S-p[C];S=Jg(L,S,T)}const x=u.fn({...e,[w]:v,[g]:S});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[w]:i,[g]:c}}}}}},R6=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:a,rects:i,middlewareData:c}=e,{offset:u=0,mainAxis:d=!0,crossAxis:h=!0}=il(t,e),p={x:r,y:n},g=ai(a),w=Jv(g);let v=p[w],S=p[g];const x=il(u,e),_=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(d){const T=w==="y"?"height":"width",R=i.reference[w]-i.floating[T]+_.mainAxis,H=i.reference[w]+i.reference[T]-_.mainAxis;v<R?v=R:v>H&&(v=H)}if(h){var C,L;const T=w==="y"?"width":"height",R=Ew.has(ll(a)),H=i.reference[g]-i.floating[T]+(R&&((C=c.offset)==null?void 0:C[g])||0)+(R?0:_.crossAxis),J=i.reference[g]+i.reference[T]+(R?0:((L=c.offset)==null?void 0:L[g])||0)-(R?_.crossAxis:0);S<H?S=H:S>J&&(S=J)}return{[w]:v,[g]:S}}}},D6=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:a,rects:i,platform:c,elements:u}=e,{apply:d=()=>{},...h}=il(t,e),p=await Sh(e,h),g=ll(a),w=_d(a),v=ai(a)==="y",{width:S,height:x}=i.floating;let _,C;g==="top"||g==="bottom"?(_=g,C=w===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(C=g,_=w==="end"?"top":"bottom");const L=x-p.top-p.bottom,T=S-p.left-p.right,R=nc(x-p[_],L),H=nc(S-p[C],T),J=!e.middlewareData.shift;let Q=R,D=H;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(D=T),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(Q=L),J&&!w){const G=Cs(p.left,0),z=Cs(p.right,0),F=Cs(p.top,0),P=Cs(p.bottom,0);v?D=S-2*(G!==0||z!==0?G+z:Cs(p.left,p.right)):Q=x-2*(F!==0||P!==0?F+P:Cs(p.top,p.bottom))}await d({...e,availableWidth:D,availableHeight:Q});const $=await c.getDimensions(u.floating);return S!==$.width||x!==$.height?{reset:{rects:!0}}:{}}}};function Lp(){return typeof window<"u"}function Nd(t){return Cw(t)?(t.nodeName||"").toLowerCase():"#document"}function Ls(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function di(t){var e;return(e=(Cw(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Cw(t){return Lp()?t instanceof Node||t instanceof Ls(t).Node:!1}function Co(t){return Lp()?t instanceof Element||t instanceof Ls(t).Element:!1}function li(t){return Lp()?t instanceof HTMLElement||t instanceof Ls(t).HTMLElement:!1}function R2(t){return!Lp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ls(t).ShadowRoot}const I6=new Set(["inline","contents"]);function Dh(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=Ao(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!I6.has(a)}const F6=new Set(["table","td","th"]);function M6(t){return F6.has(Nd(t))}const z6=[":popover-open",":modal"];function Tp(t){return z6.some(e=>{try{return t.matches(e)}catch{return!1}})}const B6=["transform","translate","scale","rotate","perspective"],U6=["transform","translate","scale","rotate","perspective","filter"],q6=["paint","layout","strict","content"];function Zv(t){const e=e0(),r=Co(t)?Ao(t):t;return B6.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||U6.some(n=>(r.willChange||"").includes(n))||q6.some(n=>(r.contain||"").includes(n))}function $6(t){let e=ac(t);for(;li(e)&&!pd(e);){if(Zv(e))return e;if(Tp(e))return null;e=ac(e)}return null}function e0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const V6=new Set(["html","body","#document"]);function pd(t){return V6.has(Nd(t))}function Ao(t){return Ls(t).getComputedStyle(t)}function Rp(t){return Co(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ac(t){if(Nd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||R2(t)&&t.host||di(t);return R2(e)?e.host:e}function Aw(t){const e=ac(t);return pd(e)?t.ownerDocument?t.ownerDocument.body:t.body:li(e)&&Dh(e)?e:Aw(e)}function Eh(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=Aw(t),i=a===((n=t.ownerDocument)==null?void 0:n.body),c=Ls(a);if(i){const u=Qg(c);return e.concat(c,c.visualViewport||[],Dh(a)?a:[],u&&r?Eh(u):[])}return e.concat(a,Eh(a,[],r))}function Qg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function kw(t){const e=Ao(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=li(t),i=a?t.offsetWidth:r,c=a?t.offsetHeight:n,u=fp(r)!==i||fp(n)!==c;return u&&(r=i,n=c),{width:r,height:n,$:u}}function t0(t){return Co(t)?t:t.contextElement}function td(t){const e=t0(t);if(!li(e))return ii(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:i}=kw(e);let c=(i?fp(r.width):r.width)/n,u=(i?fp(r.height):r.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const W6=ii(0);function Pw(t){const e=Ls(t);return!e0()||!e.visualViewport?W6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function H6(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Ls(t)?!1:e}function Jc(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),i=t0(t);let c=ii(1);e&&(n?Co(n)&&(c=td(n)):c=td(t));const u=H6(i,r,n)?Pw(i):ii(0);let d=(a.left+u.x)/c.x,h=(a.top+u.y)/c.y,p=a.width/c.x,g=a.height/c.y;if(i){const w=Ls(i),v=n&&Co(n)?Ls(n):n;let S=w,x=Qg(S);for(;x&&n&&v!==S;){const _=td(x),C=x.getBoundingClientRect(),L=Ao(x),T=C.left+(x.clientLeft+parseFloat(L.paddingLeft))*_.x,R=C.top+(x.clientTop+parseFloat(L.paddingTop))*_.y;d*=_.x,h*=_.y,p*=_.x,g*=_.y,d+=T,h+=R,S=Ls(x),x=Qg(S)}}return mp({width:p,height:g,x:d,y:h})}function Dp(t,e){const r=Rp(t).scrollLeft;return e?e.left+r:Jc(di(t)).left+r}function Ow(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-Dp(t,r),a=r.top+e.scrollTop;return{x:n,y:a}}function G6(t){let{elements:e,rect:r,offsetParent:n,strategy:a}=t;const i=a==="fixed",c=di(n),u=e?Tp(e.floating):!1;if(n===c||u&&i)return r;let d={scrollLeft:0,scrollTop:0},h=ii(1);const p=ii(0),g=li(n);if((g||!g&&!i)&&((Nd(n)!=="body"||Dh(c))&&(d=Rp(n)),li(n))){const v=Jc(n);h=td(n),p.x=v.x+n.clientLeft,p.y=v.y+n.clientTop}const w=c&&!g&&!i?Ow(c,d):ii(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-d.scrollLeft*h.x+p.x+w.x,y:r.y*h.y-d.scrollTop*h.y+p.y+w.y}}function K6(t){return Array.from(t.getClientRects())}function Y6(t){const e=di(t),r=Rp(t),n=t.ownerDocument.body,a=Cs(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=Cs(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+Dp(t);const u=-r.scrollTop;return Ao(n).direction==="rtl"&&(c+=Cs(e.clientWidth,n.clientWidth)-a),{width:a,height:i,x:c,y:u}}const D2=25;function J6(t,e){const r=Ls(t),n=di(t),a=r.visualViewport;let i=n.clientWidth,c=n.clientHeight,u=0,d=0;if(a){i=a.width,c=a.height;const p=e0();(!p||p&&e==="fixed")&&(u=a.offsetLeft,d=a.offsetTop)}const h=Dp(n);if(h<=0){const p=n.ownerDocument,g=p.body,w=getComputedStyle(g),v=p.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,S=Math.abs(n.clientWidth-g.clientWidth-v);S<=D2&&(i-=S)}else h<=D2&&(i+=h);return{width:i,height:c,x:u,y:d}}const X6=new Set(["absolute","fixed"]);function Q6(t,e){const r=Jc(t,!0,e==="fixed"),n=r.top+t.clientTop,a=r.left+t.clientLeft,i=li(t)?td(t):ii(1),c=t.clientWidth*i.x,u=t.clientHeight*i.y,d=a*i.x,h=n*i.y;return{width:c,height:u,x:d,y:h}}function I2(t,e,r){let n;if(e==="viewport")n=J6(t,r);else if(e==="document")n=Y6(di(t));else if(Co(e))n=Q6(e,r);else{const a=Pw(t);n={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return mp(n)}function Lw(t,e){const r=ac(t);return r===e||!Co(r)||pd(r)?!1:Ao(r).position==="fixed"||Lw(r,e)}function Z6(t,e){const r=e.get(t);if(r)return r;let n=Eh(t,[],!1).filter(u=>Co(u)&&Nd(u)!=="body"),a=null;const i=Ao(t).position==="fixed";let c=i?ac(t):t;for(;Co(c)&&!pd(c);){const u=Ao(c),d=Zv(c);!d&&u.position==="fixed"&&(a=null),(i?!d&&!a:!d&&u.position==="static"&&!!a&&X6.has(a.position)||Dh(c)&&!d&&Lw(t,c))?n=n.filter(p=>p!==c):a=u,c=ac(c)}return e.set(t,n),n}function eP(t){let{element:e,boundary:r,rootBoundary:n,strategy:a}=t;const c=[...r==="clippingAncestors"?Tp(e)?[]:Z6(e,this._c):[].concat(r),n],u=c[0],d=c.reduce((h,p)=>{const g=I2(e,p,a);return h.top=Cs(g.top,h.top),h.right=nc(g.right,h.right),h.bottom=nc(g.bottom,h.bottom),h.left=Cs(g.left,h.left),h},I2(e,u,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function tP(t){const{width:e,height:r}=kw(t);return{width:e,height:r}}function rP(t,e,r){const n=li(e),a=di(e),i=r==="fixed",c=Jc(t,!0,i,e);let u={scrollLeft:0,scrollTop:0};const d=ii(0);function h(){d.x=Dp(a)}if(n||!n&&!i)if((Nd(e)!=="body"||Dh(a))&&(u=Rp(e)),n){const v=Jc(e,!0,i,e);d.x=v.x+e.clientLeft,d.y=v.y+e.clientTop}else a&&h();i&&!n&&a&&h();const p=a&&!n&&!i?Ow(a,u):ii(0),g=c.left+u.scrollLeft-d.x-p.x,w=c.top+u.scrollTop-d.y-p.y;return{x:g,y:w,width:c.width,height:c.height}}function eg(t){return Ao(t).position==="static"}function F2(t,e){if(!li(t)||Ao(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return di(t)===r&&(r=r.ownerDocument.body),r}function Tw(t,e){const r=Ls(t);if(Tp(t))return r;if(!li(t)){let a=ac(t);for(;a&&!pd(a);){if(Co(a)&&!eg(a))return a;a=ac(a)}return r}let n=F2(t,e);for(;n&&M6(n)&&eg(n);)n=F2(n,e);return n&&pd(n)&&eg(n)&&!Zv(n)?r:n||$6(t)||r}const nP=async function(t){const e=this.getOffsetParent||Tw,r=this.getDimensions,n=await r(t.floating);return{reference:rP(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function aP(t){return Ao(t).direction==="rtl"}const sP={convertOffsetParentRelativeRectToViewportRelativeRect:G6,getDocumentElement:di,getClippingRect:eP,getOffsetParent:Tw,getElementRects:nP,getClientRects:K6,getDimensions:tP,getScale:td,isElement:Co,isRTL:aP};function Rw(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function oP(t,e){let r=null,n;const a=di(t);function i(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function c(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),i();const h=t.getBoundingClientRect(),{left:p,top:g,width:w,height:v}=h;if(u||e(),!w||!v)return;const S=Mf(g),x=Mf(a.clientWidth-(p+w)),_=Mf(a.clientHeight-(g+v)),C=Mf(p),T={rootMargin:-S+"px "+-x+"px "+-_+"px "+-C+"px",threshold:Cs(0,nc(1,d))||1};let R=!0;function H(J){const Q=J[0].intersectionRatio;if(Q!==d){if(!R)return c();Q?c(!1,Q):n=setTimeout(()=>{c(!1,1e-7)},1e3)}Q===1&&!Rw(h,t.getBoundingClientRect())&&c(),R=!1}try{r=new IntersectionObserver(H,{...T,root:a.ownerDocument})}catch{r=new IntersectionObserver(H,T)}r.observe(t)}return c(!0),i}function iP(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,h=t0(t),p=a||i?[...h?Eh(h):[],...Eh(e)]:[];p.forEach(C=>{a&&C.addEventListener("scroll",r,{passive:!0}),i&&C.addEventListener("resize",r)});const g=h&&u?oP(h,r):null;let w=-1,v=null;c&&(v=new ResizeObserver(C=>{let[L]=C;L&&L.target===h&&v&&(v.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var T;(T=v)==null||T.observe(e)})),r()}),h&&!d&&v.observe(h),v.observe(e));let S,x=d?Jc(t):null;d&&_();function _(){const C=Jc(t);x&&!Rw(x,C)&&r(),x=C,S=requestAnimationFrame(_)}return r(),()=>{var C;p.forEach(L=>{a&&L.removeEventListener("scroll",r),i&&L.removeEventListener("resize",r)}),g?.(),(C=v)==null||C.disconnect(),v=null,d&&cancelAnimationFrame(S)}}const lP=L6,cP=T6,uP=k6,dP=D6,hP=P6,M2=A6,fP=R6,pP=(t,e,r)=>{const n=new Map,a={platform:sP,...r},i={...a.platform,_c:n};return C6(t,e,{...a,platform:i})};var mP=typeof document<"u",gP=function(){},Zf=mP?k.useLayoutEffect:gP;function gp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!gp(t[n],e[n]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&t.$$typeof)&&!gp(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Dw(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function z2(t,e){const r=Dw(t);return Math.round(e*r)/r}function tg(t){const e=k.useRef(t);return Zf(()=>{e.current=t}),e}function vP(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:c}={},transform:u=!0,whileElementsMounted:d,open:h}=t,[p,g]=k.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[w,v]=k.useState(n);gp(w,n)||v(n);const[S,x]=k.useState(null),[_,C]=k.useState(null),L=k.useCallback(q=>{q!==J.current&&(J.current=q,x(q))},[]),T=k.useCallback(q=>{q!==Q.current&&(Q.current=q,C(q))},[]),R=i||S,H=c||_,J=k.useRef(null),Q=k.useRef(null),D=k.useRef(p),$=d!=null,G=tg(d),z=tg(a),F=tg(h),P=k.useCallback(()=>{if(!J.current||!Q.current)return;const q={placement:e,strategy:r,middleware:w};z.current&&(q.platform=z.current),pP(J.current,Q.current,q).then(me=>{const Ne={...me,isPositioned:F.current!==!1};M.current&&!gp(D.current,Ne)&&(D.current=Ne,Oh.flushSync(()=>{g(Ne)}))})},[w,e,r,z,F]);Zf(()=>{h===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,g(q=>({...q,isPositioned:!1})))},[h]);const M=k.useRef(!1);Zf(()=>(M.current=!0,()=>{M.current=!1}),[]),Zf(()=>{if(R&&(J.current=R),H&&(Q.current=H),R&&H){if(G.current)return G.current(R,H,P);P()}},[R,H,P,G,$]);const fe=k.useMemo(()=>({reference:J,floating:Q,setReference:L,setFloating:T}),[L,T]),ae=k.useMemo(()=>({reference:R,floating:H}),[R,H]),se=k.useMemo(()=>{const q={position:r,left:0,top:0};if(!ae.floating)return q;const me=z2(ae.floating,p.x),Ne=z2(ae.floating,p.y);return u?{...q,transform:"translate("+me+"px, "+Ne+"px)",...Dw(ae.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:me,top:Ne}},[r,u,ae.floating,p.x,p.y]);return k.useMemo(()=>({...p,update:P,refs:fe,elements:ae,floatingStyles:se}),[p,P,fe,ae,se])}const yP=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:a}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?M2({element:n.current,padding:a}).fn(r):{}:n?M2({element:n,padding:a}).fn(r):{}}}},bP=(t,e)=>({...lP(t),options:[t,e]}),xP=(t,e)=>({...cP(t),options:[t,e]}),wP=(t,e)=>({...fP(t),options:[t,e]}),_P=(t,e)=>({...uP(t),options:[t,e]}),NP=(t,e)=>({...dP(t),options:[t,e]}),jP=(t,e)=>({...hP(t),options:[t,e]}),SP=(t,e)=>({...yP(t),options:[t,e]});var EP="Arrow",Iw=k.forwardRef((t,e)=>{const{children:r,width:n=10,height:a=5,...i}=t;return s.jsx(wr.svg,{...i,ref:e,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});Iw.displayName=EP;var CP=Iw;function AP(t){const[e,r]=k.useState(void 0);return Oa(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let c,u;if("borderBoxSize"in i){const d=i.borderBoxSize,h=Array.isArray(d)?d[0]:d;c=h.inlineSize,u=h.blockSize}else c=t.offsetWidth,u=t.offsetHeight;r({width:c,height:u})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var r0="Popper",[Fw,Mw]=bd(r0),[kP,zw]=Fw(r0),Bw=t=>{const{__scopePopper:e,children:r}=t,[n,a]=k.useState(null);return s.jsx(kP,{scope:e,anchor:n,onAnchorChange:a,children:r})};Bw.displayName=r0;var Uw="PopperAnchor",qw=k.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...a}=t,i=zw(Uw,r),c=k.useRef(null),u=Cn(e,c),d=k.useRef(null);return k.useEffect(()=>{const h=d.current;d.current=n?.current||c.current,h!==d.current&&i.onAnchorChange(d.current)}),n?null:s.jsx(wr.div,{...a,ref:u})});qw.displayName=Uw;var n0="PopperContent",[PP,OP]=Fw(n0),$w=k.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:w=!1,updatePositionStrategy:v="optimized",onPlaced:S,...x}=t,_=zw(n0,r),[C,L]=k.useState(null),T=Cn(e,le=>L(le)),[R,H]=k.useState(null),J=AP(R),Q=J?.width??0,D=J?.height??0,$=n+(i!=="center"?"-"+i:""),G=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},z=Array.isArray(h)?h:[h],F=z.length>0,P={padding:G,boundary:z.filter(TP),altBoundary:F},{refs:M,floatingStyles:fe,placement:ae,isPositioned:se,middlewareData:q}=vP({strategy:"fixed",placement:$,whileElementsMounted:(...le)=>iP(...le,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[bP({mainAxis:a+D,alignmentAxis:c}),d&&xP({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?wP():void 0,...P}),d&&_P({...P}),NP({...P,apply:({elements:le,rects:xe,availableWidth:ye,availableHeight:ke})=>{const{width:De,height:He}=xe.reference,tt=le.floating.style;tt.setProperty("--radix-popper-available-width",`${ye}px`),tt.setProperty("--radix-popper-available-height",`${ke}px`),tt.setProperty("--radix-popper-anchor-width",`${De}px`),tt.setProperty("--radix-popper-anchor-height",`${He}px`)}}),R&&SP({element:R,padding:u}),RP({arrowWidth:Q,arrowHeight:D}),w&&jP({strategy:"referenceHidden",...P})]}),[me,Ne]=Hw(ae),te=rc(S);Oa(()=>{se&&te?.()},[se,te]);const I=q.arrow?.x,Y=q.arrow?.y,Z=q.arrow?.centerOffset!==0,[ue,ge]=k.useState();return Oa(()=>{C&&ge(window.getComputedStyle(C).zIndex)},[C]),s.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...fe,transform:se?fe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[q.transformOrigin?.x,q.transformOrigin?.y].join(" "),...q.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:s.jsx(PP,{scope:r,placedSide:me,onArrowChange:H,arrowX:I,arrowY:Y,shouldHideArrow:Z,children:s.jsx(wr.div,{"data-side":me,"data-align":Ne,...x,ref:T,style:{...x.style,animation:se?void 0:"none"}})})})});$w.displayName=n0;var Vw="PopperArrow",LP={top:"bottom",right:"left",bottom:"top",left:"right"},Ww=k.forwardRef(function(e,r){const{__scopePopper:n,...a}=e,i=OP(Vw,n),c=LP[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(CP,{...a,ref:r,style:{...a.style,display:"block"}})})});Ww.displayName=Vw;function TP(t){return t!==null}var RP=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:a}=e,c=a.arrow?.centerOffset!==0,u=c?0:t.arrowWidth,d=c?0:t.arrowHeight,[h,p]=Hw(r),g={start:"0%",center:"50%",end:"100%"}[p],w=(a.arrow?.x??0)+u/2,v=(a.arrow?.y??0)+d/2;let S="",x="";return h==="bottom"?(S=c?g:`${w}px`,x=`${-d}px`):h==="top"?(S=c?g:`${w}px`,x=`${n.floating.height+d}px`):h==="right"?(S=`${-d}px`,x=c?g:`${v}px`):h==="left"&&(S=`${n.floating.width+d}px`,x=c?g:`${v}px`),{data:{x:S,y:x}}}});function Hw(t){const[e,r="center"]=t.split("-");return[e,r]}var DP=Bw,IP=qw,FP=$w,MP=Ww;function zP(t){const e=k.useRef({value:t,previous:t});return k.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Gw=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),BP="VisuallyHidden",UP=k.forwardRef((t,e)=>s.jsx(wr.span,{...t,ref:e,style:{...Gw,...t.style}}));UP.displayName=BP;var qP=[" ","Enter","ArrowUp","ArrowDown"],$P=[" ","Enter"],Xc="Select",[Ip,Fp,VP]=jw(Xc),[jd]=bd(Xc,[VP,Mw]),Mp=Mw(),[WP,lc]=jd(Xc),[HP,GP]=jd(Xc),Kw=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:a,onOpenChange:i,value:c,defaultValue:u,onValueChange:d,dir:h,name:p,autoComplete:g,disabled:w,required:v,form:S}=t,x=Mp(e),[_,C]=k.useState(null),[L,T]=k.useState(null),[R,H]=k.useState(!1),J=Yv(h),[Q,D]=jh({prop:n,defaultProp:a??!1,onChange:i,caller:Xc}),[$,G]=jh({prop:c,defaultProp:u,onChange:d,caller:Xc}),z=k.useRef(null),F=_?S||!!_.closest("form"):!0,[P,M]=k.useState(new Set),fe=Array.from(P).map(ae=>ae.props.value).join(";");return s.jsx(DP,{...x,children:s.jsxs(WP,{required:v,scope:e,trigger:_,onTriggerChange:C,valueNode:L,onValueNodeChange:T,valueNodeHasChildren:R,onValueNodeHasChildrenChange:H,contentId:Zl(),value:$,onValueChange:G,open:Q,onOpenChange:D,dir:J,triggerPointerDownPosRef:z,disabled:w,children:[s.jsx(Ip.Provider,{scope:e,children:s.jsx(HP,{scope:t.__scopeSelect,onNativeOptionAdd:k.useCallback(ae=>{M(se=>new Set(se).add(ae))},[]),onNativeOptionRemove:k.useCallback(ae=>{M(se=>{const q=new Set(se);return q.delete(ae),q})},[]),children:r})}),F?s.jsxs(g5,{"aria-hidden":!0,required:v,tabIndex:-1,name:p,autoComplete:g,value:$,onChange:ae=>G(ae.target.value),disabled:w,form:S,children:[$===void 0?s.jsx("option",{value:""}):null,Array.from(P)]},fe):null]})})};Kw.displayName=Xc;var Yw="SelectTrigger",Jw=k.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...a}=t,i=Mp(r),c=lc(Yw,r),u=c.disabled||n,d=Cn(e,c.onTriggerChange),h=Fp(r),p=k.useRef("touch"),[g,w,v]=y5(x=>{const _=h().filter(T=>!T.disabled),C=_.find(T=>T.value===c.value),L=b5(_,x,C);L!==void 0&&c.onValueChange(L.value)}),S=x=>{u||(c.onOpenChange(!0),v()),x&&(c.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return s.jsx(IP,{asChild:!0,...i,children:s.jsx(wr.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":v5(c.value)?"":void 0,...a,ref:d,onClick:mr(a.onClick,x=>{x.currentTarget.focus(),p.current!=="mouse"&&S(x)}),onPointerDown:mr(a.onPointerDown,x=>{p.current=x.pointerType;const _=x.target;_.hasPointerCapture(x.pointerId)&&_.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(S(x),x.preventDefault())}),onKeyDown:mr(a.onKeyDown,x=>{const _=g.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&w(x.key),!(_&&x.key===" ")&&qP.includes(x.key)&&(S(),x.preventDefault())})})})});Jw.displayName=Yw;var Xw="SelectValue",Qw=k.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:c="",...u}=t,d=lc(Xw,r),{onValueNodeHasChildrenChange:h}=d,p=i!==void 0,g=Cn(e,d.onValueNodeChange);return Oa(()=>{h(p)},[h,p]),s.jsx(wr.span,{...u,ref:g,style:{pointerEvents:"none"},children:v5(d.value)?s.jsx(s.Fragment,{children:c}):i})});Qw.displayName=Xw;var KP="SelectIcon",Zw=k.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...a}=t;return s.jsx(wr.span,{"aria-hidden":!0,...a,ref:e,children:n||""})});Zw.displayName=KP;var YP="SelectPortal",e5=t=>s.jsx($v,{asChild:!0,...t});e5.displayName=YP;var Qc="SelectContent",t5=k.forwardRef((t,e)=>{const r=lc(Qc,t.__scopeSelect),[n,a]=k.useState();if(Oa(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Oh.createPortal(s.jsx(r5,{scope:t.__scopeSelect,children:s.jsx(Ip.Slot,{scope:t.__scopeSelect,children:s.jsx("div",{children:t.children})})}),i):null}return s.jsx(n5,{...t,ref:e})});t5.displayName=Qc;var _o=10,[r5,cc]=jd(Qc),JP="SelectContentImpl",XP=fd("SelectContent.RemoveScroll"),n5=k.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:c,side:u,sideOffset:d,align:h,alignOffset:p,arrowPadding:g,collisionBoundary:w,collisionPadding:v,sticky:S,hideWhenDetached:x,avoidCollisions:_,...C}=t,L=lc(Qc,r),[T,R]=k.useState(null),[H,J]=k.useState(null),Q=Cn(e,le=>R(le)),[D,$]=k.useState(null),[G,z]=k.useState(null),F=Fp(r),[P,M]=k.useState(!1),fe=k.useRef(!1);k.useEffect(()=>{if(T)return Gx(T)},[T]),zx();const ae=k.useCallback(le=>{const[xe,...ye]=F().map(He=>He.ref.current),[ke]=ye.slice(-1),De=document.activeElement;for(const He of le)if(He===De||(He?.scrollIntoView({block:"nearest"}),He===xe&&H&&(H.scrollTop=0),He===ke&&H&&(H.scrollTop=H.scrollHeight),He?.focus(),document.activeElement!==De))return},[F,H]),se=k.useCallback(()=>ae([D,T]),[ae,D,T]);k.useEffect(()=>{P&&se()},[P,se]);const{onOpenChange:q,triggerPointerDownPosRef:me}=L;k.useEffect(()=>{if(T){let le={x:0,y:0};const xe=ke=>{le={x:Math.abs(Math.round(ke.pageX)-(me.current?.x??0)),y:Math.abs(Math.round(ke.pageY)-(me.current?.y??0))}},ye=ke=>{le.x<=10&&le.y<=10?ke.preventDefault():T.contains(ke.target)||q(!1),document.removeEventListener("pointermove",xe),me.current=null};return me.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",ye,{capture:!0})}}},[T,q,me]),k.useEffect(()=>{const le=()=>q(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[q]);const[Ne,te]=y5(le=>{const xe=F().filter(De=>!De.disabled),ye=xe.find(De=>De.ref.current===document.activeElement),ke=b5(xe,le,ye);ke&&setTimeout(()=>ke.ref.current.focus())}),I=k.useCallback((le,xe,ye)=>{const ke=!fe.current&&!ye;(L.value!==void 0&&L.value===xe||ke)&&($(le),ke&&(fe.current=!0))},[L.value]),Y=k.useCallback(()=>T?.focus(),[T]),Z=k.useCallback((le,xe,ye)=>{const ke=!fe.current&&!ye;(L.value!==void 0&&L.value===xe||ke)&&z(le)},[L.value]),ue=n==="popper"?Zg:a5,ge=ue===Zg?{side:u,sideOffset:d,align:h,alignOffset:p,arrowPadding:g,collisionBoundary:w,collisionPadding:v,sticky:S,hideWhenDetached:x,avoidCollisions:_}:{};return s.jsx(r5,{scope:r,content:T,viewport:H,onViewportChange:J,itemRefCallback:I,selectedItem:D,onItemLeave:Y,itemTextRefCallback:Z,focusSelectedItem:se,selectedItemText:G,position:n,isPositioned:P,searchRef:Ne,children:s.jsx(Vv,{as:XP,allowPinchZoom:!0,children:s.jsx(qv,{asChild:!0,trapped:L.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:mr(a,le=>{L.trigger?.focus({preventScroll:!0}),le.preventDefault()}),children:s.jsx(Uv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>L.onOpenChange(!1),children:s.jsx(ue,{role:"listbox",id:L.contentId,"data-state":L.open?"open":"closed",dir:L.dir,onContextMenu:le=>le.preventDefault(),...C,...ge,onPlaced:()=>M(!0),ref:Q,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:mr(C.onKeyDown,le=>{const xe=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!xe&&le.key.length===1&&te(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let ke=F().filter(De=>!De.disabled).map(De=>De.ref.current);if(["ArrowUp","End"].includes(le.key)&&(ke=ke.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const De=le.target,He=ke.indexOf(De);ke=ke.slice(He+1)}setTimeout(()=>ae(ke)),le.preventDefault()}})})})})})})});n5.displayName=JP;var QP="SelectItemAlignedPosition",a5=k.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...a}=t,i=lc(Qc,r),c=cc(Qc,r),[u,d]=k.useState(null),[h,p]=k.useState(null),g=Cn(e,Q=>p(Q)),w=Fp(r),v=k.useRef(!1),S=k.useRef(!0),{viewport:x,selectedItem:_,selectedItemText:C,focusSelectedItem:L}=c,T=k.useCallback(()=>{if(i.trigger&&i.valueNode&&u&&h&&x&&_&&C){const Q=i.trigger.getBoundingClientRect(),D=h.getBoundingClientRect(),$=i.valueNode.getBoundingClientRect(),G=C.getBoundingClientRect();if(i.dir!=="rtl"){const De=G.left-D.left,He=$.left-De,tt=Q.left-He,Fe=Q.width+tt,de=Math.max(Fe,D.width),zt=window.innerWidth-_o,wt=A2(He,[_o,Math.max(_o,zt-de)]);u.style.minWidth=Fe+"px",u.style.left=wt+"px"}else{const De=D.right-G.right,He=window.innerWidth-$.right-De,tt=window.innerWidth-Q.right-He,Fe=Q.width+tt,de=Math.max(Fe,D.width),zt=window.innerWidth-_o,wt=A2(He,[_o,Math.max(_o,zt-de)]);u.style.minWidth=Fe+"px",u.style.right=wt+"px"}const z=w(),F=window.innerHeight-_o*2,P=x.scrollHeight,M=window.getComputedStyle(h),fe=parseInt(M.borderTopWidth,10),ae=parseInt(M.paddingTop,10),se=parseInt(M.borderBottomWidth,10),q=parseInt(M.paddingBottom,10),me=fe+ae+P+q+se,Ne=Math.min(_.offsetHeight*5,me),te=window.getComputedStyle(x),I=parseInt(te.paddingTop,10),Y=parseInt(te.paddingBottom,10),Z=Q.top+Q.height/2-_o,ue=F-Z,ge=_.offsetHeight/2,le=_.offsetTop+ge,xe=fe+ae+le,ye=me-xe;if(xe<=Z){const De=z.length>0&&_===z[z.length-1].ref.current;u.style.bottom="0px";const He=h.clientHeight-x.offsetTop-x.offsetHeight,tt=Math.max(ue,ge+(De?Y:0)+He+se),Fe=xe+tt;u.style.height=Fe+"px"}else{const De=z.length>0&&_===z[0].ref.current;u.style.top="0px";const tt=Math.max(Z,fe+x.offsetTop+(De?I:0)+ge)+ye;u.style.height=tt+"px",x.scrollTop=xe-Z+x.offsetTop}u.style.margin=`${_o}px 0`,u.style.minHeight=Ne+"px",u.style.maxHeight=F+"px",n?.(),requestAnimationFrame(()=>v.current=!0)}},[w,i.trigger,i.valueNode,u,h,x,_,C,i.dir,n]);Oa(()=>T(),[T]);const[R,H]=k.useState();Oa(()=>{h&&H(window.getComputedStyle(h).zIndex)},[h]);const J=k.useCallback(Q=>{Q&&S.current===!0&&(T(),L?.(),S.current=!1)},[T,L]);return s.jsx(e8,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:v,onScrollButtonChange:J,children:s.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:s.jsx(wr.div,{...a,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});a5.displayName=QP;var ZP="SelectPopperPosition",Zg=k.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=_o,...i}=t,c=Mp(r);return s.jsx(FP,{...c,...i,ref:e,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Zg.displayName=ZP;var[e8,a0]=jd(Qc,{}),ev="SelectViewport",s5=k.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...a}=t,i=cc(ev,r),c=a0(ev,r),u=Cn(e,i.onViewportChange),d=k.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Ip.Slot,{scope:r,children:s.jsx(wr.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:mr(a.onScroll,h=>{const p=h.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:w}=c;if(w?.current&&g){const v=Math.abs(d.current-p.scrollTop);if(v>0){const S=window.innerHeight-_o*2,x=parseFloat(g.style.minHeight),_=parseFloat(g.style.height),C=Math.max(x,_);if(C<S){const L=C+v,T=Math.min(S,L),R=L-T;g.style.height=T+"px",g.style.bottom==="0px"&&(p.scrollTop=R>0?R:0,g.style.justifyContent="flex-end")}}}d.current=p.scrollTop})})})]})});s5.displayName=ev;var o5="SelectGroup",[t8,r8]=jd(o5),n8=k.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=Zl();return s.jsx(t8,{scope:r,id:a,children:s.jsx(wr.div,{role:"group","aria-labelledby":a,...n,ref:e})})});n8.displayName=o5;var i5="SelectLabel",a8=k.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=r8(i5,r);return s.jsx(wr.div,{id:a.id,...n,ref:e})});a8.displayName=i5;var vp="SelectItem",[s8,l5]=jd(vp),c5=k.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...c}=t,u=lc(vp,r),d=cc(vp,r),h=u.value===n,[p,g]=k.useState(i??""),[w,v]=k.useState(!1),S=Cn(e,L=>d.itemRefCallback?.(L,n,a)),x=Zl(),_=k.useRef("touch"),C=()=>{a||(u.onValueChange(n),u.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(s8,{scope:r,value:n,disabled:a,textId:x,isSelected:h,onItemTextChange:k.useCallback(L=>{g(T=>T||(L?.textContent??"").trim())},[]),children:s.jsx(Ip.ItemSlot,{scope:r,value:n,disabled:a,textValue:p,children:s.jsx(wr.div,{role:"option","aria-labelledby":x,"data-highlighted":w?"":void 0,"aria-selected":h&&w,"data-state":h?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...c,ref:S,onFocus:mr(c.onFocus,()=>v(!0)),onBlur:mr(c.onBlur,()=>v(!1)),onClick:mr(c.onClick,()=>{_.current!=="mouse"&&C()}),onPointerUp:mr(c.onPointerUp,()=>{_.current==="mouse"&&C()}),onPointerDown:mr(c.onPointerDown,L=>{_.current=L.pointerType}),onPointerMove:mr(c.onPointerMove,L=>{_.current=L.pointerType,a?d.onItemLeave?.():_.current==="mouse"&&L.currentTarget.focus({preventScroll:!0})}),onPointerLeave:mr(c.onPointerLeave,L=>{L.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:mr(c.onKeyDown,L=>{d.searchRef?.current!==""&&L.key===" "||($P.includes(L.key)&&C(),L.key===" "&&L.preventDefault())})})})})});c5.displayName=vp;var sh="SelectItemText",u5=k.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,...i}=t,c=lc(sh,r),u=cc(sh,r),d=l5(sh,r),h=GP(sh,r),[p,g]=k.useState(null),w=Cn(e,C=>g(C),d.onItemTextChange,C=>u.itemTextRefCallback?.(C,d.value,d.disabled)),v=p?.textContent,S=k.useMemo(()=>s.jsx("option",{value:d.value,disabled:d.disabled,children:v},d.value),[d.disabled,d.value,v]),{onNativeOptionAdd:x,onNativeOptionRemove:_}=h;return Oa(()=>(x(S),()=>_(S)),[x,_,S]),s.jsxs(s.Fragment,{children:[s.jsx(wr.span,{id:d.textId,...i,ref:w}),d.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Oh.createPortal(i.children,c.valueNode):null]})});u5.displayName=sh;var d5="SelectItemIndicator",h5=k.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return l5(d5,r).isSelected?s.jsx(wr.span,{"aria-hidden":!0,...n,ref:e}):null});h5.displayName=d5;var tv="SelectScrollUpButton",f5=k.forwardRef((t,e)=>{const r=cc(tv,t.__scopeSelect),n=a0(tv,t.__scopeSelect),[a,i]=k.useState(!1),c=Cn(e,n.onScrollButtonChange);return Oa(()=>{if(r.viewport&&r.isPositioned){let u=function(){const h=d.scrollTop>0;i(h)};const d=r.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),a?s.jsx(m5,{...t,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=r;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});f5.displayName=tv;var rv="SelectScrollDownButton",p5=k.forwardRef((t,e)=>{const r=cc(rv,t.__scopeSelect),n=a0(rv,t.__scopeSelect),[a,i]=k.useState(!1),c=Cn(e,n.onScrollButtonChange);return Oa(()=>{if(r.viewport&&r.isPositioned){let u=function(){const h=d.scrollHeight-d.clientHeight,p=Math.ceil(d.scrollTop)<h;i(p)};const d=r.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),a?s.jsx(m5,{...t,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=r;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});p5.displayName=rv;var m5=k.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=t,i=cc("SelectScrollButton",r),c=k.useRef(null),u=Fp(r),d=k.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return k.useEffect(()=>()=>d(),[d]),Oa(()=>{u().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[u]),s.jsx(wr.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:mr(a.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(n,50))}),onPointerMove:mr(a.onPointerMove,()=>{i.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(n,50))}),onPointerLeave:mr(a.onPointerLeave,()=>{d()})})}),o8="SelectSeparator",i8=k.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return s.jsx(wr.div,{"aria-hidden":!0,...n,ref:e})});i8.displayName=o8;var nv="SelectArrow",l8=k.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=Mp(r),i=lc(nv,r),c=cc(nv,r);return i.open&&c.position==="popper"?s.jsx(MP,{...a,...n,ref:e}):null});l8.displayName=nv;var c8="SelectBubbleInput",g5=k.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const a=k.useRef(null),i=Cn(n,a),c=zP(e);return k.useEffect(()=>{const u=a.current;if(!u)return;const d=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(d,"value").set;if(c!==e&&p){const g=new Event("change",{bubbles:!0});p.call(u,e),u.dispatchEvent(g)}},[c,e]),s.jsx(wr.select,{...r,style:{...Gw,...r.style},ref:i,defaultValue:e})});g5.displayName=c8;function v5(t){return t===""||t===void 0}function y5(t){const e=rc(t),r=k.useRef(""),n=k.useRef(0),a=k.useCallback(c=>{const u=r.current+c;e(u),(function d(h){r.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>d(""),1e3))})(u)},[e]),i=k.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return k.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function b5(t,e,r){const a=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let c=u8(t,Math.max(i,0));a.length===1&&(c=c.filter(h=>h!==r));const d=c.find(h=>h.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function u8(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var d8=Kw,h8=Jw,f8=Qw,p8=Zw,m8=e5,g8=t5,v8=s5,y8=c5,b8=u5,x8=h5,w8=f5,_8=p5;function rd({...t}){return s.jsx(d8,{"data-slot":"select",...t})}function nd({...t}){return s.jsx(f8,{"data-slot":"select-value",...t})}function ad({className:t,size:e="default",children:r,...n}){return s.jsxs(h8,{"data-slot":"select-trigger","data-size":e,className:An("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[r,s.jsx(p8,{asChild:!0,children:s.jsx(Mv,{className:"size-4 opacity-50"})})]})}function sd({className:t,children:e,position:r="popper",...n}){return s.jsx(m8,{children:s.jsxs(g8,{"data-slot":"select-content",className:An("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[s.jsx(N8,{}),s.jsx(v8,{className:An("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),s.jsx(j8,{})]})})}function ni({className:t,children:e,...r}){return s.jsxs(y8,{"data-slot":"select-item",className:An("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[s.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:s.jsx(x8,{children:s.jsx(xE,{className:"size-4"})})}),s.jsx(b8,{children:e})]})}function N8({className:t,...e}){return s.jsx(w8,{"data-slot":"select-scroll-up-button",className:An("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(CE,{className:"size-4"})})}function j8({className:t,...e}){return s.jsx(_8,{"data-slot":"select-scroll-down-button",className:An("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(Mv,{className:"size-4"})})}const S8=({nome:t,cargo:e,categoria:r,avatar_url:n,canEdit:a,canDelete:i,onEdit:c,onDelete:u,badgeLabel:d,salario:h,totalVales:p,totalSaidas:g,dataPagamentoCLT:w})=>{const v=x=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(x),S=x=>x?new Date(x).toLocaleDateString("pt-BR",{day:"2-digit",month:"short"}):"Nunca";return s.jsxs("div",{className:"func-card-modern",children:[s.jsxs("div",{className:"func-card-header",children:[s.jsx("div",{className:"func-avatar-container",children:n?s.jsx("img",{src:n,alt:t,className:"func-avatar"}):s.jsx("div",{className:"func-avatar-fallback",children:t.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"func-info-main",children:[s.jsx("h3",{className:"func-name",children:t}),r!=="dono"&&e&&s.jsx("p",{className:"func-cargo",children:e})]}),s.jsxs("div",{className:"func-actions-top",children:[a&&s.jsx("button",{className:"func-action-btn func-edit-btn",onClick:c,title:"Editar",type:"button",children:s.jsx(tc,{size:16})}),i&&s.jsx("button",{className:"func-action-btn func-delete-btn",onClick:u,title:"Excluir",type:"button",children:s.jsx(zn,{size:16})})]})]}),s.jsx("div",{className:"func-badge-container",children:s.jsx("span",{className:`func-badge func-badge-${r}`,children:d})}),s.jsxs("div",{className:"func-financial-info",children:[r==="clt"&&h&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"func-info-row",children:[s.jsxs("div",{className:"func-info-item",children:[s.jsx(sr,{className:"func-info-icon",size:16}),s.jsx("span",{className:"func-info-label",children:"Salrio Mensal"})]}),s.jsx("span",{className:"func-info-value primary",children:v(h)})]}),w&&s.jsxs("div",{className:"func-info-row subtle",children:[s.jsxs("div",{className:"func-info-item",children:[s.jsx(ka,{className:"func-info-icon",size:14}),s.jsx("span",{className:"func-info-label-small",children:"ltimo pagamento"})]}),s.jsx("span",{className:"func-info-value-small",children:S(w)})]})]}),r==="contrato"&&h&&s.jsxs("div",{className:"func-info-row",children:[s.jsxs("div",{className:"func-info-item",children:[s.jsx(sr,{className:"func-info-icon",size:16}),s.jsx("span",{className:"func-info-label",children:"Valor Diria"})]}),s.jsx("span",{className:"func-info-value primary",children:v(h)})]}),r==="dono"&&s.jsxs("div",{className:"func-info-row",children:[s.jsxs("div",{className:"func-info-item",children:[s.jsx(ha,{className:"func-info-icon",size:16}),s.jsx("span",{className:"func-info-label",children:"Total Retiradas"})]}),s.jsx("span",{className:"func-info-value warning",children:v(g||0)})]}),r!=="dono"&&p!==void 0&&p>0&&s.jsxs("div",{className:"func-info-row subtle",children:[s.jsxs("div",{className:"func-info-item",children:[s.jsx(sr,{className:"func-info-icon",size:14}),s.jsx("span",{className:"func-info-label-small",children:"Total em Vales"})]}),s.jsx("span",{className:"func-info-value-small danger",children:v(p)})]})]})]})};function E8({funcionarios:t,canCreate:e,loadFuncionarios:r}){const[n,a]=k.useState([]),[i,c]=k.useState([]),[u,d]=k.useState(!0),[h,p]=k.useState(!1),[g,w]=k.useState({id_funcionario:"",id_obra:"",data:new Date().toISOString().split("T")[0],valor:"",observacao:""}),v=async()=>{d(!0);const{data:T,error:R}=await Pe.from("diarias").select("*, funcionarios(nome), obras(nome)").order("data",{ascending:!1});R?(console.error("Erro ao carregar dirias:",R),pe.error("Erro ao carregar dirias")):a(T||[]),d(!1)},S=async()=>{const{data:T,error:R}=await Pe.from("obras").select("id, nome").eq("finalizada",!1).order("nome");R?console.error("Erro ao carregar obras:",R):c(T||[])};k.useEffect(()=>{v(),S()},[]);const x=async T=>{if(T.preventDefault(),!g.id_funcionario||!g.id_obra||!g.valor){pe.error("Preencha todos os campos obrigatrios");return}const{error:R}=await Pe.from("diarias").insert({id_funcionario:g.id_funcionario,id_obra:g.id_obra,data:g.data,valor:parseFloat(g.valor),observacao:g.observacao||null,pago:!1});R?(console.error("Erro ao registrar diria:",R),pe.error("Erro ao registrar diria")):(pe.success("Diria registrada com sucesso!"),p(!1),w({id_funcionario:"",id_obra:"",data:new Date().toISOString().split("T")[0],valor:"",observacao:""}),v())},_=async T=>{const R=n.filter(Q=>Q.id_funcionario===T&&!Q.pago);if(R.length===0){pe.error("No h dirias pendentes para este funcionrio");return}const H=R.reduce((Q,D)=>Q+D.valor,0),J=t.find(Q=>Q.id===T);if(!J){pe.error("Funcionrio no encontrado");return}if(window.confirm(`Pagar ${R.length} diria(s) totalizando ${ft(H)} para ${J.nome}?`))try{const{error:Q}=await Pe.from("transacoes").insert({tipo:"saida",valor:H,origem:`Pagamento de Dirias - ${J.nome}`,data:new Date().toISOString().split("T")[0],categoria:"Dirias",observacao:`${R.length} diria(s)`});if(Q)throw Q;const D=R.reduce((G,z)=>(G[z.id_obra]||(G[z.id_obra]=[]),G[z.id_obra].push(z),G),{});for(const[G,z]of Object.entries(D)){const F=z.reduce((fe,ae)=>fe+ae.valor,0),P=z.length,{error:M}=await Pe.from("gastos_obra").insert({obra_id:G,categoria:"Funcionrio",descricao:`Dirias de ${J.nome} (${P} dia${P>1?"s":""})`,valor:F,data:new Date().toISOString().split("T")[0]});if(M)throw console.error("Erro ao lanar gasto na obra:",M),M}const{error:$}=await Pe.from("diarias").update({pago:!0,data_pagamento:new Date().toISOString().split("T")[0]}).in("id",R.map(G=>G.id));if($)throw $;pe.success(`Pagamento de ${ft(H)} efetuado com sucesso!`),v()}catch(Q){console.error("Erro ao efetuar pagamento:",Q),pe.error("Erro ao efetuar pagamento")}},C=async T=>{if(!window.confirm("Deseja realmente excluir esta diria?"))return;const{error:R}=await Pe.from("diarias").delete().eq("id",T);R?(console.error("Erro ao excluir diria:",R),pe.error("Erro ao excluir diria")):(pe.success("Diria excluda"),v())},L=t.filter(T=>T.categoria==="contrato").map(T=>{const R=n.filter(D=>D.id_funcionario===T.id),H=R.filter(D=>!D.pago),J=H.reduce((D,$)=>D+$.valor,0),Q=H.length;return{funcionario:T,diarias:R,naoPagas:H,totalPendente:J,diasPendentes:Q}});return u?s.jsx("div",{className:"diarias-loading",children:"Carregando dirias..."}):s.jsxs("div",{className:"diarias-container",children:[e&&s.jsx("div",{className:"diarias-header",children:s.jsxs("button",{className:"funcionarios-btn funcionarios-btn-primary",onClick:()=>p(!0),children:[s.jsx(vn,{size:18}),"Registrar Diria"]})}),s.jsxs("div",{className:"diarias-list",children:[L.map(({funcionario:T,diarias:R,naoPagas:H,totalPendente:J,diasPendentes:Q})=>s.jsxs("div",{className:"diaria-funcionario-card",children:[s.jsxs("div",{className:"diaria-funcionario-header",children:[s.jsx("div",{className:"diaria-funcionario-header-top",children:s.jsxs("div",{className:"diaria-funcionario-info",children:[s.jsx("h3",{children:T.nome}),s.jsx("span",{className:"diaria-funcionario-cargo",children:T.cargo})]})}),s.jsxs("div",{className:"diaria-funcionario-header-bottom",children:[s.jsxs("div",{className:"diaria-funcionario-stats",children:[s.jsxs("div",{className:"diaria-stat",children:[s.jsx("span",{className:"diaria-stat-label",children:"Dias Pendentes"}),s.jsx("span",{className:"diaria-stat-value",children:Q})]}),s.jsxs("div",{className:"diaria-stat",children:[s.jsx("span",{className:"diaria-stat-label",children:"Total Pendente"}),s.jsx("span",{className:"diaria-stat-value total",children:ft(J)})]})]}),e&&Q>0&&s.jsxs("button",{className:"diaria-btn-pagar",onClick:()=>_(T.id),children:[s.jsx(sr,{size:20}),"Efetuar Pagamento"]})]})]}),R.length>0?s.jsx("div",{className:"diaria-list-items",children:R.map(D=>s.jsxs("div",{className:`diaria-item ${D.pago?"pago":"pendente"}`,children:[s.jsxs("div",{className:"diaria-item-date",children:[s.jsx(ka,{size:16}),new Date(D.data).toLocaleDateString("pt-BR")]}),s.jsx("div",{className:"diaria-item-obra",children:D.obras.nome}),s.jsx("div",{className:"diaria-item-valor",children:ft(D.valor)}),s.jsx("div",{className:"diaria-item-status",children:D.pago?s.jsx("span",{className:"badge-pago",children:" Pago"}):s.jsx("span",{className:"badge-pendente",children:" Pendente"})}),D.observacao&&s.jsx("div",{className:"diaria-item-obs",children:D.observacao}),e&&!D.pago&&s.jsxs("button",{className:"diaria-item-delete",onClick:()=>C(D.id),title:"Excluir diria",children:[s.jsx(zn,{size:14}),"Excluir"]})]},D.id))}):s.jsx("div",{className:"diaria-empty",children:"Nenhuma diria registrada"})]},T.id)),L.length===0&&s.jsxs("div",{className:"diarias-empty-state",children:[s.jsx(ka,{size:48}),s.jsx("h3",{children:"Nenhum funcionrio de diria cadastrado"}),s.jsx("p",{children:'Cadastre funcionrios com categoria "Contrato (Diria)" para comear'})]})]}),s.jsx(gn,{open:h,onOpenChange:p,children:s.jsxs(nn,{"aria-describedby":"dialog-description-diaria",className:"funcionario-dialog-content",children:[s.jsxs("div",{className:"funcionario-dialog-header",children:[s.jsxs("h2",{className:"funcionario-dialog-title",children:[s.jsx(ka,{className:"funcionario-dialog-title-icon"}),"Registrar Diria"]}),s.jsx("p",{className:"funcionario-dialog-description",id:"dialog-description-diaria",children:"Registre o dia trabalhado do funcionrio"})]}),s.jsx("div",{className:"funcionario-dialog-body",children:s.jsxs("form",{onSubmit:x,className:"funcionario-dialog-form",children:[s.jsxs("div",{className:"funcionario-dialog-field",children:[s.jsx(Rn,{className:"funcionario-dialog-label",children:"Funcionrio"}),s.jsxs(rd,{value:g.id_funcionario,onValueChange:T=>w({...g,id_funcionario:T}),children:[s.jsx(ad,{className:"funcionario-select-trigger",children:s.jsx(nd,{placeholder:"Selecione o funcionrio"})}),s.jsx(sd,{className:"funcionario-select-content",children:t.filter(T=>T.categoria==="contrato").map(T=>s.jsx(ni,{value:T.id,className:"funcionario-select-item",children:T.nome},T.id))})]})]}),s.jsxs("div",{className:"funcionario-dialog-field",children:[s.jsx(Rn,{className:"funcionario-dialog-label",children:"Obra"}),s.jsxs(rd,{value:g.id_obra,onValueChange:T=>w({...g,id_obra:T}),children:[s.jsx(ad,{className:"funcionario-select-trigger",children:s.jsx(nd,{placeholder:"Selecione a obra"})}),s.jsx(sd,{className:"funcionario-select-content",children:i.map(T=>s.jsx(ni,{value:T.id,className:"funcionario-select-item",children:T.nome},T.id))})]})]}),s.jsxs("div",{className:"funcionario-dialog-field",children:[s.jsx(Rn,{className:"funcionario-dialog-label",children:"Data"}),s.jsx(lr,{type:"date",className:"funcionario-dialog-input",value:g.data,onChange:T=>w({...g,data:T.target.value}),required:!0})]}),s.jsxs("div",{className:"funcionario-dialog-field",children:[s.jsx(Rn,{className:"funcionario-dialog-label",children:"Valor"}),s.jsx(lr,{type:"number",step:"0.01",className:"funcionario-dialog-input",value:g.valor,onChange:T=>w({...g,valor:T.target.value}),placeholder:"R$ 0,00",required:!0})]}),s.jsxs("div",{className:"funcionario-dialog-field",children:[s.jsx(Rn,{className:"funcionario-dialog-label",children:"Observao"}),s.jsx(lr,{className:"funcionario-dialog-input",value:g.observacao,onChange:T=>w({...g,observacao:T.target.value}),placeholder:"Observaes (opcional)"})]}),s.jsxs("button",{type:"submit",className:"funcionario-dialog-submit",children:[s.jsx(ka,{className:"funcionario-dialog-submit-icon"}),"Registrar Diria"]})]})})]})})]})}function C8(){const[t,e]=k.useState("funcionarios"),[r,n]=k.useState({data:new Date().toISOString().split("T")[0]}),a=async we=>{if(we.preventDefault(),!C||!le)return;const Je=L.find(rt=>rt.id===le);if(!Je){pe.error("Funcionrio no encontrado.");return}const V=r.data,be=Je.salario_mensal||0,oe=`Pagamento CLT - ${Je.nome}`,Be="Salrio CLT",{error:ct}=await Pe.from("transacoes").insert({tipo:"saida",valor:be,origem:oe,data:V,categoria:Be,observacao:""});if(ct){pe.error('Erro ao registrar no Caixa! Verifique se a categoria "Salrio CLT" existe.'),console.error("Erro Caixa CLT:",ct);return}const{error:ot}=await Pe.from("funcionarios").update({dataPagamentoCLT:V}).eq("id",Je.id);ot?(pe.error("Erro ao atualizar data de pagamento do funcionrio."),console.error("Erro Func CLT:",ot)):pe.success("Pagamento CLT registrado com sucesso!"),ye(),xe(null),n({data:new Date().toISOString().split("T")[0]})},[i,c]=k.useState(!1),[u,d]=k.useState({valor:"",data:new Date().toISOString().split("T")[0]}),[h,p]=k.useState(null),[g,w]=k.useState(!1),[v,S]=k.useState({valor:"",data:new Date().toISOString().split("T")[0],observacao:""}),{canEdit:x,canDelete:_,canCreate:C}=ui(),[L,T]=k.useState([]),[R,H]=k.useState(!1),[J,Q]=k.useState(!1),[D,$]=k.useState(!1),[G,z]=k.useState(null),[F,P]=k.useState(null),[M,fe]=k.useState(null),[ae,se]=k.useState({nome:"",categoria:"clt",cargo:"",salario_mensal:"",valor_diaria:"",avatar_url:""}),q=async we=>{if(we.preventDefault(),!C||!F)return;const Je=parseFloat(v.valor);if(isNaN(Je)||Je<=0){pe.error("Por favor, insira um valor vlido.");return}const V=L.find(Be=>Be.id===F);if(!V){pe.error("Funcionrio no encontrado.");return}const be=v.data,oe=v.observacao?.trim()||`Pagamento de salrio - ${V.nome}`;try{const{error:Be}=await Pe.from("transacoes").insert({tipo:"saida",valor:Je,origem:`Salrio Dono - ${V.nome}`,data:be,categoria:"Salrio Dono",observacao:oe});if(Be){pe.error('Erro ao registrar no Caixa! Verifique se a categoria "Salrio Dono" existe.'),console.error("Erro Caixa Salrio Dono:",Be);return}const ct={id:typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).substring(2,18),funcionario_id:F,valor:Je,data:be,observacao:oe},{error:ot}=await Pe.from("saidas_dono").insert(ct);if(ot){console.error("Erro ao registrar sada do dono:",ot),pe.error("Erro ao registrar pagamento no histrico do funcionrio.");return}pe.success("Pagamento de salrio registrado com sucesso!"),ye(),w(!1),S({valor:"",data:new Date().toISOString().split("T")[0],observacao:""})}catch(Be){console.error("Erro ao processar pagamento:",Be),pe.error("Erro ao processar pagamento.")}},me=async we=>{if(we.preventDefault(),!C||!F)return;const Je=parseFloat(Y.valor);if(isNaN(Je)||Je<=0){pe.error("Por favor, insira um valor numrico vlido e positivo.");return}const V=Y.data?Y.data:new Date().toISOString().split("T")[0],be=Y.observacao?.trim()?Y.observacao:null,oe={id:typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).substring(2,18),funcionario_id:F,valor:Je,data:V,observacao:be};console.log("Payload sada:",oe);const{error:Be}=await Pe.from("saidas_dono").insert(oe);if(Be)pe.error("Erro ao registrar sada!"),console.error("Erro no Supabase ao adicionar sada:",Be,oe);else{const ct=L.find(Ge=>Ge.id===F),ot=ct?ct.nome:"Funcionrio",{error:rt}=await Pe.from("transacoes").insert({tipo:"saida",valor:Je,origem:`Sada Dono - ${ot}`,data:V,categoria:"Sadas Dono",observacao:be||""});if(rt){console.error("Erro ao lanar Sada no Caixa:",rt),pe.error('Erro ao registrar no Caixa! Verifique se a categoria "Sadas Dono" existe.');return}const{data:Xe,error:Me}=await Pe.from("recebiveis").select("id, valor_total").eq("cliente",ot).maybeSingle();if(Me){console.error("Erro ao buscar recebvel existente:",Me),pe.error("Erro ao verificar recebvel existente!");return}if(Xe){const Ge=(Xe.valor_total||0)+Je,{error:xt}=await Pe.from("recebiveis").update({valor_total:Ge}).eq("id",Xe.id);xt?(console.error("Erro ao ATUALIZAR recebvel:",xt),pe.error('Erro ao atualizar "A Receber"!')):console.log("Recebvel do dono atualizado com sucesso.")}else{const{error:Ge}=await Pe.from("recebiveis").insert({valor_total:Je,cliente:ot,valor_pago:0,data_criacao:V});Ge?(console.error("Erro ao CRIAR novo recebvel:",Ge),pe.error('Erro ao lanar em "A Receber"!')):console.log("Novo recebvel do dono criado com sucesso.")}pe.success("Sada registrada com sucesso!"),ye()}Z({valor:"",data:new Date().toISOString().split("T")[0],observacao:""}),$(!1),P(null)},Ne=async we=>{if(we.preventDefault(),!C||!h)return;const Je=parseFloat(u.valor);if(isNaN(Je)||Je<=0){pe.error("Por favor, insira um valor numrico vlido e positivo.");return}const V=u.data,be=`Diria Paga - ${h.nome}`,oe="Dirias Contrato",{error:Be}=await Pe.from("transacoes").insert({tipo:"saida",valor:Je,origem:be,data:V,categoria:oe,observacao:""});Be?pe.error("Erro ao registrar diria no caixa!"):(pe.success("Diria registrada no caixa!"),c(!1),p(null),d({valor:"",data:new Date().toISOString().split("T")[0]}))},[te,I]=k.useState({valor:"",data:new Date().toISOString().split("T")[0]}),[Y,Z]=k.useState({valor:"",data:new Date().toISOString().split("T")[0],observacao:""}),[ue,ge]=k.useState(null),[le,xe]=k.useState(null);k.useEffect(()=>{ye()},[]);const ye=async()=>{const{data:we,error:Je}=await Pe.from("funcionarios").select("*").order("nome",{ascending:!0});if(!Je&&Array.isArray(we)){const V=await Promise.all(we.map(async be=>{const{data:oe}=await Pe.from("vales").select("*").eq("funcionario_id",be.id),{data:Be}=await Pe.from("saidas_dono").select("*").eq("funcionario_id",be.id);return{...be,vales:Array.isArray(oe)?oe:[],saidas:Array.isArray(Be)?Be:[]}}));T(V)}else T([]),pe.error("Erro ao carregar funcionrios do Supabase!")},ke=async we=>{if(we.preventDefault(),!C&&!G||!x&&G)return;const Je={nome:ae.nome,categoria:ae.categoria,cargo:ae.categoria==="dono"?null:ae.cargo,salario_mensal:ae.categoria==="clt"&&ae.salario_mensal?Number(ae.salario_mensal):null,valor_diaria:ae.categoria==="contrato"&&ae.valor_diaria?Number(ae.valor_diaria):null,avatar_url:ae.avatar_url||null};if(console.log("Dados enviados:",Je),G){const{error:V}=await Pe.from("funcionarios").update(Je).eq("id",G.id);if(!V)pe.success("Funcionrio atualizado!"),ye();else{pe.error("Erro ao atualizar funcionrio."),alert(JSON.stringify(V));debugger;console.error("Supabase error:",V)}}else{const{error:V}=await Pe.from("funcionarios").insert(Je);if(!V)pe.success("Funcionrio adicionado!"),ye();else{pe.error("Erro ao adicionar funcionrio."),alert(JSON.stringify(V));debugger;console.error("Supabase error:",V)}}H(!1),de()},De=async we=>{if(!_||!window.confirm("Tem certeza que deseja apagar este funcionrio?"))return;const{error:Je}=await Pe.from("funcionarios").delete().eq("id",we);Je?pe.error("Erro ao remover funcionrio."):(pe.success("Funcionrio removido!"),ye())},He=async we=>{if(we.preventDefault(),!C||!F)return;const Je=parseFloat(te.valor),V=te.data,{error:be}=await Pe.from("vales").insert({funcionario_id:F,valor:Je,data:V});be?pe.error("Erro ao adicionar vale!"):(pe.success("Vale adicionado!"),ye()),I({valor:"",data:new Date().toISOString().split("T")[0]}),Q(!1),P(null)},tt=async(we,Je)=>{if(!_||!window.confirm("Tem certeza que deseja excluir este vale? Esta ao no pode ser desfeita."))return;const{error:V}=await Pe.from("vales").delete().eq("id",Je);V?pe.error("Erro ao remover vale."):(pe.success("Vale removido com sucesso!"),ye())},Fe=async(we,Je)=>{if(!_||!window.confirm("Tem certeza que deseja excluir esta sada? ATENO: Isso NO reverter o lanamento no caixa. Esta ao no pode ser desfeita."))return;const{error:V}=await Pe.from("saidas_dono").delete().eq("id",Je);V?pe.error("Erro ao remover sada."):(pe.success("Sada removida com sucesso!"),ye())},de=()=>{se({nome:"",categoria:"clt",cargo:"",salario_mensal:"",valor_diaria:"",avatar_url:""}),z(null)},zt=we=>{x&&(z(we),se({nome:we.nome,categoria:we.categoria,cargo:we.cargo||"",salario_mensal:we.salario_mensal?.toString()||"",valor_diaria:we.valor_diaria?.toString()||"",avatar_url:we.avatar_url||""}),H(!0))},wt=we=>we.reduce((Je,V)=>Je+V.valor,0),bt=we=>(we||[]).reduce((Je,V)=>Je+V.valor,0),Ve=we=>{switch(we){case"clt":return"CLT";case"contrato":return"Contrato";case"dono":return"Dono"}},gt=k.useMemo(()=>L.map(we=>({...we,totalVales:wt(we.vales),totalSaidas:bt(we.saidas)})).sort((we,Je)=>we.categoria==="dono"&&Je.categoria!=="dono"?-1:we.categoria!=="dono"&&Je.categoria==="dono"?1:we.nome.localeCompare(Je.nome)),[L]);return s.jsx("div",{className:"funcionarios-container",children:s.jsxs("div",{className:"funcionarios-header",children:[s.jsxs("div",{className:"funcionarios-header-content",children:[s.jsxs("h1",{children:[s.jsx(Jf,{style:{display:"inline",marginRight:"0.5rem"}}),"Funcionrios"]}),s.jsx("p",{children:"Gerencie sua equipe e pagamentos"})]}),s.jsx("div",{className:"funcionarios-header-actions",children:C&&s.jsxs(gn,{open:R,onOpenChange:H,children:[s.jsx(ec,{asChild:!0,children:s.jsxs("button",{onClick:de,className:"funcionarios-btn funcionarios-btn-primary",children:[s.jsx(vn,{size:18}),"Adicionar Funcionrio"]})}),s.jsxs(nn,{"aria-describedby":"dialog-description-principal",className:"funcionario-dialog-content funcionario-dialog-principal",children:[s.jsxs("div",{className:"funcionario-dialog-header",children:[s.jsxs("h2",{className:"funcionario-dialog-title",children:[s.jsx(Jf,{className:"funcionario-dialog-title-icon"}),G?"Editar Funcionrio":"Novo Funcionrio"]}),s.jsx("p",{className:"funcionario-dialog-description",id:"dialog-description-principal",children:"Preencha os dados do funcionrio para cadastro ou edio."})]}),s.jsx("div",{className:"funcionario-dialog-body",children:s.jsxs("form",{onSubmit:ke,className:"funcionario-dialog-form",children:[s.jsxs("div",{className:"funcionario-dialog-field",children:[s.jsx(Rn,{className:"funcionario-dialog-label",children:"Nome"}),s.jsx(lr,{className:"funcionario-dialog-input",value:ae.nome,onChange:we=>se({...ae,nome:we.target.value}),required:!0})]}),s.jsxs("div",{className:"funcionario-dialog-field",children:[s.jsx(Rn,{className:"funcionario-dialog-label",children:"Categoria"}),s.jsxs(rd,{value:ae.categoria,onValueChange:we=>se({...ae,categoria:we}),children:[s.jsx(ad,{className:"funcionario-select-trigger",children:s.jsx(nd,{placeholder:"Selecione a categoria"})}),s.jsxs(sd,{className:"funcionario-select-content",children:[s.jsx(ni,{value:"clt",className:"funcionario-select-item",children:"CLT (Salrio Mensal)"}),s.jsx(ni,{value:"contrato",className:"funcionario-select-item",children:"Contrato (Diria)"}),s.jsx(ni,{value:"dono",className:"funcionario-select-item",children:"Dono"})]})]})]}),ae.categoria!=="dono"&&s.jsxs("div",{className:"funcionario-dialog-field",children:[s.jsx(Rn,{className:"funcionario-dialog-label",children:"Cargo"}),s.jsx(lr,{className:"funcionario-dialog-input",value:ae.cargo,onChange:we=>se({...ae,cargo:we.target.value}),required:!0})]}),ae.categoria==="clt"&&s.jsxs("div",{className:"funcionario-dialog-field",children:[s.jsx(Rn,{className:"funcionario-dialog-label",children:"Salrio Mensal"}),s.jsx(lr,{className:"funcionario-dialog-input",type:"number",step:"0.01",value:ae.salario_mensal,onChange:we=>se({...ae,salario_mensal:we.target.value}),required:!0})]}),ae.categoria==="contrato"&&s.jsxs("div",{className:"funcionario-dialog-field",children:[s.jsx(Rn,{className:"funcionario-dialog-label",children:"Valor da Diria"}),s.jsx(lr,{className:"funcionario-dialog-input",type:"number",step:"0.01",value:ae.valor_diaria,onChange:we=>se({...ae,valor_diaria:we.target.value}),required:!0})]}),s.jsxs("div",{className:"funcionario-dialog-field",children:[s.jsx(Rn,{className:"funcionario-dialog-label",children:"URL do Avatar (opcional)"}),s.jsx(lr,{className:"funcionario-dialog-input",value:ae.avatar_url,onChange:we=>se({...ae,avatar_url:we.target.value})})]}),s.jsxs("button",{type:"submit",className:"funcionario-dialog-submit",children:[G?s.jsx(tc,{className:"funcionario-dialog-submit-icon"}):s.jsx(vn,{className:"funcionario-dialog-submit-icon"}),G?"Salvar Alteraes":"Adicionar Funcionrio"]})]})})]})]})}),s.jsxs("div",{className:"funcionarios-tabs",children:[s.jsxs("button",{className:`funcionarios-tab ${t==="funcionarios"?"active":""}`,onClick:()=>e("funcionarios"),children:[s.jsx(Jf,{size:18}),"Funcionrios"]}),s.jsxs("button",{className:`funcionarios-tab ${t==="diarias"?"active":""}`,onClick:()=>e("diarias"),children:[s.jsx(ka,{size:18}),"Dirias"]})]}),t==="funcionarios"&&s.jsx("div",{className:"funcionarios-grid",children:gt.map(we=>{const Je=ue===we.id;return s.jsxs("div",{className:"funcionario-card",children:[s.jsx(S8,{nome:we.nome,cargo:we.cargo,categoria:we.categoria,avatar_url:we.avatar_url,canEdit:x,canDelete:_,onEdit:()=>zt(we),onDelete:()=>fe(we.id),badgeLabel:Ve(we.categoria),salario:we.categoria==="clt"?we.salario_mensal:we.valor_diaria,totalVales:we.totalVales,totalSaidas:we.totalSaidas,dataPagamentoCLT:we.dataPagamentoCLT}),we.categoria==="clt"&&we.salario_mensal&&s.jsxs("div",{className:"funcionario-salary",children:[s.jsx("div",{className:"funcionario-salary-label",children:"Salrio Mensal"}),s.jsx("div",{className:"funcionario-salary-value",children:ft(we.salario_mensal)})]}),we.categoria==="contrato"&&we.valor_diaria&&s.jsxs("div",{className:"funcionario-salary",children:[s.jsx("div",{className:"funcionario-salary-label",children:"Valor da Diria"}),s.jsx("div",{className:"funcionario-salary-value",children:ft(we.valor_diaria)})]}),s.jsxs("button",{className:`funcionario-expand-btn ${Je?"expanded":""}`,onClick:()=>ge(Je?null:we.id),children:[s.jsx("span",{children:Je?"Ocultar Detalhes":"Ver Detalhes"}),s.jsx(Mv,{className:"funcionario-expand-icon"})]}),Je&&s.jsxs("div",{className:"funcionario-expanded",children:[C&&s.jsxs("div",{className:"funcionario-action-group",children:[we.categoria==="clt"&&s.jsxs("button",{className:"funcionario-primary-btn funcionario-pagamento-btn",onClick:V=>{V.stopPropagation(),P(we.id),xe(we.id)},children:[s.jsx(sr,{className:"funcionario-btn-icon"}),"Registrar Pagamento CLT"]}),we.categoria==="contrato"&&s.jsxs("button",{className:"funcionario-primary-btn funcionario-diaria-btn",onClick:V=>{V.stopPropagation(),p(we),c(!0)},children:[s.jsx(sr,{className:"funcionario-btn-icon"}),"Registrar Diria Paga"]}),we.categoria==="dono"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{className:"funcionario-primary-btn funcionario-pagamento-btn",onClick:V=>{V.stopPropagation(),P(we.id),w(!0)},children:[s.jsx(sr,{className:"funcionario-btn-icon"}),"Pagar Salrio"]}),s.jsxs("button",{className:"funcionario-primary-btn funcionario-saida-btn",onClick:V=>{V.stopPropagation(),P(we.id),$(!0)},children:[s.jsx(ha,{className:"funcionario-btn-icon"}),"Registrar Sada"]})]}),we.categoria!=="dono"&&s.jsxs("button",{className:"funcionario-primary-btn funcionario-vale-btn",onClick:V=>{V.stopPropagation(),P(we.id),Q(!0)},children:[s.jsx(sr,{className:"funcionario-btn-icon"}),"Adicionar Vale"]})]}),we.categoria!=="dono"&&we.vales&&we.vales.length>0&&s.jsxs("div",{className:"funcionario-vales-section",children:[s.jsxs("div",{className:"funcionario-vales-title",children:[s.jsx(sr,{className:"funcionario-inline-icon"}),"Vales Recebidos"]}),s.jsx("div",{className:"funcionario-vales-list",children:we.vales.map(V=>s.jsxs("div",{className:"funcionario-vale-item",children:[s.jsxs("div",{children:[s.jsx("div",{className:"funcionario-vale-date",children:new Date(V.data).toLocaleDateString("pt-BR")}),s.jsx("div",{className:"funcionario-vale-value",children:ft(V.valor)})]}),_&&s.jsx("button",{className:"funcionario-vale-delete",onClick:be=>{be.stopPropagation(),tt(we.id,V.id)},title:"Excluir vale",children:s.jsx(zn,{className:"funcionario-vale-delete-icon"})})]},V.id))}),s.jsxs("div",{className:"funcionario-vales-total",children:[s.jsx("span",{className:"funcionario-vales-total-label",children:"Total em Vales:"}),s.jsx("span",{className:"funcionario-vales-total-value",children:ft(we.totalVales)})]})]}),we.categoria==="dono"&&we.saidas&&we.saidas.length>0&&s.jsxs("div",{className:"funcionario-saidas-section",children:[s.jsxs("div",{className:"funcionario-saidas-title",children:[s.jsx(ha,{className:"funcionario-inline-icon"}),"Sadas Registradas"]}),s.jsx("div",{className:"funcionario-saidas-list",children:we.saidas.map(V=>s.jsxs("div",{className:"funcionario-saida-item",children:[s.jsxs("div",{className:"funcionario-saida-info",children:[s.jsx("div",{className:"funcionario-saida-date",children:new Date(V.data).toLocaleDateString("pt-BR")}),V.observacao&&s.jsx("div",{className:"funcionario-saida-obs",children:V.observacao})]}),s.jsx("div",{className:"funcionario-saida-value",children:ft(V.valor)}),_&&s.jsx("button",{className:"funcionario-saida-delete",onClick:be=>{be.stopPropagation(),Fe(we.id,V.id)},title:"Excluir sada",children:s.jsx(zn,{className:"funcionario-saida-delete-icon"})})]},V.id))}),s.jsxs("div",{className:"funcionario-vales-total",children:[s.jsx("span",{className:"funcionario-vales-total-label",children:"Total em Sadas:"}),s.jsx("span",{className:"funcionario-vales-total-value",children:ft(we.totalSaidas)})]})]})]})]},we.id)})}),t==="diarias"&&s.jsx(E8,{funcionarios:L,canCreate:C,loadFuncionarios:ye}),s.jsx(gn,{open:J,onOpenChange:Q,children:s.jsxs(nn,{"aria-describedby":"dialog-description-vale",className:"funcionario-dialog-content funcionario-dialog-vale obras-style",children:[s.jsxs("div",{className:"funcionario-dialog-header",children:[s.jsxs("h2",{className:"funcionario-dialog-title",children:[s.jsx(sr,{className:"funcionario-dialog-title-icon"}),"Adicionar Vale"]}),s.jsx("p",{className:"funcionario-dialog-description",id:"dialog-description-vale",children:"Informe o valor e a data do vale para adicionar ao funcionrio."})]}),s.jsx("div",{className:"funcionario-dialog-body",children:s.jsxs("form",{onSubmit:He,className:"funcionario-dialog-form",children:[s.jsxs("div",{className:"funcionario-dialog-field",children:[s.jsxs("label",{className:"funcionario-dialog-label",children:[s.jsx(sr,{className:"funcionario-dialog-label-icon"}),"Valor do Vale"]}),s.jsx("input",{type:"number",step:"0.01",value:te.valor,onChange:we=>I({...te,valor:we.target.value}),required:!0,placeholder:"R$ 0,00",className:"funcionario-dialog-input"})]}),s.jsxs("div",{className:"funcionario-dialog-field",children:[s.jsxs("label",{className:"funcionario-dialog-label",children:[s.jsx(ka,{className:"funcionario-dialog-label-icon"}),"Data"]}),s.jsx("input",{type:"date",value:te.data,onChange:we=>I({...te,data:we.target.value}),required:!0,className:"funcionario-dialog-input"})]}),s.jsxs("button",{type:"submit",className:"funcionario-dialog-submit",children:[s.jsx(sr,{className:"funcionario-dialog-submit-icon"}),"Adicionar Vale"]})]})})]})}),s.jsx(gn,{open:i,onOpenChange:c,children:s.jsxs(nn,{"aria-describedby":"dialog-description-diaria",className:"funcionario-dialog-content funcionario-dialog-diaria obras-style",children:[s.jsxs("div",{className:"funcionario-dialog-header",children:[s.jsxs("h2",{className:"funcionario-dialog-title",children:[s.jsx(sr,{className:"funcionario-dialog-title-icon"}),"Registrar Diria Paga"]}),s.jsx("p",{className:"funcionario-dialog-description",id:"dialog-description-diaria",children:"Informe o valor e a data da diria paga para registrar no caixa."})]}),s.jsx("div",{className:"funcionario-dialog-body",children:s.jsxs("form",{onSubmit:Ne,className:"funcionario-dialog-form",children:[s.jsxs("div",{className:"funcionario-dialog-field",children:[s.jsxs("label",{className:"funcionario-dialog-label",children:[s.jsx(sr,{className:"funcionario-dialog-label-icon"}),"Valor da Diria"]}),s.jsx("input",{type:"number",step:"0.01",value:u.valor,onChange:we=>d({...u,valor:we.target.value}),required:!0,placeholder:"R$ 0,00",className:"funcionario-dialog-input"})]}),s.jsxs("div",{className:"funcionario-dialog-field",children:[s.jsxs("label",{className:"funcionario-dialog-label",children:[s.jsx(ka,{className:"funcionario-dialog-label-icon"}),"Data"]}),s.jsx("input",{type:"date",value:u.data,onChange:we=>d({...u,data:we.target.value}),required:!0,className:"funcionario-dialog-input"})]}),s.jsxs("button",{type:"submit",className:"funcionario-dialog-submit",children:[s.jsx(sr,{className:"funcionario-dialog-submit-icon"}),"Registrar Diria"]})]})})]})}),s.jsx(gn,{open:!!le,onOpenChange:we=>{we||(xe(null),n({data:new Date().toISOString().split("T")[0]}))},children:s.jsxs(nn,{"aria-describedby":"dialog-description-clt",className:"funcionario-dialog-content funcionario-dialog-clt obras-style",children:[s.jsxs("div",{className:"funcionario-dialog-header",children:[s.jsxs("h2",{className:"funcionario-dialog-title",children:[s.jsx(sr,{className:"funcionario-dialog-title-icon"}),"Registrar Pagamento CLT"]}),s.jsx("p",{className:"funcionario-dialog-description",id:"dialog-description-clt",children:"Selecione a data do pagamento para registrar no caixa."})]}),s.jsx("div",{className:"funcionario-dialog-body",children:s.jsxs("form",{onSubmit:a,className:"funcionario-dialog-form",children:[s.jsxs("div",{className:"funcionario-dialog-field",children:[s.jsxs("label",{className:"funcionario-dialog-label",children:[s.jsx(ka,{className:"funcionario-dialog-label-icon"}),"Data do Pagamento"]}),s.jsx("input",{type:"date",value:r.data,onChange:we=>n({...r,data:we.target.value}),required:!0,className:"funcionario-dialog-input"})]}),s.jsxs("button",{type:"submit",className:"funcionario-dialog-submit",children:[s.jsx(sr,{className:"funcionario-dialog-submit-icon"}),"Registrar Pagamento"]})]})})]})}),s.jsx(gn,{open:g,onOpenChange:w,children:s.jsxs(nn,{"aria-describedby":"dialog-description-pagamento-dono",className:"funcionario-dialog-content funcionario-dialog-pagamento obras-style",children:[s.jsxs("div",{className:"funcionario-dialog-header",children:[s.jsxs("h2",{className:"funcionario-dialog-title",children:[s.jsx(sr,{className:"funcionario-dialog-title-icon"}),"Pagar Salrio do Dono"]}),s.jsx("p",{className:"funcionario-dialog-description",id:"dialog-description-pagamento-dono",children:"Registre o pagamento de salrio. O valor ser lanado no caixa como sada e ficar registrado no card do funcionrio."})]}),s.jsx("div",{className:"funcionario-dialog-body",children:s.jsxs("form",{onSubmit:q,className:"funcionario-dialog-form",children:[s.jsxs("div",{className:"funcionario-dialog-field",children:[s.jsxs("label",{className:"funcionario-dialog-label",children:[s.jsx(sr,{className:"funcionario-dialog-label-icon"}),"Valor do Salrio"]}),s.jsx("input",{type:"number",step:"0.01",value:v.valor,onChange:we=>S({...v,valor:we.target.value}),required:!0,placeholder:"R$ 0,00",className:"funcionario-dialog-input"})]}),s.jsxs("div",{className:"funcionario-dialog-field",children:[s.jsxs("label",{className:"funcionario-dialog-label",children:[s.jsx(ka,{className:"funcionario-dialog-label-icon"}),"Data do Pagamento"]}),s.jsx("input",{type:"date",value:v.data,onChange:we=>S({...v,data:we.target.value}),required:!0,className:"funcionario-dialog-input"})]}),s.jsxs("div",{className:"funcionario-dialog-field",children:[s.jsx("label",{className:"funcionario-dialog-label",children:"Observao (opcional)"}),s.jsx("textarea",{value:v.observacao,onChange:we=>S({...v,observacao:we.target.value}),placeholder:"Adicione uma observao",className:"funcionario-dialog-input funcionario-dialog-textarea"})]}),s.jsxs("button",{type:"submit",className:"funcionario-dialog-submit",children:[s.jsx(sr,{className:"funcionario-dialog-submit-icon"}),"Registrar Pagamento"]})]})})]})}),s.jsx(gn,{open:D,onOpenChange:$,children:s.jsxs(nn,{"aria-describedby":"dialog-description-saida",className:"funcionario-dialog-content funcionario-dialog-saida obras-style",children:[s.jsxs("div",{className:"funcionario-dialog-header",children:[s.jsxs("h2",{className:"funcionario-dialog-title",children:[s.jsx(ha,{className:"funcionario-dialog-title-icon"}),"Registrar Sada"]}),s.jsx("p",{className:"funcionario-dialog-description",id:"dialog-description-saida",children:"Informe o valor, data e observao da sada do dono."})]}),s.jsx("div",{className:"funcionario-dialog-body",children:s.jsxs("form",{onSubmit:me,className:"funcionario-dialog-form",children:[s.jsxs("div",{className:"funcionario-dialog-field",children:[s.jsxs("label",{className:"funcionario-dialog-label",children:[s.jsx(sr,{className:"funcionario-dialog-label-icon"}),"Valor"]}),s.jsx("input",{type:"number",step:"0.01",value:Y.valor,onChange:we=>Z({...Y,valor:we.target.value}),required:!0,placeholder:"R$ 0,00",className:"funcionario-dialog-input"})]}),s.jsxs("div",{className:"funcionario-dialog-field",children:[s.jsxs("label",{className:"funcionario-dialog-label",children:[s.jsx(ka,{className:"funcionario-dialog-label-icon"}),"Data"]}),s.jsx("input",{type:"date",value:Y.data,onChange:we=>Z({...Y,data:we.target.value}),required:!0,className:"funcionario-dialog-input"})]}),s.jsxs("div",{className:"funcionario-dialog-field",children:[s.jsx("label",{className:"funcionario-dialog-label",children:"Observao (opcional)"}),s.jsx("textarea",{value:Y.observacao,onChange:we=>Z({...Y,observacao:we.target.value}),placeholder:"Descrio da sada",className:"funcionario-dialog-input funcionario-dialog-textarea"})]}),s.jsxs("button",{type:"submit",className:"funcionario-dialog-submit",children:[s.jsx(ha,{className:"funcionario-dialog-submit-icon"}),"Registrar Sada"]})]})})]})}),s.jsx(gn,{open:!!M,onOpenChange:we=>!we&&fe(null),children:s.jsxs(nn,{"aria-describedby":"dialog-description-delete",className:"funcionario-dialog-content funcionario-dialog-delete obras-style",children:[s.jsxs("div",{className:"funcionario-dialog-header",children:[s.jsxs("h2",{className:"funcionario-dialog-title",children:[s.jsx(zn,{className:"funcionario-dialog-title-icon"}),"Confirmar Excluso"]}),s.jsx("p",{className:"funcionario-dialog-description",id:"dialog-description-delete",children:"Tem certeza que deseja apagar este funcionrio? Essa ao no pode ser desfeita."})]}),s.jsx("div",{className:"funcionario-dialog-body",children:s.jsxs("div",{className:"funcionario-dialog-footer",children:[s.jsx("button",{className:"funcionario-dialog-cancel",onClick:()=>fe(null),children:"Cancelar"}),s.jsx("button",{className:"funcionario-dialog-delete-btn",onClick:()=>M&&De(M),children:"Apagar"})]})})]})})]})})}function A8(){const{canEdit:t,canDelete:e,canCreate:r}=ui(),[n,a]=k.useState([]),[i,c]=k.useState(!1),[u,d]=k.useState(null),[h,p]=k.useState({nome:"",valor:"",categoria:"",tipo:"normal",valorParcela:"",numParcelas:"",datasParcelas:[],vencimento:"",dataBaseParcelas:"",status:"em_dia"}),g=D=>{const $=D.replace(/\D/g,"");return(Number($)/100).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})},w=D=>parseFloat(D.replace(/\./g,"").replace(",","."))||0;k.useEffect(()=>{v()},[]);const v=async()=>{const{data:D,error:$}=await Pe.from("dividas").select("*");if($){pe.error("Erro ao buscar dvidas!");return}a((D||[]).map(G=>G.tipo==="parcelada"?{...G,parcelasPagas:G.parcelasPagas||Array(Number(G.numParcelas)||0).fill(!1),valorRestante:G.valorRestante??G.valor}:G))},S=()=>{p({nome:"",valor:"",categoria:"",tipo:"normal",valorParcela:"",numParcelas:"",datasParcelas:[],vencimento:"",dataBaseParcelas:"",status:"em_dia"}),d(null)},x=D=>{d(D),p({nome:D.nome,valor:D.valor.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}),categoria:D.categoria||"",tipo:D.tipo||"normal",valorParcela:D.valorParcela?D.valorParcela.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):"",numParcelas:D.numParcelas?.toString()||"",datasParcelas:D.datasParcelas||[],vencimento:D.vencimento,dataBaseParcelas:D.datasParcelas?.[0]||"",status:D.status}),c(!0)},_=async D=>{if(D.preventDefault(),!r&&!u||!t&&u)return;const $=w(h.valor);if(isNaN($)||$<=0){pe.error("O Valor Total deve ser um nmero positivo.");return}if(h.tipo==="normal"&&!h.vencimento){pe.error("A Data de Vencimento  obrigatria.");return}if(h.tipo==="parcelada"&&(!h.numParcelas||!h.dataBaseParcelas)){pe.error("N de Parcelas e Data Base so obrigatrios.");return}if(u){const G={nome:h.nome,categoria:h.categoria,tipo:h.tipo,valor:$,status:h.status,vencimento:h.tipo==="normal"?h.vencimento:null,valorParcela:h.tipo==="parcelada"?w(h.valorParcela):null,numParcelas:h.tipo==="parcelada"?parseInt(h.numParcelas):null,datasParcelas:h.tipo==="parcelada"?h.datasParcelas:null},{error:z}=await Pe.from("dividas").update(G).eq("id",u.id);z?(pe.error("Erro ao atualizar dvida!"),console.error("Erro Update Dvida:",z,G)):(pe.success("Dvida atualizada com sucesso!"),v())}else{const G={nome:h.nome,categoria:h.categoria,tipo:h.tipo,valor:$,status:h.status,vencimento:h.tipo==="normal"?h.vencimento:null,valorParcela:h.tipo==="parcelada"?w(h.valorParcela):null,numParcelas:h.tipo==="parcelada"?parseInt(h.numParcelas):null,datasParcelas:h.tipo==="parcelada"?h.datasParcelas:null,parcelasPagas:h.tipo==="parcelada"?Array(parseInt(h.numParcelas)).fill(!1):null,valorRestante:$},{error:z}=await Pe.from("dividas").insert(G);z?(pe.error("Erro ao adicionar dvida!"),console.error("Erro Insert Dvida:",z,G)):(pe.success("Dvida adicionada com sucesso!"),v())}S(),c(!1)},C=async D=>{if(!e)return;const{error:$}=await Pe.from("dividas").delete().eq("id",D);$?pe.error("Erro ao remover dvida!"):(pe.success("Dvida removida com sucesso!"),v())},L=async D=>{if(t)if(D.tipo==="parcelada"){const $=(D.parcelasPagas||[]).findIndex(P=>!P);if($===-1)return;const G=[...D.parcelasPagas||[]];G[$]=!0;const z=(D.valorRestante||D.valor)-(D.valorParcela||0),{error:F}=await Pe.from("dividas").update({parcelasPagas:G,valorRestante:z,status:z<=0?"quitado":D.status}).eq("id",D.id);if(F)pe.error("Erro ao pagar parcela!");else{const P=D.datasParcelas?.[$]||new Date().toISOString().split("T")[0],M=`Parcela ${$+1} - ${D.nome}`,fe=D.categoria||"Parcelas";await Pe.from("transacoes").insert({tipo:"saida",valor:D.valorParcela,origem:M,data:P,categoria:fe,observacao:""}),pe.success("Parcela paga e registrada no caixa!"),v()}}else{const{error:$}=await Pe.from("dividas").update({status:"quitado"}).eq("id",D.id);$?pe.error("Erro ao marcar como quitada!"):(await Pe.from("transacoes").insert({tipo:"saida",valor:D.valor,origem:D.nome,data:D.vencimento,categoria:D.categoria||"Dvidas",observacao:""}),pe.success("Dvida marcada como quitada e registrada no caixa!"),v())}},T=D=>{switch(D){case"em_dia":return{label:"Em Dia",variant:"default",icon:So,color:"text-blue-600",bgColor:"bg-blue-50"};case"atrasado":return{label:"Atrasado",variant:"destructive",icon:So,color:"text-red-600",bgColor:"bg-red-50"};case"quitado":return{label:"Quitado",variant:"secondary",icon:Mn,color:"text-gray-600",bgColor:"bg-gray-50"}}},R=n.reduce((D,$)=>D+($.valorRestante||$.valor),0),H=n.filter(D=>D.status==="em_dia"),J=n.filter(D=>D.status==="atrasado"),Q=n.filter(D=>D.status==="quitado");return s.jsxs("div",{className:"dividas-container",children:[s.jsxs("div",{className:"dividas-header",children:[s.jsxs("div",{className:"dividas-header-content",children:[s.jsx("h1",{children:"Dvidas"}),s.jsx("p",{children:"Gerencie e controle suas contas a pagar"})]}),r&&s.jsxs(gn,{open:i,onOpenChange:c,children:[s.jsx(ec,{asChild:!0,children:s.jsxs("button",{className:"dividas-btn dividas-btn-primary",onClick:S,children:[s.jsx(vn,{className:"h-4 w-4"}),"Adicionar Dvida"]})}),s.jsxs(nn,{className:"dividas-dialog-content",children:[s.jsx(Ss,{children:s.jsx(Es,{className:"dividas-dialog-title",children:u?"Editar Dvida":"Nova Dvida"})}),s.jsxs("form",{onSubmit:_,className:"dividas-form",children:[s.jsxs("div",{className:"dividas-form-field",children:[s.jsx("label",{children:"Nome"}),s.jsx("input",{value:h.nome,onChange:D=>p({...h,nome:D.target.value}),required:!0})]}),s.jsxs("div",{className:"dividas-form-field",children:[s.jsx("label",{children:"Categoria"}),s.jsx("input",{value:h.categoria,onChange:D=>p({...h,categoria:D.target.value}),placeholder:"Ex: Aluguel, Fornecedor, Servios"})]}),s.jsxs("div",{className:"dividas-form-field",children:[s.jsx("label",{children:"Tipo"}),s.jsxs("div",{className:"dividas-tipo-options",children:[s.jsx("button",{type:"button",className:h.tipo==="normal"?"active":"",onClick:()=>p({...h,tipo:"normal"}),children:"Normal"}),s.jsx("button",{type:"button",className:h.tipo==="parcelada"?"active":"",onClick:()=>p({...h,tipo:"parcelada"}),children:"Parcelada"})]})]}),s.jsxs("div",{className:"dividas-form-field",children:[s.jsx("label",{children:"Valor Total"}),s.jsx("input",{type:"text",value:h.valor,onChange:D=>{const $=g(D.target.value);let G=h.valorParcela;if(h.tipo==="parcelada"&&h.numParcelas){const z=w($),F=parseInt(h.numParcelas);F>0&&(G=(z/F).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}))}p({...h,valor:$,valorParcela:G})},placeholder:"0,00",required:!0})]}),h.tipo==="parcelada"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"dividas-form-field",children:[s.jsx("label",{children:"Nmero de Parcelas"}),s.jsx("input",{type:"number",value:h.numParcelas,onChange:D=>{const $=Number(D.target.value),G=w(h.valor),F=($>0?G/$:0).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2});let P=[];if(h.dataBaseParcelas&&$>0){const M=new Date(h.dataBaseParcelas);for(let fe=0;fe<$;fe++){const ae=new Date(M);ae.setMonth(M.getMonth()+fe),P.push(ae.toISOString().split("T")[0])}}p({...h,numParcelas:D.target.value,valorParcela:F,datasParcelas:P})},required:!0})]}),s.jsxs("div",{className:"dividas-form-field",children:[s.jsx("label",{children:"Valor da Parcela"}),s.jsx("input",{type:"text",value:h.valorParcela,readOnly:!0,placeholder:"0,00",className:"readonly"})]}),s.jsxs("div",{className:"dividas-form-field",children:[s.jsx("label",{children:"Data base de vencimento"}),s.jsx("input",{type:"date",value:h.dataBaseParcelas,onChange:D=>{const $=D.target.value,G=Number(h.numParcelas)||0;let z=[];if($&&G>0){const F=new Date($);for(let P=0;P<G;P++){const M=new Date(F);M.setMonth(F.getMonth()+P),z.push(M.toISOString().split("T")[0])}}p({...h,dataBaseParcelas:$,datasParcelas:z})},required:!0})]})]}),h.tipo==="normal"&&s.jsxs("div",{className:"dividas-form-field",children:[s.jsx("label",{children:"Vencimento"}),s.jsx("input",{type:"date",value:h.vencimento,onChange:D=>p({...h,vencimento:D.target.value}),required:!0})]}),s.jsxs("div",{className:"dividas-form-field",children:[s.jsx("label",{children:"Status"}),s.jsxs("select",{value:h.status,onChange:D=>p({...h,status:D.target.value}),children:[s.jsx("option",{value:"em_dia",children:"Em Dia"}),s.jsx("option",{value:"atrasado",children:"Atrasado"}),s.jsx("option",{value:"quitado",children:"Quitado"})]})]}),s.jsx("button",{type:"submit",className:"dividas-btn dividas-btn-primary w-full",children:u?"Salvar Alteraes":"Adicionar"})]})]})]})]}),s.jsxs("div",{className:"dividas-summary",children:[s.jsxs("div",{className:"dividas-summary-card total",children:[s.jsx("div",{className:"dividas-summary-icon",children:s.jsx(sr,{})}),s.jsxs("div",{className:"dividas-summary-content",children:[s.jsx("span",{className:"dividas-summary-label",children:"Total em Dvidas"}),s.jsx("span",{className:"dividas-summary-value",children:ft(R)}),s.jsxs("span",{className:"dividas-summary-count",children:[n.length," dvida(s)"]})]})]}),s.jsxs("div",{className:"dividas-summary-card emdia",children:[s.jsx("div",{className:"dividas-summary-icon",children:s.jsx(Mn,{})}),s.jsxs("div",{className:"dividas-summary-content",children:[s.jsx("span",{className:"dividas-summary-label",children:"Em Dia"}),s.jsx("span",{className:"dividas-summary-value",children:H.length}),s.jsx("span",{className:"dividas-summary-count",children:ft(H.reduce((D,$)=>D+($.valorRestante||$.valor),0))})]})]}),s.jsxs("div",{className:"dividas-summary-card atrasadas",children:[s.jsx("div",{className:"dividas-summary-icon",children:s.jsx(So,{})}),s.jsxs("div",{className:"dividas-summary-content",children:[s.jsx("span",{className:"dividas-summary-label",children:"Atrasadas"}),s.jsx("span",{className:"dividas-summary-value",children:J.length}),s.jsx("span",{className:"dividas-summary-count",children:ft(J.reduce((D,$)=>D+($.valorRestante||$.valor),0))})]})]}),s.jsxs("div",{className:"dividas-summary-card quitadas",children:[s.jsx("div",{className:"dividas-summary-icon",children:s.jsx(ha,{})}),s.jsxs("div",{className:"dividas-summary-content",children:[s.jsx("span",{className:"dividas-summary-label",children:"Quitadas"}),s.jsx("span",{className:"dividas-summary-value",children:Q.length}),s.jsx("span",{className:"dividas-summary-count",children:ft(Q.reduce((D,$)=>D+$.valor,0))})]})]})]}),s.jsx("div",{className:"dividas-grid",children:n.map(D=>{const $=T(D.status),G=$.icon;return s.jsxs("div",{className:`divida-card ${D.status}`,children:[s.jsxs("div",{className:"divida-card-header",children:[s.jsxs("div",{className:"divida-card-title",children:[s.jsx(G,{className:"h-5 w-5"}),s.jsx("h3",{children:D.nome})]}),s.jsxs("div",{className:"divida-card-actions",children:[t&&s.jsx("button",{className:"dividas-btn-icon",onClick:()=>x(D),title:"Editar",children:s.jsx(tc,{className:"h-4 w-4"})}),e&&s.jsx("button",{className:"dividas-btn-icon delete",onClick:()=>C(D.id),title:"Excluir",children:s.jsx(zn,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"divida-info",children:[D.categoria&&s.jsx("div",{className:"divida-categoria",children:D.categoria}),s.jsxs("div",{className:"divida-info-row",children:[s.jsx("span",{className:"divida-info-label",children:"Valor Inicial:"}),s.jsx("span",{className:"divida-info-value",children:ft(D.valor)})]}),D.tipo==="parcelada"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"divida-info-row",children:[s.jsx("span",{className:"divida-info-label",children:"Valor Restante:"}),s.jsx("span",{className:"divida-info-value highlight",children:ft(D.valorRestante??D.valor)})]}),s.jsxs("div",{className:"divida-parcelas-section",children:[s.jsxs("div",{className:"divida-parcelas-header",children:[s.jsx("h4",{children:"Parcelas"}),s.jsxs("span",{className:"divida-parcelas-progress",children:[(D.parcelasPagas||[]).filter(z=>z).length," / ",D.numParcelas||0," pagas"]})]}),s.jsx("div",{className:"divida-parcelas-list",children:(D.datasParcelas||[]).map((z,F)=>{const P=new Date;P.setHours(0,0,0,0);const M=new Date(z);M.setHours(0,0,0,0);const fe=D.parcelasPagas&&D.parcelasPagas[F],ae=M<P&&!fe,se=M.getMonth()===P.getMonth()&&M.getFullYear()===P.getFullYear();let q="pendente",me="Pendente";return fe?(q="paga",me="Paga"):ae?(q="atrasada",me="Atrasada"):se&&(q="mesatual",me="Ms Atual"),!fe||se||ae?s.jsxs("div",{className:`divida-parcela-item ${q}`,children:[s.jsxs("div",{className:"divida-parcela-info",children:[s.jsxs("span",{className:"divida-parcela-numero",children:["Parcela ",F+1]}),s.jsx("span",{className:"divida-parcela-data",children:new Date(z).toLocaleDateString("pt-BR")})]}),s.jsx("div",{className:"divida-parcela-valor",children:ft(D.valorParcela||0)}),s.jsx("div",{className:"divida-parcela-status",children:me}),t&&!fe&&D.status!=="quitado"&&s.jsxs("button",{className:`dividas-btn-pagar ${ae?"urgent":""}`,onClick:()=>L(D),children:[s.jsx(sr,{className:"h-3 w-3"}),"Pagar"]})]},F):null})})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"divida-info-row",children:[s.jsx("span",{className:"divida-info-label",children:"Vencimento:"}),s.jsx("span",{className:"divida-info-value",children:new Date(D.vencimento).toLocaleDateString("pt-BR")})]}),s.jsxs("div",{className:"divida-card-footer",children:[s.jsxs("div",{className:`divida-status-badge ${D.status}`,children:[s.jsx(G,{className:"h-3 w-3"}),$.label]}),t&&D.status!=="quitado"&&s.jsxs("button",{className:"dividas-btn-pagar",onClick:()=>L(D),children:[s.jsx(sr,{className:"h-3 w-3"}),"Pagar"]})]})]})]})]},D.id)})})]})}const B2=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,U2=dw,x5=(t,e)=>r=>{var n;if(e?.variants==null)return U2(t,r?.class,r?.className);const{variants:a,defaultVariants:i}=e,c=Object.keys(a).map(h=>{const p=r?.[h],g=i?.[h];if(p===null)return null;const w=B2(p)||B2(g);return a[h][w]}),u=r&&Object.entries(r).reduce((h,p)=>{let[g,w]=p;return w===void 0||(h[g]=w),h},{}),d=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((h,p)=>{let{class:g,className:w,...v}=p;return Object.entries(v).every(S=>{let[x,_]=S;return Array.isArray(_)?_.includes({...i,...u}[x]):{...i,...u}[x]===_})?[...h,g,w]:h},[]);return U2(t,c,d,r?.class,r?.className)},k8=x5("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all duration-300 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:scale-105 active:scale-95",{variants:{variant:{default:"bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700 shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/50",destructive:"bg-gradient-to-r from-red-500 to-rose-600 text-white hover:from-red-600 hover:to-rose-700 shadow-lg shadow-red-500/30 hover:shadow-xl hover:shadow-red-500/50",outline:"border border-[#1e293b] bg-[#141b2d]/50 text-gray-300 hover:bg-[#1a1f37] hover:text-white hover:border-blue-500/50 backdrop-blur-sm",secondary:"bg-gradient-to-r from-gray-700 to-gray-800 text-white hover:from-gray-600 hover:to-gray-700 shadow-lg shadow-gray-500/20",ghost:"hover:bg-white/10 hover:text-white text-gray-400",link:"text-blue-400 underline-offset-4 hover:underline hover:text-blue-300"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),$a=k.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...a},i)=>{const c=n?Dx:"button";return s.jsx(c,{ref:i,"data-slot":"button",className:An(k8({variant:e,size:r,className:t})),...a})});$a.displayName="Button";var rg="rovingFocusGroup.onEntryFocus",P8={bubbles:!1,cancelable:!0},Ih="RovingFocusGroup",[av,w5,O8]=jw(Ih),[L8,_5]=bd(Ih,[O8]),[T8,R8]=L8(Ih),N5=k.forwardRef((t,e)=>s.jsx(av.Provider,{scope:t.__scopeRovingFocusGroup,children:s.jsx(av.Slot,{scope:t.__scopeRovingFocusGroup,children:s.jsx(D8,{...t,ref:e})})}));N5.displayName=Ih;var D8=k.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...g}=t,w=k.useRef(null),v=Cn(e,w),S=Yv(i),[x,_]=jh({prop:c,defaultProp:u??null,onChange:d,caller:Ih}),[C,L]=k.useState(!1),T=rc(h),R=w5(r),H=k.useRef(!1),[J,Q]=k.useState(0);return k.useEffect(()=>{const D=w.current;if(D)return D.addEventListener(rg,T),()=>D.removeEventListener(rg,T)},[T]),s.jsx(T8,{scope:r,orientation:n,dir:S,loop:a,currentTabStopId:x,onItemFocus:k.useCallback(D=>_(D),[_]),onItemShiftTab:k.useCallback(()=>L(!0),[]),onFocusableItemAdd:k.useCallback(()=>Q(D=>D+1),[]),onFocusableItemRemove:k.useCallback(()=>Q(D=>D-1),[]),children:s.jsx(wr.div,{tabIndex:C||J===0?-1:0,"data-orientation":n,...g,ref:v,style:{outline:"none",...t.style},onMouseDown:mr(t.onMouseDown,()=>{H.current=!0}),onFocus:mr(t.onFocus,D=>{const $=!H.current;if(D.target===D.currentTarget&&$&&!C){const G=new CustomEvent(rg,P8);if(D.currentTarget.dispatchEvent(G),!G.defaultPrevented){const z=R().filter(ae=>ae.focusable),F=z.find(ae=>ae.active),P=z.find(ae=>ae.id===x),fe=[F,P,...z].filter(Boolean).map(ae=>ae.ref.current);E5(fe,p)}}H.current=!1}),onBlur:mr(t.onBlur,()=>L(!1))})})}),j5="RovingFocusGroupItem",S5=k.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:c,...u}=t,d=Zl(),h=i||d,p=R8(j5,r),g=p.currentTabStopId===h,w=w5(r),{onFocusableItemAdd:v,onFocusableItemRemove:S,currentTabStopId:x}=p;return k.useEffect(()=>{if(n)return v(),()=>S()},[n,v,S]),s.jsx(av.ItemSlot,{scope:r,id:h,focusable:n,active:a,children:s.jsx(wr.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...u,ref:e,onMouseDown:mr(t.onMouseDown,_=>{n?p.onItemFocus(h):_.preventDefault()}),onFocus:mr(t.onFocus,()=>p.onItemFocus(h)),onKeyDown:mr(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){p.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const C=M8(_,p.orientation,p.dir);if(C!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let T=w().filter(R=>R.focusable).map(R=>R.ref.current);if(C==="last")T.reverse();else if(C==="prev"||C==="next"){C==="prev"&&T.reverse();const R=T.indexOf(_.currentTarget);T=p.loop?z8(T,R+1):T.slice(R+1)}setTimeout(()=>E5(T))}}),children:typeof c=="function"?c({isCurrentTabStop:g,hasTabStop:x!=null}):c})})});S5.displayName=j5;var I8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function F8(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function M8(t,e,r){const n=F8(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return I8[n]}function E5(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function z8(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var B8=N5,U8=S5,zp="Tabs",[q8]=bd(zp,[_5]),C5=_5(),[$8,s0]=q8(zp),A5=k.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:c="horizontal",dir:u,activationMode:d="automatic",...h}=t,p=Yv(u),[g,w]=jh({prop:n,onChange:a,defaultProp:i??"",caller:zp});return s.jsx($8,{scope:r,baseId:Zl(),value:g,onValueChange:w,orientation:c,dir:p,activationMode:d,children:s.jsx(wr.div,{dir:p,"data-orientation":c,...h,ref:e})})});A5.displayName=zp;var k5="TabsList",P5=k.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...a}=t,i=s0(k5,r),c=C5(r);return s.jsx(B8,{asChild:!0,...c,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(wr.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:e})})});P5.displayName=k5;var O5="TabsTrigger",L5=k.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=t,c=s0(O5,r),u=C5(r),d=D5(c.baseId,n),h=I5(c.baseId,n),p=n===c.value;return s.jsx(U8,{asChild:!0,...u,focusable:!a,active:p,children:s.jsx(wr.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":h,"data-state":p?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d,...i,ref:e,onMouseDown:mr(t.onMouseDown,g=>{!a&&g.button===0&&g.ctrlKey===!1?c.onValueChange(n):g.preventDefault()}),onKeyDown:mr(t.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&c.onValueChange(n)}),onFocus:mr(t.onFocus,()=>{const g=c.activationMode!=="manual";!p&&!a&&g&&c.onValueChange(n)})})})});L5.displayName=O5;var T5="TabsContent",R5=k.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...c}=t,u=s0(T5,r),d=D5(u.baseId,n),h=I5(u.baseId,n),p=n===u.value,g=k.useRef(p);return k.useEffect(()=>{const w=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(w)},[]),s.jsx(Rh,{present:a||p,children:({present:w})=>s.jsx(wr.div,{"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!w,id:h,tabIndex:0,...c,ref:e,style:{...t.style,animationDuration:g.current?"0s":void 0},children:w&&i})})});R5.displayName=T5;function D5(t,e){return`${t}-trigger-${e}`}function I5(t,e){return`${t}-content-${e}`}var V8=A5,W8=P5,H8=L5,G8=R5;function o0({className:t,...e}){return s.jsx(V8,{"data-slot":"tabs",className:An("flex flex-col gap-2",t),...e})}function i0({className:t,...e}){return s.jsx(W8,{"data-slot":"tabs-list",className:An("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...e})}function el({className:t,...e}){return s.jsx(H8,{"data-slot":"tabs-trigger",className:An("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function tl({className:t,...e}){return s.jsx(G8,{"data-slot":"tabs-content",className:An("flex-1 outline-none",t),...e})}function Ir(t){"@babel/helpers - typeof";return Ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ir(t)}var ko=Uint8Array,Os=Uint16Array,l0=Int32Array,c0=new ko([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),u0=new ko([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),q2=new ko([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),F5=function(t,e){for(var r=new Os(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var a=new l0(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},M5=F5(c0,2),K8=M5.b,sv=M5.r;K8[28]=258,sv[258]=28;var Y8=F5(u0,0),$2=Y8.r,ov=new Os(32768);for(var Yr=0;Yr<32768;++Yr){var Vl=(Yr&43690)>>1|(Yr&21845)<<1;Vl=(Vl&52428)>>2|(Vl&13107)<<2,Vl=(Vl&61680)>>4|(Vl&3855)<<4,ov[Yr]=((Vl&65280)>>8|(Vl&255)<<8)>>1}var dh=(function(t,e,r){for(var n=t.length,a=0,i=new Os(e);a<n;++a)t[a]&&++i[t[a]-1];var c=new Os(e);for(a=1;a<e;++a)c[a]=c[a-1]+i[a-1]<<1;var u;if(r){u=new Os(1<<e);var d=15-e;for(a=0;a<n;++a)if(t[a])for(var h=a<<4|t[a],p=e-t[a],g=c[t[a]-1]++<<p,w=g|(1<<p)-1;g<=w;++g)u[ov[g]>>d]=h}else for(u=new Os(n),a=0;a<n;++a)t[a]&&(u[a]=ov[c[t[a]-1]++]>>15-t[a]);return u}),Zc=new ko(288);for(var Yr=0;Yr<144;++Yr)Zc[Yr]=8;for(var Yr=144;Yr<256;++Yr)Zc[Yr]=9;for(var Yr=256;Yr<280;++Yr)Zc[Yr]=7;for(var Yr=280;Yr<288;++Yr)Zc[Yr]=8;var yp=new ko(32);for(var Yr=0;Yr<32;++Yr)yp[Yr]=5;var J8=dh(Zc,9,0),X8=dh(yp,5,0),z5=function(t){return(t+7)/8|0},Q8=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new ko(t.subarray(e,r))},Ki=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},rh=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},ng=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,i=r.slice();if(!a)return{t:U5,l:0};if(a==1){var c=new ko(r[0].s+1);return c[r[0].s]=1,{t:c,l:1}}r.sort(function(H,J){return H.f-J.f}),r.push({s:-1,f:25001});var u=r[0],d=r[1],h=0,p=1,g=2;for(r[0]={s:-1,f:u.f+d.f,l:u,r:d};p!=a-1;)u=r[r[h].f<r[g].f?h++:g++],d=r[h!=p&&r[h].f<r[g].f?h++:g++],r[p++]={s:-1,f:u.f+d.f,l:u,r:d};for(var w=i[0].s,n=1;n<a;++n)i[n].s>w&&(w=i[n].s);var v=new Os(w+1),S=iv(r[p-1],v,0);if(S>e){var n=0,x=0,_=S-e,C=1<<_;for(i.sort(function(J,Q){return v[Q.s]-v[J.s]||J.f-Q.f});n<a;++n){var L=i[n].s;if(v[L]>e)x+=C-(1<<S-v[L]),v[L]=e;else break}for(x>>=_;x>0;){var T=i[n].s;v[T]<e?x-=1<<e-v[T]++-1:++n}for(;n>=0&&x;--n){var R=i[n].s;v[R]==e&&(--v[R],++x)}S=e}return{t:new ko(v),l:S}},iv=function(t,e,r){return t.s==-1?Math.max(iv(t.l,e,r+1),iv(t.r,e,r+1)):e[t.s]=r},V2=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Os(++e),n=0,a=t[0],i=1,c=function(d){r[n++]=d},u=1;u<=e;++u)if(t[u]==a&&u!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)c(32754);i>2&&(c(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(c(a),--i;i>6;i-=6)c(8304);i>2&&(c(i-3<<5|8208),i=0)}for(;i--;)c(a);i=1,a=t[u]}return{c:r.subarray(0,n),n:e}},nh=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},B5=function(t,e,r){var n=r.length,a=z5(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var i=0;i<n;++i)t[a+i+4]=r[i];return(a+4+n)*8},W2=function(t,e,r,n,a,i,c,u,d,h,p){Ki(e,p++,r),++a[256];for(var g=ng(a,15),w=g.t,v=g.l,S=ng(i,15),x=S.t,_=S.l,C=V2(w),L=C.c,T=C.n,R=V2(x),H=R.c,J=R.n,Q=new Os(19),D=0;D<L.length;++D)++Q[L[D]&31];for(var D=0;D<H.length;++D)++Q[H[D]&31];for(var $=ng(Q,7),G=$.t,z=$.l,F=19;F>4&&!G[q2[F-1]];--F);var P=h+5<<3,M=nh(a,Zc)+nh(i,yp)+c,fe=nh(a,w)+nh(i,x)+c+14+3*F+nh(Q,G)+2*Q[16]+3*Q[17]+7*Q[18];if(d>=0&&P<=M&&P<=fe)return B5(e,p,t.subarray(d,d+h));var ae,se,q,me;if(Ki(e,p,1+(fe<M)),p+=2,fe<M){ae=dh(w,v,0),se=w,q=dh(x,_,0),me=x;var Ne=dh(G,z,0);Ki(e,p,T-257),Ki(e,p+5,J-1),Ki(e,p+10,F-4),p+=14;for(var D=0;D<F;++D)Ki(e,p+3*D,G[q2[D]]);p+=3*F;for(var te=[L,H],I=0;I<2;++I)for(var Y=te[I],D=0;D<Y.length;++D){var Z=Y[D]&31;Ki(e,p,Ne[Z]),p+=G[Z],Z>15&&(Ki(e,p,Y[D]>>5&127),p+=Y[D]>>12)}}else ae=J8,se=Zc,q=X8,me=yp;for(var D=0;D<u;++D){var ue=n[D];if(ue>255){var Z=ue>>18&31;rh(e,p,ae[Z+257]),p+=se[Z+257],Z>7&&(Ki(e,p,ue>>23&31),p+=c0[Z]);var ge=ue&31;rh(e,p,q[ge]),p+=me[ge],ge>3&&(rh(e,p,ue>>5&8191),p+=u0[ge])}else rh(e,p,ae[ue]),p+=se[ue]}return rh(e,p,ae[256]),p+se[256]},Z8=new l0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),U5=new ko(0),eO=function(t,e,r,n,a,i){var c=i.z||t.length,u=new ko(n+c+5*(1+Math.ceil(c/7e3))+a),d=u.subarray(n,u.length-a),h=i.l,p=(i.r||0)&7;if(e){p&&(d[0]=i.r>>3);for(var g=Z8[e-1],w=g>>13,v=g&8191,S=(1<<r)-1,x=i.p||new Os(32768),_=i.h||new Os(S+1),C=Math.ceil(r/3),L=2*C,T=function(Fe){return(t[Fe]^t[Fe+1]<<C^t[Fe+2]<<L)&S},R=new l0(25e3),H=new Os(288),J=new Os(32),Q=0,D=0,$=i.i||0,G=0,z=i.w||0,F=0;$+2<c;++$){var P=T($),M=$&32767,fe=_[P];if(x[M]=fe,_[P]=M,z<=$){var ae=c-$;if((Q>7e3||G>24576)&&(ae>423||!h)){p=W2(t,d,0,R,H,J,D,G,F,$-F,p),G=Q=D=0,F=$;for(var se=0;se<286;++se)H[se]=0;for(var se=0;se<30;++se)J[se]=0}var q=2,me=0,Ne=v,te=M-fe&32767;if(ae>2&&P==T($-te))for(var I=Math.min(w,ae)-1,Y=Math.min(32767,$),Z=Math.min(258,ae);te<=Y&&--Ne&&M!=fe;){if(t[$+q]==t[$+q-te]){for(var ue=0;ue<Z&&t[$+ue]==t[$+ue-te];++ue);if(ue>q){if(q=ue,me=te,ue>I)break;for(var ge=Math.min(te,ue-2),le=0,se=0;se<ge;++se){var xe=$-te+se&32767,ye=x[xe],ke=xe-ye&32767;ke>le&&(le=ke,fe=xe)}}}M=fe,fe=x[M],te+=M-fe&32767}if(me){R[G++]=268435456|sv[q]<<18|$2[me];var De=sv[q]&31,He=$2[me]&31;D+=c0[De]+u0[He],++H[257+De],++J[He],z=$+q,++Q}else R[G++]=t[$],++H[t[$]]}}for($=Math.max($,z);$<c;++$)R[G++]=t[$],++H[t[$]];p=W2(t,d,h,R,H,J,D,G,F,$-F,p),h||(i.r=p&7|d[p/8|0]<<3,p-=7,i.h=_,i.p=x,i.i=$,i.w=z)}else{for(var $=i.w||0;$<c+h;$+=65535){var tt=$+65535;tt>=c&&(d[p/8|0]=h,tt=c),p=B5(d,p+1,t.subarray($,tt))}i.i=c}return Q8(u,0,n+z5(p)+a)},q5=function(){var t=1,e=0;return{p:function(r){for(var n=t,a=e,i=r.length|0,c=0;c!=i;){for(var u=Math.min(c+2655,i);c<u;++c)a+=n+=r[c];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},tO=function(t,e,r,n,a){if(!a&&(a={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),c=new ko(i.length+t.length);c.set(i),c.set(t,i.length),t=c,a.w=i.length}return eO(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,a)},$5=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},rO=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=q5();a.p(e.dictionary),$5(t,2,a.d())}};function lv(t,e){e||(e={});var r=q5();r.p(t);var n=tO(t,e,e.dictionary?6:2,4);return rO(n,e),$5(n,n.length-4,r.d()),n}var nO=typeof TextDecoder<"u"&&new TextDecoder,aO=0;try{nO.decode(U5,{stream:!0}),aO=1}catch{}function sO(t){if(Array.isArray(t))return t}function oO(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,c,u=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(h)throw a}}return u}}function H2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function iO(t,e){if(t){if(typeof t=="string")return H2(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?H2(t,e):void 0}}function lO(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G2(t,e){return sO(t)||oO(t,e)||iO(t,e)||lO()}function K2(t,e="utf8"){return new TextDecoder(e).decode(t)}const cO=new TextEncoder;function uO(t){return cO.encode(t)}const dO=1024*8,hO=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),ag={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class d0{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=dO,r={}){let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const a=r.offset?r.offset>>>0:0,i=e.byteLength-a;let c=a;(ArrayBuffer.isView(e)||e instanceof d0)&&(e.byteLength!==e.buffer.byteLength&&(c=e.byteOffset+a),e=e.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=ag[r].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+n);if(this.littleEndian===hO&&r!=="uint8"&&r!=="int8"){const u=new Uint8Array(this.buffer.slice(a,a+n));u.reverse();const d=new ag[r](u.buffer);return this.offset+=n,d.reverse(),d}const c=new ag[r](i);return this.offset+=n,c}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return K2(this.readBytes(e))}decodeText(e=1,r="utf8"){return K2(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(uO(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Sd(t){let e=t.length;for(;--e>=0;)t[e]=0}const fO=3,pO=258,V5=29,mO=256,gO=mO+1+V5,W5=30,vO=512,yO=new Array((gO+2)*2);Sd(yO);const bO=new Array(W5*2);Sd(bO);const xO=new Array(vO);Sd(xO);const wO=new Array(pO-fO+1);Sd(wO);const _O=new Array(V5);Sd(_O);const NO=new Array(W5);Sd(NO);const jO=(t,e,r,n)=>{let a=t&65535|0,i=t>>>16&65535|0,c=0;for(;r!==0;){c=r>2e3?2e3:r,r-=c;do a=a+e[n++]|0,i=i+a|0;while(--c);a%=65521,i%=65521}return a|i<<16|0};var cv=jO;const SO=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},EO=new Uint32Array(SO()),CO=(t,e,r,n)=>{const a=EO,i=n+r;t^=-1;for(let c=n;c<i;c++)t=t>>>8^a[(t^e[c])&255];return t^-1};var Zo=CO,uv={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},H5={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const AO=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var kO=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)AO(r,n)&&(t[n]=r[n])}}return t},PO=t=>{let e=0;for(let n=0,a=t.length;n<a;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,a=0,i=t.length;n<i;n++){let c=t[n];r.set(c,a),a+=c.length}return r},G5={assign:kO,flattenChunks:PO};let K5=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{K5=!1}const Ch=new Uint8Array(256);for(let t=0;t<256;t++)Ch[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Ch[254]=Ch[254]=1;var OO=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,a,i,c=t.length,u=0;for(a=0;a<c;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<c&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),u+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(u),i=0,a=0;i<u;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<c&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?e[i++]=r:r<2048?(e[i++]=192|r>>>6,e[i++]=128|r&63):r<65536?(e[i++]=224|r>>>12,e[i++]=128|r>>>6&63,e[i++]=128|r&63):(e[i++]=240|r>>>18,e[i++]=128|r>>>12&63,e[i++]=128|r>>>6&63,e[i++]=128|r&63);return e};const LO=(t,e)=>{if(e<65534&&t.subarray&&K5)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var TO=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,a;const i=new Array(r*2);for(a=0,n=0;n<r;){let c=t[n++];if(c<128){i[a++]=c;continue}let u=Ch[c];if(u>4){i[a++]=65533,n+=u-1;continue}for(c&=u===2?31:u===3?15:7;u>1&&n<r;)c=c<<6|t[n++]&63,u--;if(u>1){i[a++]=65533;continue}c<65536?i[a++]=c:(c-=65536,i[a++]=55296|c>>10&1023,i[a++]=56320|c&1023)}return LO(i,a)},RO=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Ch[t[r]]>e?r:e},dv={string2buf:OO,buf2string:TO,utf8border:RO};function DO(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var IO=DO;const zf=16209,FO=16191;var MO=function(e,r){let n,a,i,c,u,d,h,p,g,w,v,S,x,_,C,L,T,R,H,J,Q,D,$,G;const z=e.state;n=e.next_in,$=e.input,a=n+(e.avail_in-5),i=e.next_out,G=e.output,c=i-(r-e.avail_out),u=i+(e.avail_out-257),d=z.dmax,h=z.wsize,p=z.whave,g=z.wnext,w=z.window,v=z.hold,S=z.bits,x=z.lencode,_=z.distcode,C=(1<<z.lenbits)-1,L=(1<<z.distbits)-1;e:do{S<15&&(v+=$[n++]<<S,S+=8,v+=$[n++]<<S,S+=8),T=x[v&C];t:for(;;){if(R=T>>>24,v>>>=R,S-=R,R=T>>>16&255,R===0)G[i++]=T&65535;else if(R&16){H=T&65535,R&=15,R&&(S<R&&(v+=$[n++]<<S,S+=8),H+=v&(1<<R)-1,v>>>=R,S-=R),S<15&&(v+=$[n++]<<S,S+=8,v+=$[n++]<<S,S+=8),T=_[v&L];r:for(;;){if(R=T>>>24,v>>>=R,S-=R,R=T>>>16&255,R&16){if(J=T&65535,R&=15,S<R&&(v+=$[n++]<<S,S+=8,S<R&&(v+=$[n++]<<S,S+=8)),J+=v&(1<<R)-1,J>d){e.msg="invalid distance too far back",z.mode=zf;break e}if(v>>>=R,S-=R,R=i-c,J>R){if(R=J-R,R>p&&z.sane){e.msg="invalid distance too far back",z.mode=zf;break e}if(Q=0,D=w,g===0){if(Q+=h-R,R<H){H-=R;do G[i++]=w[Q++];while(--R);Q=i-J,D=G}}else if(g<R){if(Q+=h+g-R,R-=g,R<H){H-=R;do G[i++]=w[Q++];while(--R);if(Q=0,g<H){R=g,H-=R;do G[i++]=w[Q++];while(--R);Q=i-J,D=G}}}else if(Q+=g-R,R<H){H-=R;do G[i++]=w[Q++];while(--R);Q=i-J,D=G}for(;H>2;)G[i++]=D[Q++],G[i++]=D[Q++],G[i++]=D[Q++],H-=3;H&&(G[i++]=D[Q++],H>1&&(G[i++]=D[Q++]))}else{Q=i-J;do G[i++]=G[Q++],G[i++]=G[Q++],G[i++]=G[Q++],H-=3;while(H>2);H&&(G[i++]=G[Q++],H>1&&(G[i++]=G[Q++]))}}else if((R&64)===0){T=_[(T&65535)+(v&(1<<R)-1)];continue r}else{e.msg="invalid distance code",z.mode=zf;break e}break}}else if((R&64)===0){T=x[(T&65535)+(v&(1<<R)-1)];continue t}else if(R&32){z.mode=FO;break e}else{e.msg="invalid literal/length code",z.mode=zf;break e}break}}while(n<a&&i<u);H=S>>3,n-=H,S-=H<<3,v&=(1<<S)-1,e.next_in=n,e.next_out=i,e.avail_in=n<a?5+(a-n):5-(n-a),e.avail_out=i<u?257+(u-i):257-(i-u),z.hold=v,z.bits=S};const Wu=15,Y2=852,J2=592,X2=0,sg=1,Q2=2,zO=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),BO=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),UO=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),qO=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),$O=(t,e,r,n,a,i,c,u)=>{const d=u.bits;let h=0,p=0,g=0,w=0,v=0,S=0,x=0,_=0,C=0,L=0,T,R,H,J,Q,D=null,$;const G=new Uint16Array(Wu+1),z=new Uint16Array(Wu+1);let F=null,P,M,fe;for(h=0;h<=Wu;h++)G[h]=0;for(p=0;p<n;p++)G[e[r+p]]++;for(v=d,w=Wu;w>=1&&G[w]===0;w--);if(v>w&&(v=w),w===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,u.bits=1,0;for(g=1;g<w&&G[g]===0;g++);for(v<g&&(v=g),_=1,h=1;h<=Wu;h++)if(_<<=1,_-=G[h],_<0)return-1;if(_>0&&(t===X2||w!==1))return-1;for(z[1]=0,h=1;h<Wu;h++)z[h+1]=z[h]+G[h];for(p=0;p<n;p++)e[r+p]!==0&&(c[z[e[r+p]]++]=p);if(t===X2?(D=F=c,$=20):t===sg?(D=zO,F=BO,$=257):(D=UO,F=qO,$=0),L=0,p=0,h=g,Q=i,S=v,x=0,H=-1,C=1<<v,J=C-1,t===sg&&C>Y2||t===Q2&&C>J2)return 1;for(;;){P=h-x,c[p]+1<$?(M=0,fe=c[p]):c[p]>=$?(M=F[c[p]-$],fe=D[c[p]-$]):(M=96,fe=0),T=1<<h-x,R=1<<S,g=R;do R-=T,a[Q+(L>>x)+R]=P<<24|M<<16|fe|0;while(R!==0);for(T=1<<h-1;L&T;)T>>=1;if(T!==0?(L&=T-1,L+=T):L=0,p++,--G[h]===0){if(h===w)break;h=e[r+c[p]]}if(h>v&&(L&J)!==H){for(x===0&&(x=v),Q+=g,S=h-x,_=1<<S;S+x<w&&(_-=G[S+x],!(_<=0));)S++,_<<=1;if(C+=1<<S,t===sg&&C>Y2||t===Q2&&C>J2)return 1;H=L&J,a[H]=v<<24|S<<16|Q-i|0}}return L!==0&&(a[Q+L]=h-x<<24|64<<16|0),u.bits=v,0};var hh=$O;const VO=0,Y5=1,J5=2,{Z_FINISH:Z2,Z_BLOCK:WO,Z_TREES:Bf,Z_OK:eu,Z_STREAM_END:HO,Z_NEED_DICT:GO,Z_STREAM_ERROR:Xs,Z_DATA_ERROR:X5,Z_MEM_ERROR:Q5,Z_BUF_ERROR:KO,Z_DEFLATED:ey}=H5,Bp=16180,ty=16181,ry=16182,ny=16183,ay=16184,sy=16185,oy=16186,iy=16187,ly=16188,cy=16189,bp=16190,Yi=16191,og=16192,uy=16193,ig=16194,dy=16195,hy=16196,fy=16197,py=16198,Uf=16199,qf=16200,my=16201,gy=16202,vy=16203,yy=16204,by=16205,lg=16206,xy=16207,wy=16208,rn=16209,Z5=16210,e_=16211,YO=852,JO=592,XO=15,QO=XO,_y=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function ZO(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ru=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Bp||e.mode>e_?1:0},t_=t=>{if(ru(t))return Xs;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Bp,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(YO),e.distcode=e.distdyn=new Int32Array(JO),e.sane=1,e.back=-1,eu},r_=t=>{if(ru(t))return Xs;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,t_(t)},n_=(t,e)=>{let r;if(ru(t))return Xs;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Xs:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,r_(t))},a_=(t,e)=>{if(!t)return Xs;const r=new ZO;t.state=r,r.strm=t,r.window=null,r.mode=Bp;const n=n_(t,e);return n!==eu&&(t.state=null),n},eL=t=>a_(t,QO);let Ny=!0,cg,ug;const tL=t=>{if(Ny){cg=new Int32Array(512),ug=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(hh(Y5,t.lens,0,288,cg,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;hh(J5,t.lens,0,32,ug,0,t.work,{bits:5}),Ny=!1}t.lencode=cg,t.lenbits=9,t.distcode=ug,t.distbits=5},s_=(t,e,r,n)=>{let a;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(e.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),i.window.set(e.subarray(r-n,r-n+a),i.wnext),n-=a,n?(i.window.set(e.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},rL=(t,e)=>{let r,n,a,i,c,u,d,h,p,g,w,v,S,x,_=0,C,L,T,R,H,J,Q,D;const $=new Uint8Array(4);let G,z;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ru(t)||!t.output||!t.input&&t.avail_in!==0)return Xs;r=t.state,r.mode===Yi&&(r.mode=og),c=t.next_out,a=t.output,d=t.avail_out,i=t.next_in,n=t.input,u=t.avail_in,h=r.hold,p=r.bits,g=u,w=d,D=eu;e:for(;;)switch(r.mode){case Bp:if(r.wrap===0){r.mode=og;break}for(;p<16;){if(u===0)break e;u--,h+=n[i++]<<p,p+=8}if(r.wrap&2&&h===35615){r.wbits===0&&(r.wbits=15),r.check=0,$[0]=h&255,$[1]=h>>>8&255,r.check=Zo(r.check,$,2,0),h=0,p=0,r.mode=ty;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((h&255)<<8)+(h>>8))%31){t.msg="incorrect header check",r.mode=rn;break}if((h&15)!==ey){t.msg="unknown compression method",r.mode=rn;break}if(h>>>=4,p-=4,Q=(h&15)+8,r.wbits===0&&(r.wbits=Q),Q>15||Q>r.wbits){t.msg="invalid window size",r.mode=rn;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=h&512?cy:Yi,h=0,p=0;break;case ty:for(;p<16;){if(u===0)break e;u--,h+=n[i++]<<p,p+=8}if(r.flags=h,(r.flags&255)!==ey){t.msg="unknown compression method",r.mode=rn;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=rn;break}r.head&&(r.head.text=h>>8&1),r.flags&512&&r.wrap&4&&($[0]=h&255,$[1]=h>>>8&255,r.check=Zo(r.check,$,2,0)),h=0,p=0,r.mode=ry;case ry:for(;p<32;){if(u===0)break e;u--,h+=n[i++]<<p,p+=8}r.head&&(r.head.time=h),r.flags&512&&r.wrap&4&&($[0]=h&255,$[1]=h>>>8&255,$[2]=h>>>16&255,$[3]=h>>>24&255,r.check=Zo(r.check,$,4,0)),h=0,p=0,r.mode=ny;case ny:for(;p<16;){if(u===0)break e;u--,h+=n[i++]<<p,p+=8}r.head&&(r.head.xflags=h&255,r.head.os=h>>8),r.flags&512&&r.wrap&4&&($[0]=h&255,$[1]=h>>>8&255,r.check=Zo(r.check,$,2,0)),h=0,p=0,r.mode=ay;case ay:if(r.flags&1024){for(;p<16;){if(u===0)break e;u--,h+=n[i++]<<p,p+=8}r.length=h,r.head&&(r.head.extra_len=h),r.flags&512&&r.wrap&4&&($[0]=h&255,$[1]=h>>>8&255,r.check=Zo(r.check,$,2,0)),h=0,p=0}else r.head&&(r.head.extra=null);r.mode=sy;case sy:if(r.flags&1024&&(v=r.length,v>u&&(v=u),v&&(r.head&&(Q=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+v),Q)),r.flags&512&&r.wrap&4&&(r.check=Zo(r.check,n,v,i)),u-=v,i+=v,r.length-=v),r.length))break e;r.length=0,r.mode=oy;case oy:if(r.flags&2048){if(u===0)break e;v=0;do Q=n[i+v++],r.head&&Q&&r.length<65536&&(r.head.name+=String.fromCharCode(Q));while(Q&&v<u);if(r.flags&512&&r.wrap&4&&(r.check=Zo(r.check,n,v,i)),u-=v,i+=v,Q)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=iy;case iy:if(r.flags&4096){if(u===0)break e;v=0;do Q=n[i+v++],r.head&&Q&&r.length<65536&&(r.head.comment+=String.fromCharCode(Q));while(Q&&v<u);if(r.flags&512&&r.wrap&4&&(r.check=Zo(r.check,n,v,i)),u-=v,i+=v,Q)break e}else r.head&&(r.head.comment=null);r.mode=ly;case ly:if(r.flags&512){for(;p<16;){if(u===0)break e;u--,h+=n[i++]<<p,p+=8}if(r.wrap&4&&h!==(r.check&65535)){t.msg="header crc mismatch",r.mode=rn;break}h=0,p=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Yi;break;case cy:for(;p<32;){if(u===0)break e;u--,h+=n[i++]<<p,p+=8}t.adler=r.check=_y(h),h=0,p=0,r.mode=bp;case bp:if(r.havedict===0)return t.next_out=c,t.avail_out=d,t.next_in=i,t.avail_in=u,r.hold=h,r.bits=p,GO;t.adler=r.check=1,r.mode=Yi;case Yi:if(e===WO||e===Bf)break e;case og:if(r.last){h>>>=p&7,p-=p&7,r.mode=lg;break}for(;p<3;){if(u===0)break e;u--,h+=n[i++]<<p,p+=8}switch(r.last=h&1,h>>>=1,p-=1,h&3){case 0:r.mode=uy;break;case 1:if(tL(r),r.mode=Uf,e===Bf){h>>>=2,p-=2;break e}break;case 2:r.mode=hy;break;case 3:t.msg="invalid block type",r.mode=rn}h>>>=2,p-=2;break;case uy:for(h>>>=p&7,p-=p&7;p<32;){if(u===0)break e;u--,h+=n[i++]<<p,p+=8}if((h&65535)!==(h>>>16^65535)){t.msg="invalid stored block lengths",r.mode=rn;break}if(r.length=h&65535,h=0,p=0,r.mode=ig,e===Bf)break e;case ig:r.mode=dy;case dy:if(v=r.length,v){if(v>u&&(v=u),v>d&&(v=d),v===0)break e;a.set(n.subarray(i,i+v),c),u-=v,i+=v,d-=v,c+=v,r.length-=v;break}r.mode=Yi;break;case hy:for(;p<14;){if(u===0)break e;u--,h+=n[i++]<<p,p+=8}if(r.nlen=(h&31)+257,h>>>=5,p-=5,r.ndist=(h&31)+1,h>>>=5,p-=5,r.ncode=(h&15)+4,h>>>=4,p-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=rn;break}r.have=0,r.mode=fy;case fy:for(;r.have<r.ncode;){for(;p<3;){if(u===0)break e;u--,h+=n[i++]<<p,p+=8}r.lens[F[r.have++]]=h&7,h>>>=3,p-=3}for(;r.have<19;)r.lens[F[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,G={bits:r.lenbits},D=hh(VO,r.lens,0,19,r.lencode,0,r.work,G),r.lenbits=G.bits,D){t.msg="invalid code lengths set",r.mode=rn;break}r.have=0,r.mode=py;case py:for(;r.have<r.nlen+r.ndist;){for(;_=r.lencode[h&(1<<r.lenbits)-1],C=_>>>24,L=_>>>16&255,T=_&65535,!(C<=p);){if(u===0)break e;u--,h+=n[i++]<<p,p+=8}if(T<16)h>>>=C,p-=C,r.lens[r.have++]=T;else{if(T===16){for(z=C+2;p<z;){if(u===0)break e;u--,h+=n[i++]<<p,p+=8}if(h>>>=C,p-=C,r.have===0){t.msg="invalid bit length repeat",r.mode=rn;break}Q=r.lens[r.have-1],v=3+(h&3),h>>>=2,p-=2}else if(T===17){for(z=C+3;p<z;){if(u===0)break e;u--,h+=n[i++]<<p,p+=8}h>>>=C,p-=C,Q=0,v=3+(h&7),h>>>=3,p-=3}else{for(z=C+7;p<z;){if(u===0)break e;u--,h+=n[i++]<<p,p+=8}h>>>=C,p-=C,Q=0,v=11+(h&127),h>>>=7,p-=7}if(r.have+v>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=rn;break}for(;v--;)r.lens[r.have++]=Q}}if(r.mode===rn)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=rn;break}if(r.lenbits=9,G={bits:r.lenbits},D=hh(Y5,r.lens,0,r.nlen,r.lencode,0,r.work,G),r.lenbits=G.bits,D){t.msg="invalid literal/lengths set",r.mode=rn;break}if(r.distbits=6,r.distcode=r.distdyn,G={bits:r.distbits},D=hh(J5,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,G),r.distbits=G.bits,D){t.msg="invalid distances set",r.mode=rn;break}if(r.mode=Uf,e===Bf)break e;case Uf:r.mode=qf;case qf:if(u>=6&&d>=258){t.next_out=c,t.avail_out=d,t.next_in=i,t.avail_in=u,r.hold=h,r.bits=p,MO(t,w),c=t.next_out,a=t.output,d=t.avail_out,i=t.next_in,n=t.input,u=t.avail_in,h=r.hold,p=r.bits,r.mode===Yi&&(r.back=-1);break}for(r.back=0;_=r.lencode[h&(1<<r.lenbits)-1],C=_>>>24,L=_>>>16&255,T=_&65535,!(C<=p);){if(u===0)break e;u--,h+=n[i++]<<p,p+=8}if(L&&(L&240)===0){for(R=C,H=L,J=T;_=r.lencode[J+((h&(1<<R+H)-1)>>R)],C=_>>>24,L=_>>>16&255,T=_&65535,!(R+C<=p);){if(u===0)break e;u--,h+=n[i++]<<p,p+=8}h>>>=R,p-=R,r.back+=R}if(h>>>=C,p-=C,r.back+=C,r.length=T,L===0){r.mode=by;break}if(L&32){r.back=-1,r.mode=Yi;break}if(L&64){t.msg="invalid literal/length code",r.mode=rn;break}r.extra=L&15,r.mode=my;case my:if(r.extra){for(z=r.extra;p<z;){if(u===0)break e;u--,h+=n[i++]<<p,p+=8}r.length+=h&(1<<r.extra)-1,h>>>=r.extra,p-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=gy;case gy:for(;_=r.distcode[h&(1<<r.distbits)-1],C=_>>>24,L=_>>>16&255,T=_&65535,!(C<=p);){if(u===0)break e;u--,h+=n[i++]<<p,p+=8}if((L&240)===0){for(R=C,H=L,J=T;_=r.distcode[J+((h&(1<<R+H)-1)>>R)],C=_>>>24,L=_>>>16&255,T=_&65535,!(R+C<=p);){if(u===0)break e;u--,h+=n[i++]<<p,p+=8}h>>>=R,p-=R,r.back+=R}if(h>>>=C,p-=C,r.back+=C,L&64){t.msg="invalid distance code",r.mode=rn;break}r.offset=T,r.extra=L&15,r.mode=vy;case vy:if(r.extra){for(z=r.extra;p<z;){if(u===0)break e;u--,h+=n[i++]<<p,p+=8}r.offset+=h&(1<<r.extra)-1,h>>>=r.extra,p-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=rn;break}r.mode=yy;case yy:if(d===0)break e;if(v=w-d,r.offset>v){if(v=r.offset-v,v>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=rn;break}v>r.wnext?(v-=r.wnext,S=r.wsize-v):S=r.wnext-v,v>r.length&&(v=r.length),x=r.window}else x=a,S=c-r.offset,v=r.length;v>d&&(v=d),d-=v,r.length-=v;do a[c++]=x[S++];while(--v);r.length===0&&(r.mode=qf);break;case by:if(d===0)break e;a[c++]=r.length,d--,r.mode=qf;break;case lg:if(r.wrap){for(;p<32;){if(u===0)break e;u--,h|=n[i++]<<p,p+=8}if(w-=d,t.total_out+=w,r.total+=w,r.wrap&4&&w&&(t.adler=r.check=r.flags?Zo(r.check,a,w,c-w):cv(r.check,a,w,c-w)),w=d,r.wrap&4&&(r.flags?h:_y(h))!==r.check){t.msg="incorrect data check",r.mode=rn;break}h=0,p=0}r.mode=xy;case xy:if(r.wrap&&r.flags){for(;p<32;){if(u===0)break e;u--,h+=n[i++]<<p,p+=8}if(r.wrap&4&&h!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=rn;break}h=0,p=0}r.mode=wy;case wy:D=HO;break e;case rn:D=X5;break e;case Z5:return Q5;case e_:default:return Xs}return t.next_out=c,t.avail_out=d,t.next_in=i,t.avail_in=u,r.hold=h,r.bits=p,(r.wsize||w!==t.avail_out&&r.mode<rn&&(r.mode<lg||e!==Z2))&&s_(t,t.output,t.next_out,w-t.avail_out),g-=t.avail_in,w-=t.avail_out,t.total_in+=g,t.total_out+=w,r.total+=w,r.wrap&4&&w&&(t.adler=r.check=r.flags?Zo(r.check,a,w,t.next_out-w):cv(r.check,a,w,t.next_out-w)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Yi?128:0)+(r.mode===Uf||r.mode===ig?256:0),(g===0&&w===0||e===Z2)&&D===eu&&(D=KO),D},nL=t=>{if(ru(t))return Xs;let e=t.state;return e.window&&(e.window=null),t.state=null,eu},aL=(t,e)=>{if(ru(t))return Xs;const r=t.state;return(r.wrap&2)===0?Xs:(r.head=e,e.done=!1,eu)},sL=(t,e)=>{const r=e.length;let n,a,i;return ru(t)||(n=t.state,n.wrap!==0&&n.mode!==bp)?Xs:n.mode===bp&&(a=1,a=cv(a,e,r,0),a!==n.check)?X5:(i=s_(t,e,r,r),i?(n.mode=Z5,Q5):(n.havedict=1,eu))};var oL=r_,iL=n_,lL=t_,cL=eL,uL=a_,dL=rL,hL=nL,fL=aL,pL=sL,mL="pako inflate (from Nodeca project)",Zi={inflateReset:oL,inflateReset2:iL,inflateResetKeep:lL,inflateInit:cL,inflateInit2:uL,inflate:dL,inflateEnd:hL,inflateGetHeader:fL,inflateSetDictionary:pL,inflateInfo:mL};function gL(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var vL=gL;const o_=Object.prototype.toString,{Z_NO_FLUSH:yL,Z_FINISH:bL,Z_OK:Ah,Z_STREAM_END:dg,Z_NEED_DICT:hg,Z_STREAM_ERROR:xL,Z_DATA_ERROR:jy,Z_MEM_ERROR:wL}=H5;function Fh(t){this.options=G5.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new IO,this.strm.avail_out=0;let r=Zi.inflateInit2(this.strm,e.windowBits);if(r!==Ah)throw new Error(uv[r]);if(this.header=new vL,Zi.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=dv.string2buf(e.dictionary):o_.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Zi.inflateSetDictionary(this.strm,e.dictionary),r!==Ah)))throw new Error(uv[r])}Fh.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let i,c,u;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?bL:yL,o_.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=Zi.inflate(r,c),i===hg&&a&&(i=Zi.inflateSetDictionary(r,a),i===Ah?i=Zi.inflate(r,c):i===jy&&(i=hg));r.avail_in>0&&i===dg&&r.state.wrap>0&&t[r.next_in]!==0;)Zi.inflateReset(r),i=Zi.inflate(r,c);switch(i){case xL:case jy:case hg:case wL:return this.onEnd(i),this.ended=!0,!1}if(u=r.avail_out,r.next_out&&(r.avail_out===0||i===dg))if(this.options.to==="string"){let d=dv.utf8border(r.output,r.next_out),h=r.next_out-d,p=dv.buf2string(r.output,d);r.next_out=h,r.avail_out=n-h,h&&r.output.set(r.output.subarray(d,d+h),0),this.onData(p)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===Ah&&u===0)){if(i===dg)return i=Zi.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Fh.prototype.onData=function(t){this.chunks.push(t)};Fh.prototype.onEnd=function(t){t===Ah&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=G5.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function _L(t,e){const r=new Fh(e);if(r.push(t),r.err)throw r.msg||uv[r.err];return r.result}var NL=Fh,jL=_L,SL={Inflate:NL,inflate:jL};const{Inflate:EL,inflate:CL}=SL;var Sy=EL,AL=CL;const i_=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;i_[t]=e}const Ey=4294967295;function kL(t,e,r){let n=t;for(let a=0;a<r;a++)n=i_[(n^e[a])&255]^n>>>8;return n}function PL(t,e){return(kL(Ey,t,e)^Ey)>>>0}function Cy(t,e,r){const n=t.readUint32(),a=PL(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function l_(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function c_(t,e,r,n){let a=0;for(;a<n;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+e[a-n]&255}function u_(t,e,r,n){let a=0;if(r.length===0)for(;a<n;a++)e[a]=t[a];else for(;a<n;a++)e[a]=t[a]+r[a]&255}function d_(t,e,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+(e[i-a]>>1)&255}else{for(;i<a;i++)e[i]=t[i]+(r[i]>>1)&255;for(;i<n;i++)e[i]=t[i]+(e[i-a]+r[i]>>1)&255}}function h_(t,e,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-a]&255}else{for(;i<a;i++)e[i]=t[i]+r[i]&255;for(;i<n;i++)e[i]=t[i]+OL(e[i-a],r[i],r[i-a])&255}}function OL(t,e,r){const n=t+e-r,a=Math.abs(n-t),i=Math.abs(n-e),c=Math.abs(n-r);return a<=i&&a<=c?t:i<=c?e:r}function LL(t,e,r,n,a,i){switch(t){case 0:l_(e,r,a);break;case 1:c_(e,r,a,i);break;case 2:u_(e,r,n,a);break;case 3:d_(e,r,n,a,i);break;case 4:h_(e,r,n,a,i);break;default:throw new Error(`Unsupported filter: ${t}`)}}const TL=new Uint16Array([255]),RL=new Uint8Array(TL.buffer),DL=RL[0]===255;function IL(t){const{data:e,width:r,height:n,channels:a,depth:i}=t,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],u=Math.ceil(i/8)*a,d=new Uint8Array(n*r*u);let h=0;for(let p=0;p<7;p++){const g=c[p],w=Math.ceil((r-g.x)/g.xStep),v=Math.ceil((n-g.y)/g.yStep);if(w<=0||v<=0)continue;const S=w*u,x=new Uint8Array(S);for(let _=0;_<v;_++){const C=e[h++],L=e.subarray(h,h+S);h+=S;const T=new Uint8Array(S);LL(C,L,T,x,S,u),x.set(T);for(let R=0;R<w;R++){const H=g.x+R*g.xStep,J=g.y+_*g.yStep;if(!(H>=r||J>=n))for(let Q=0;Q<u;Q++)d[(J*r+H)*u+Q]=T[R*u+Q]}}}if(i===16){const p=new Uint16Array(d.buffer);if(DL)for(let g=0;g<p.length;g++)p[g]=FL(p[g]);return p}else return d}function FL(t){return(t&255)<<8|t>>8&255}const ML=new Uint16Array([255]),zL=new Uint8Array(ML.buffer),BL=zL[0]===255,UL=new Uint8Array(0);function Ay(t){const{data:e,width:r,height:n,channels:a,depth:i}=t,c=Math.ceil(i/8)*a,u=Math.ceil(i/8*a*r),d=new Uint8Array(n*u);let h=UL,p=0,g,w;for(let v=0;v<n;v++){switch(g=e.subarray(p+1,p+1+u),w=d.subarray(v*u,(v+1)*u),e[p]){case 0:l_(g,w,u);break;case 1:c_(g,w,u,c);break;case 2:u_(g,w,h,u);break;case 3:d_(g,w,h,u,c);break;case 4:h_(g,w,h,u,c);break;default:throw new Error(`Unsupported filter: ${e[p]}`)}h=w,p+=u+1}if(i===16){const v=new Uint16Array(d.buffer);if(BL)for(let S=0;S<v.length;S++)v[S]=qL(v[S]);return v}else return d}function qL(t){return(t&255)<<8|t>>8&255}const ep=Uint8Array.of(137,80,78,71,13,10,26,10);function ky(t){if(!$L(t.readBytes(ep.length)))throw new Error("wrong PNG signature")}function $L(t){if(t.length<ep.length)return!1;for(let e=0;e<ep.length;e++)if(t[e]!==ep[e])return!1;return!0}const VL="tEXt",WL=0,f_=new TextDecoder("latin1");function HL(t){if(KL(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const GL=/^[\u0000-\u00FF]*$/;function KL(t){if(!GL.test(t))throw new Error("invalid latin1 text")}function YL(t,e,r){const n=p_(e);t[n]=JL(e,r-n.length-1)}function p_(t){for(t.mark();t.readByte()!==WL;);const e=t.offset;t.reset();const r=f_.decode(t.readBytes(e-t.offset-1));return t.skip(1),HL(r),r}function JL(t,e){return f_.decode(t.readBytes(e))}const Ns={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},fg={UNKNOWN:-1,DEFLATE:0},Py={UNKNOWN:-1,ADAPTIVE:0},pg={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},$f={NONE:0,BACKGROUND:1,PREVIOUS:2},mg={SOURCE:0,OVER:1};class XL extends d0{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,r={}){super(e);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new Sy,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=fg.UNKNOWN,this._filterMethod=Py.UNKNOWN,this._interlaceMethod=pg.UNKNOWN,this._colorType=Ns.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(ky(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeChunk(e,r)}return this.decodeImage(),this._png}decodeApng(){for(ky(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(e,r)}return this.decodeApngImage(),this._apng}decodeChunk(e,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case VL:YL(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Cy(this,e+4,r):this.skip(4)}decodeApngChunk(e,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,r),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Cy(this,e+4,r):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=QL(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case Ns.GREYSCALE:n=1;break;case Ns.TRUECOLOUR:n=3;break;case Ns.INDEXED_COLOUR:n=1;break;case Ns.GREYSCALE_ALPHA:n=2;break;case Ns.TRUECOLOUR_ALPHA:n=4;break;case Ns.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==fg.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const r=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let a=0;a<r;a++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const r=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let r=e,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Ns.GREYSCALE:case Ns.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let r=0;r<e/2;r++)this._transparency[r]=this.readUint16();break}case Ns.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let r=0;for(;r<e;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Ns.UNKNOWN:case Ns.GREYSCALE_ALPHA:case Ns.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const r=p_(this),n=this.readUint8();if(n!==fg.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const a=this.readBytes(e-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:AL(a)}}decodepHYs(){const e=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const r={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=Ay({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(n,a,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(e,r,n){switch(e.disposeOp){case $f.NONE:break;case $f.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let i=0;i<this._png.width;i++){const c=(a*e.width+i)*this._png.channels;for(let u=0;u<this._png.channels;u++)n.data[c+u]=0}break;case $f.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,r){const n=1<<this._png.depth,a=(i,c)=>{const u=((i+r.yOffset)*this._png.width+r.xOffset+c)*this._png.channels,d=(i*r.width+c)*this._png.channels;return{index:u,frameIndex:d}};switch(r.blendOp){case mg.SOURCE:for(let i=0;i<r.height;i++)for(let c=0;c<r.width;c++){const{index:u,frameIndex:d}=a(i,c);for(let h=0;h<this._png.channels;h++)e.data[u+h]=r.data[d+h]}break;case mg.OVER:for(let i=0;i<r.height;i++)for(let c=0;c<r.width;c++){const{index:u,frameIndex:d}=a(i,c);for(let h=0;h<this._png.channels;h++){const p=r.data[d+this._png.channels-1]/n,g=h%(this._png.channels-1)===0?1:r.data[d+h],w=Math.floor(p*g+(1-p)*e.data[u+h]);e.data[u+h]+=w}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Py.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===pg.NO_INTERLACE)this._png.data=Ay({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===pg.ADAM7)this._png.data=IL({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,r=this._frames.at(-1);r?r.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:$f.NONE,blendOp:mg.SOURCE,data:e}),this._inflator=new Sy,this._writingDataChunks=!1}}function QL(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var Oy;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(Oy||(Oy={}));function ZL(t,e){return new XL(t,e).decode()}var Qt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function gg(){Qt.console&&typeof Qt.console.log=="function"&&Qt.console.log.apply(Qt.console,arguments)}var Ur={log:gg,warn:function(t){Qt.console&&(typeof Qt.console.warn=="function"?Qt.console.warn.apply(Qt.console,arguments):gg.call(null,arguments))},error:function(t){Qt.console&&(typeof Qt.console.error=="function"?Qt.console.error.apply(Qt.console,arguments):gg(t))}};function vg(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){qc(n.response,e,r)},n.onerror=function(){Ur.error("could not download file")},n.send()}function Ly(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Vf(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var qc=Qt.saveAs||((typeof window>"u"?"undefined":Ir(window))!=="object"||window!==Qt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Qt.URL||Qt.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?Ly(a.href)?vg(t,e,r):Vf(a,a.target="_blank"):Vf(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Vf(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(Ly(t))vg(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Vf(n)})}else navigator.msSaveOrOpenBlob((function(a,i){return i===void 0?i={autoBom:!1}:Ir(i)!=="object"&&(Ur.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return vg(t,e,r);var a=t.type==="application/octet-stream",i=/constructor/i.test(Qt.HTMLElement)||Qt.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&i)&&(typeof FileReader>"u"?"undefined":Ir(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var p=u.result;p=c?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=p:location=p,n=null},u.readAsDataURL(t)}else{var d=Qt.URL||Qt.webkitURL,h=d.createObjectURL(t);n?n.location=h:location.href=h,n=null,setTimeout(function(){d.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function m_(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,c=a.exec(t);c&&(e=i(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),d=this.g.toString(16),h=this.b.toString(16);return u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),h.length==1&&(h="0"+h),"#"+u+d+h}}var tp=Qt.atob.bind(Qt),Ty=Qt.btoa.bind(Qt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function yg(t,e){var r=t[0],n=t[1],a=t[2],i=t[3];r=Sa(r,n,a,i,e[0],7,-680876936),i=Sa(i,r,n,a,e[1],12,-389564586),a=Sa(a,i,r,n,e[2],17,606105819),n=Sa(n,a,i,r,e[3],22,-1044525330),r=Sa(r,n,a,i,e[4],7,-176418897),i=Sa(i,r,n,a,e[5],12,1200080426),a=Sa(a,i,r,n,e[6],17,-1473231341),n=Sa(n,a,i,r,e[7],22,-45705983),r=Sa(r,n,a,i,e[8],7,1770035416),i=Sa(i,r,n,a,e[9],12,-1958414417),a=Sa(a,i,r,n,e[10],17,-42063),n=Sa(n,a,i,r,e[11],22,-1990404162),r=Sa(r,n,a,i,e[12],7,1804603682),i=Sa(i,r,n,a,e[13],12,-40341101),a=Sa(a,i,r,n,e[14],17,-1502002290),r=Ea(r,n=Sa(n,a,i,r,e[15],22,1236535329),a,i,e[1],5,-165796510),i=Ea(i,r,n,a,e[6],9,-1069501632),a=Ea(a,i,r,n,e[11],14,643717713),n=Ea(n,a,i,r,e[0],20,-373897302),r=Ea(r,n,a,i,e[5],5,-701558691),i=Ea(i,r,n,a,e[10],9,38016083),a=Ea(a,i,r,n,e[15],14,-660478335),n=Ea(n,a,i,r,e[4],20,-405537848),r=Ea(r,n,a,i,e[9],5,568446438),i=Ea(i,r,n,a,e[14],9,-1019803690),a=Ea(a,i,r,n,e[3],14,-187363961),n=Ea(n,a,i,r,e[8],20,1163531501),r=Ea(r,n,a,i,e[13],5,-1444681467),i=Ea(i,r,n,a,e[2],9,-51403784),a=Ea(a,i,r,n,e[7],14,1735328473),r=Ca(r,n=Ea(n,a,i,r,e[12],20,-1926607734),a,i,e[5],4,-378558),i=Ca(i,r,n,a,e[8],11,-2022574463),a=Ca(a,i,r,n,e[11],16,1839030562),n=Ca(n,a,i,r,e[14],23,-35309556),r=Ca(r,n,a,i,e[1],4,-1530992060),i=Ca(i,r,n,a,e[4],11,1272893353),a=Ca(a,i,r,n,e[7],16,-155497632),n=Ca(n,a,i,r,e[10],23,-1094730640),r=Ca(r,n,a,i,e[13],4,681279174),i=Ca(i,r,n,a,e[0],11,-358537222),a=Ca(a,i,r,n,e[3],16,-722521979),n=Ca(n,a,i,r,e[6],23,76029189),r=Ca(r,n,a,i,e[9],4,-640364487),i=Ca(i,r,n,a,e[12],11,-421815835),a=Ca(a,i,r,n,e[15],16,530742520),r=Aa(r,n=Ca(n,a,i,r,e[2],23,-995338651),a,i,e[0],6,-198630844),i=Aa(i,r,n,a,e[7],10,1126891415),a=Aa(a,i,r,n,e[14],15,-1416354905),n=Aa(n,a,i,r,e[5],21,-57434055),r=Aa(r,n,a,i,e[12],6,1700485571),i=Aa(i,r,n,a,e[3],10,-1894986606),a=Aa(a,i,r,n,e[10],15,-1051523),n=Aa(n,a,i,r,e[1],21,-2054922799),r=Aa(r,n,a,i,e[8],6,1873313359),i=Aa(i,r,n,a,e[15],10,-30611744),a=Aa(a,i,r,n,e[6],15,-1560198380),n=Aa(n,a,i,r,e[13],21,1309151649),r=Aa(r,n,a,i,e[4],6,-145523070),i=Aa(i,r,n,a,e[11],10,-1120210379),a=Aa(a,i,r,n,e[2],15,718787259),n=Aa(n,a,i,r,e[9],21,-343485551),t[0]=Ql(r,t[0]),t[1]=Ql(n,t[1]),t[2]=Ql(a,t[2]),t[3]=Ql(i,t[3])}function Up(t,e,r,n,a,i){return e=Ql(Ql(e,t),Ql(n,i)),Ql(e<<a|e>>>32-a,r)}function Sa(t,e,r,n,a,i,c){return Up(e&r|~e&n,t,e,a,i,c)}function Ea(t,e,r,n,a,i,c){return Up(e&n|r&~n,t,e,a,i,c)}function Ca(t,e,r,n,a,i,c){return Up(e^r^n,t,e,a,i,c)}function Aa(t,e,r,n,a,i,c){return Up(r^(e|~n),t,e,a,i,c)}function g_(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)yg(n,eT(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(yg(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,yg(n,a),n}function eT(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var Ry="0123456789abcdef".split("");function tT(t){for(var e="",r=0;r<4;r++)e+=Ry[t>>8*r+4&15]+Ry[t>>8*r&15];return e}function rT(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function hv(t){return g_(t).map(rT).join("")}var nT=(function(t){for(var e=0;e<t.length;e++)t[e]=tT(t[e]);return t.join("")})(g_("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ql(t,e){if(nT){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function fv(t,e){var r,n,a,i;if(t!==r){for(var c=(a=t,i=1+(256/t.length|0),new Array(i+1).join(a)),u=[],d=0;d<256;d++)u[d]=d;var h=0;for(d=0;d<256;d++){var p=u[d];h=(h+p+c.charCodeAt(d))%256,u[d]=u[h],u[h]=p}r=t,n=u}else u=n;var g=e.length,w=0,v=0,S="";for(d=0;d<g;d++)v=(v+(p=u[w=(w+1)%256]))%256,u[w]=u[v],u[v]=p,c=u[(u[w]+u[v])%256],S+=String.fromCharCode(e.charCodeAt(d)^c);return S}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Dy={print:4,modify:8,copy:16,"annot-forms":32};function Ju(t,e,r,n){this.v=1,this.r=2;var a=192;t.forEach(function(u){if(Dy.perm!==void 0)throw new Error("Invalid permission: "+u);a+=Dy[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),c=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,c),this.P=-(1+(255^a)),this.encryptionKey=hv(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=fv(this.encryptionKey,this.padding)}function Xu(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):t[n]}return e}function Iy(t){if(Ir(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[r]){var c=e[r][i];try{c[0].apply(t,n)}catch(u){Qt.console&&Ur.error("jsPDF PubSub Error",u.message,u)}c[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function xp(t){if(!(this instanceof xp))return new xp(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function v_(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Wc(t,e,r,n,a){if(!(this instanceof Wc))return new Wc(t,e,r,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,v_.call(this,n,a)}function Qu(t,e,r,n,a){if(!(this instanceof Qu))return new Qu(t,e,r,n,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,v_.call(this,n,a)}function Ft(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],c=[],u=1,d=16,h="S",p=null;Ir(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,i=t.compress||t.compressPdf||i,(p=t.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),u=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(d=t.floatPrecision),h=t.defaultPathOperation||"S"),c=t.filters||(i===!0?["FlateEncode"]:c),n=n||"mm",r=(""+(r||"P")).toLowerCase();var g=t.putOnlyUsedFonts||!1,w={},v={internal:{},__private__:{}};v.__private__.PubSub=Iy;var S="1.3",x=v.__private__.getPdfVersion=function(){return S};v.__private__.setPdfVersion=function(N){S=N};var _={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};v.__private__.getPageFormats=function(){return _};var C=v.__private__.getPageFormat=function(N){return _[N]};a=a||"a4";var L="compat",T="advanced",R=L;function H(){this.saveGraphicsState(),de(new yt(Xe,0,0,-Xe,0,Ja()*Xe).toString()+" cm"),this.setFontSize(this.getFontSize()/Xe),h="n",R=T}function J(){this.restoreGraphicsState(),h="S",R=L}var Q=v.__private__.combineFontStyleAndFontWeight=function(N,U){if(N=="bold"&&U=="normal"||N=="bold"&&U==400||N=="normal"&&U=="italic"||N=="bold"&&U=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return U&&(N=U==400||U==="normal"?N==="italic"?"italic":"normal":U!=700&&U!=="bold"||N!=="normal"?(U==700?"bold":U)+""+N:"bold"),N};v.advancedAPI=function(N){var U=R===L;return U&&H.call(this),typeof N!="function"||(N(this),U&&J.call(this)),this},v.compatAPI=function(N){var U=R===T;return U&&J.call(this),typeof N!="function"||(N(this),U&&H.call(this)),this},v.isAdvancedAPI=function(){return R===T};var D,$=function(N){if(R!==T)throw new Error(N+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},G=v.roundToPrecision=v.__private__.roundToPrecision=function(N,U){var he=e||U;if(isNaN(N)||isNaN(he))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return N.toFixed(he).replace(/0+$/,"")};D=v.hpf=v.__private__.hpf=typeof d=="number"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return G(N,d)}:d==="smart"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return G(N,N>-1&&N<1?16:5)}:function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return G(N,16)};var z=v.f2=v.__private__.f2=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f2");return G(N,2)},F=v.__private__.f3=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f3");return G(N,3)},P=v.scale=v.__private__.scale=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.scale");return R===L?N*Xe:R===T?N:void 0},M=function(N){return P((function(U){return R===L?Ja()-U:R===T?U:void 0})(N))};v.__private__.setPrecision=v.setPrecision=function(N){typeof parseInt(N,10)=="number"&&(e=parseInt(N,10))};var fe,ae="00000000000000000000000000000000",se=v.__private__.getFileId=function(){return ae},q=v.__private__.setFileId=function(N){return ae=N!==void 0&&/^[a-fA-F0-9]{32}$/.test(N)?N.toUpperCase():ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(on=new Ju(p.userPermissions,p.userPassword,p.ownerPassword,ae)),ae};v.setFileId=function(N){return q(N),this},v.getFileId=function(){return se()};var me=v.__private__.convertDateToPDFDate=function(N){var U=N.getTimezoneOffset(),he=U<0?"+":"-",_e=Math.floor(Math.abs(U/60)),Ae=Math.abs(U%60),We=[he,Z(_e),"'",Z(Ae),"'"].join("");return["D:",N.getFullYear(),Z(N.getMonth()+1),Z(N.getDate()),Z(N.getHours()),Z(N.getMinutes()),Z(N.getSeconds()),We].join("")},Ne=v.__private__.convertPDFDateToDate=function(N){var U=parseInt(N.substr(2,4),10),he=parseInt(N.substr(6,2),10)-1,_e=parseInt(N.substr(8,2),10),Ae=parseInt(N.substr(10,2),10),We=parseInt(N.substr(12,2),10),et=parseInt(N.substr(14,2),10);return new Date(U,he,_e,Ae,We,et,0)},te=v.__private__.setCreationDate=function(N){var U;if(N===void 0&&(N=new Date),N instanceof Date)U=me(N);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(N))throw new Error("Invalid argument passed to jsPDF.setCreationDate");U=N}return fe=U},I=v.__private__.getCreationDate=function(N){var U=fe;return N==="jsDate"&&(U=Ne(fe)),U};v.setCreationDate=function(N){return te(N),this},v.getCreationDate=function(N){return I(N)};var Y,Z=v.__private__.padd2=function(N){return("0"+parseInt(N)).slice(-2)},ue=v.__private__.padd2Hex=function(N){return("00"+(N=N.toString())).substr(N.length)},ge=0,le=[],xe=[],ye=0,ke=[],De=[],He=!1,tt=xe;v.__private__.setCustomOutputDestination=function(N){He=!0,tt=N};var Fe=function(N){He||(tt=N)};v.__private__.resetCustomOutputDestination=function(){He=!1,tt=xe};var de=v.__private__.out=function(N){return N=N.toString(),ye+=N.length+1,tt.push(N),tt},zt=v.__private__.write=function(N){return de(arguments.length===1?N.toString():Array.prototype.join.call(arguments," "))},wt=v.__private__.getArrayBuffer=function(N){for(var U=N.length,he=new ArrayBuffer(U),_e=new Uint8Array(he);U--;)_e[U]=N.charCodeAt(U);return he},bt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];v.__private__.getStandardFonts=function(){return bt};var Ve=t.fontSize||16;v.__private__.setFontSize=v.setFontSize=function(N){return Ve=R===T?N/Xe:N,this};var gt,we=v.__private__.getFontSize=v.getFontSize=function(){return R===L?Ve:Ve*Xe},Je=t.R2L||!1;v.__private__.setR2L=v.setR2L=function(N){return Je=N,this},v.__private__.getR2L=v.getR2L=function(){return Je};var V,be=v.__private__.setZoomMode=function(N){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(N))gt=N;else if(isNaN(N)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(N)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+N+'" is not recognized.');gt=N}else gt=parseInt(N,10)};v.__private__.getZoomMode=function(){return gt};var oe,Be=v.__private__.setPageMode=function(N){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(N)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+N+'" is not recognized.');V=N};v.__private__.getPageMode=function(){return V};var ct=v.__private__.setLayoutMode=function(N){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(N)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+N+'" is not recognized.');oe=N};v.__private__.getLayoutMode=function(){return oe},v.__private__.setDisplayMode=v.setDisplayMode=function(N,U,he){return be(N),ct(U),Be(he),this};var ot={title:"",subject:"",author:"",keywords:"",creator:""};v.__private__.getDocumentProperty=function(N){if(Object.keys(ot).indexOf(N)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ot[N]},v.__private__.getDocumentProperties=function(){return ot},v.__private__.setDocumentProperties=v.setProperties=v.setDocumentProperties=function(N){for(var U in ot)ot.hasOwnProperty(U)&&N[U]&&(ot[U]=N[U]);return this},v.__private__.setDocumentProperty=function(N,U){if(Object.keys(ot).indexOf(N)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ot[N]=U};var rt,Xe,Me,Ge,xt,lt={},mt={},St=[],Ze={},Bt={},pt={},ar={},nr=null,Qe=0,at=[],ne=new Iy(v),dt=t.hotfixes||[],Tt={},Kt={},dr=[],yt=function N(U,he,_e,Ae,We,et){if(!(this instanceof N))return new N(U,he,_e,Ae,We,et);isNaN(U)&&(U=1),isNaN(he)&&(he=0),isNaN(_e)&&(_e=0),isNaN(Ae)&&(Ae=1),isNaN(We)&&(We=0),isNaN(et)&&(et=0),this._matrix=[U,he,_e,Ae,We,et]};Object.defineProperty(yt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(yt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(yt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(yt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(yt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(yt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(yt.prototype,"a",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(yt.prototype,"b",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(yt.prototype,"c",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(yt.prototype,"d",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(yt.prototype,"e",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(yt.prototype,"f",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(yt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(yt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(yt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(yt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),yt.prototype.join=function(N){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(N)},yt.prototype.multiply=function(N){var U=N.sx*this.sx+N.shy*this.shx,he=N.sx*this.shy+N.shy*this.sy,_e=N.shx*this.sx+N.sy*this.shx,Ae=N.shx*this.shy+N.sy*this.sy,We=N.tx*this.sx+N.ty*this.shx+this.tx,et=N.tx*this.shy+N.ty*this.sy+this.ty;return new yt(U,he,_e,Ae,We,et)},yt.prototype.decompose=function(){var N=this.sx,U=this.shy,he=this.shx,_e=this.sy,Ae=this.tx,We=this.ty,et=Math.sqrt(N*N+U*U),Ct=(N/=et)*he+(U/=et)*_e;he-=N*Ct,_e-=U*Ct;var Dt=Math.sqrt(he*he+_e*_e);return Ct/=Dt,N*(_e/=Dt)<U*(he/=Dt)&&(N=-N,U=-U,Ct=-Ct,et=-et),{scale:new yt(et,0,0,Dt,0,0),translate:new yt(1,0,0,1,Ae,We),rotate:new yt(N,U,-U,N,0,0),skew:new yt(1,0,Ct,1,0,0)}},yt.prototype.toString=function(N){return this.join(" ")},yt.prototype.inversed=function(){var N=this.sx,U=this.shy,he=this.shx,_e=this.sy,Ae=this.tx,We=this.ty,et=1/(N*_e-U*he),Ct=_e*et,Dt=-U*et,Yt=-he*et,Jt=N*et;return new yt(Ct,Dt,Yt,Jt,-Ct*Ae-Yt*We,-Dt*Ae-Jt*We)},yt.prototype.applyToPoint=function(N){var U=N.x*this.sx+N.y*this.shx+this.tx,he=N.x*this.shy+N.y*this.sy+this.ty;return new Ms(U,he)},yt.prototype.applyToRectangle=function(N){var U=this.applyToPoint(N),he=this.applyToPoint(new Ms(N.x+N.w,N.y+N.h));return new Ni(U.x,U.y,he.x-U.x,he.y-U.y)},yt.prototype.clone=function(){var N=this.sx,U=this.shy,he=this.shx,_e=this.sy,Ae=this.tx,We=this.ty;return new yt(N,U,he,_e,Ae,We)},v.Matrix=yt;var fr=v.matrixMult=function(N,U){return U.multiply(N)},yn=new yt(1,0,0,1,0,0);v.unitMatrix=v.identityMatrix=yn;var Cr=function(N,U){if(!Bt[N]){var he=(U instanceof Wc?"Sh":"P")+(Object.keys(Ze).length+1).toString(10);U.id=he,Bt[N]=he,Ze[he]=U,ne.publish("addPattern",U)}};v.ShadingPattern=Wc,v.TilingPattern=Qu,v.addShadingPattern=function(N,U){return $("addShadingPattern()"),Cr(N,U),this},v.beginTilingPattern=function(N){$("beginTilingPattern()"),Ga(N.boundingBox[0],N.boundingBox[1],N.boundingBox[2]-N.boundingBox[0],N.boundingBox[3]-N.boundingBox[1],N.matrix)},v.endTilingPattern=function(N,U){$("endTilingPattern()"),U.stream=De[Y].join(`
`),Cr(N,U),ne.publish("endTilingPattern",U),dr.pop().restore()};var qr,Nr=v.__private__.newObject=function(){var N=jr();return sn(N,!0),N},jr=v.__private__.newObjectDeferred=function(){return ge++,le[ge]=function(){return ye},ge},sn=function(N,U){return U=typeof U=="boolean"&&U,le[N]=ye,U&&de(N+" 0 obj"),N},Zs=v.__private__.newAdditionalObject=function(){var N={objId:jr(),content:""};return ke.push(N),N},Do=jr(),ls=jr(),Ts=v.__private__.decodeColorString=function(N){var U=N.split(" ");if(U.length!==2||U[1]!=="g"&&U[1]!=="G")U.length!==5||U[4]!=="k"&&U[4]!=="K"||(U=[(1-U[0])*(1-U[3]),(1-U[1])*(1-U[3]),(1-U[2])*(1-U[3]),"r"]);else{var he=parseFloat(U[0]);U=[he,he,he,"r"]}for(var _e="#",Ae=0;Ae<3;Ae++)_e+=("0"+Math.floor(255*parseFloat(U[Ae])).toString(16)).slice(-2);return _e},Wn=v.__private__.encodeColorString=function(N){var U;typeof N=="string"&&(N={ch1:N});var he=N.ch1,_e=N.ch2,Ae=N.ch3,We=N.ch4,et=N.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof he=="string"&&he.charAt(0)!=="#"){var Ct=new m_(he);if(Ct.ok)he=Ct.toHex();else if(!/^\d*\.?\d*$/.test(he))throw new Error('Invalid color "'+he+'" passed to jsPDF.encodeColorString.')}if(typeof he=="string"&&/^#[0-9A-Fa-f]{3}$/.test(he)&&(he="#"+he[1]+he[1]+he[2]+he[2]+he[3]+he[3]),typeof he=="string"&&/^#[0-9A-Fa-f]{6}$/.test(he)){var Dt=parseInt(he.substr(1),16);he=Dt>>16&255,_e=Dt>>8&255,Ae=255&Dt}if(_e===void 0||We===void 0&&he===_e&&_e===Ae)U=typeof he=="string"?he+" "+et[0]:N.precision===2?z(he/255)+" "+et[0]:F(he/255)+" "+et[0];else if(We===void 0||Ir(We)==="object"){if(We&&!isNaN(We.a)&&We.a===0)return["1.","1.","1.",et[1]].join(" ");U=typeof he=="string"?[he,_e,Ae,et[1]].join(" "):N.precision===2?[z(he/255),z(_e/255),z(Ae/255),et[1]].join(" "):[F(he/255),F(_e/255),F(Ae/255),et[1]].join(" ")}else U=typeof he=="string"?[he,_e,Ae,We,et[2]].join(" "):N.precision===2?[z(he),z(_e),z(Ae),z(We),et[2]].join(" "):[F(he),F(_e),F(Ae),F(We),et[2]].join(" ");return U},Va=v.__private__.getFilters=function(){return c},La=v.__private__.putStream=function(N){var U=(N=N||{}).data||"",he=N.filters||Va(),_e=N.alreadyAppliedFilters||[],Ae=N.addLength1||!1,We=U.length,et=N.objectId,Ct=function(kn){return kn};if(p!==null&&et===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(Ct=on.encryptor(et,0));var Dt={};he===!0&&(he=["FlateEncode"]);var Yt=N.additionalKeyValues||[],Jt=(Dt=Ft.API.processDataByFilters!==void 0?Ft.API.processDataByFilters(U,he):{data:U,reverseChain:[]}).reverseChain+(Array.isArray(_e)?_e.join(" "):_e.toString());if(Dt.data.length!==0&&(Yt.push({key:"Length",value:Dt.data.length}),Ae===!0&&Yt.push({key:"Length1",value:We})),Jt.length!=0)if(Jt.split("/").length-1==1)Yt.push({key:"Filter",value:Jt});else{Yt.push({key:"Filter",value:"["+Jt+"]"});for(var gr=0;gr<Yt.length;gr+=1)if(Yt[gr].key==="DecodeParms"){for(var Gr=[],xn=0;xn<Dt.reverseChain.split("/").length-1;xn+=1)Gr.push("null");Gr.push(Yt[gr].value),Yt[gr].value="["+Gr.join(" ")+"]"}}de("<<");for(var Fr=0;Fr<Yt.length;Fr++)de("/"+Yt[Fr].key+" "+Yt[Fr].value);de(">>"),Dt.data.length!==0&&(de("stream"),de(Ct(Dt.data)),de("endstream"))},fi=v.__private__.putPage=function(N){var U=N.number,he=N.data,_e=N.objId,Ae=N.contentsObjId;sn(_e,!0),de("<</Type /Page"),de("/Parent "+N.rootDictionaryObjId+" 0 R"),de("/Resources "+N.resourceDictionaryObjId+" 0 R"),de("/MediaBox ["+parseFloat(D(N.mediaBox.bottomLeftX))+" "+parseFloat(D(N.mediaBox.bottomLeftY))+" "+D(N.mediaBox.topRightX)+" "+D(N.mediaBox.topRightY)+"]"),N.cropBox!==null&&de("/CropBox ["+D(N.cropBox.bottomLeftX)+" "+D(N.cropBox.bottomLeftY)+" "+D(N.cropBox.topRightX)+" "+D(N.cropBox.topRightY)+"]"),N.bleedBox!==null&&de("/BleedBox ["+D(N.bleedBox.bottomLeftX)+" "+D(N.bleedBox.bottomLeftY)+" "+D(N.bleedBox.topRightX)+" "+D(N.bleedBox.topRightY)+"]"),N.trimBox!==null&&de("/TrimBox ["+D(N.trimBox.bottomLeftX)+" "+D(N.trimBox.bottomLeftY)+" "+D(N.trimBox.topRightX)+" "+D(N.trimBox.topRightY)+"]"),N.artBox!==null&&de("/ArtBox ["+D(N.artBox.bottomLeftX)+" "+D(N.artBox.bottomLeftY)+" "+D(N.artBox.topRightX)+" "+D(N.artBox.topRightY)+"]"),typeof N.userUnit=="number"&&N.userUnit!==1&&de("/UserUnit "+N.userUnit),ne.publish("putPage",{objId:_e,pageContext:at[U],pageNumber:U,page:he}),de("/Contents "+Ae+" 0 R"),de(">>"),de("endobj");var We=he.join(`
`);return R===T&&(We+=`
Q`),sn(Ae,!0),La({data:We,filters:Va(),objectId:Ae}),de("endobj"),_e},cs=v.__private__.putPages=function(){var N,U,he=[];for(N=1;N<=Qe;N++)at[N].objId=jr(),at[N].contentsObjId=jr();for(N=1;N<=Qe;N++)he.push(fi({number:N,data:De[N],objId:at[N].objId,contentsObjId:at[N].contentsObjId,mediaBox:at[N].mediaBox,cropBox:at[N].cropBox,bleedBox:at[N].bleedBox,trimBox:at[N].trimBox,artBox:at[N].artBox,userUnit:at[N].userUnit,rootDictionaryObjId:Do,resourceDictionaryObjId:ls}));sn(Do,!0),de("<</Type /Pages");var _e="/Kids [";for(U=0;U<Qe;U++)_e+=he[U]+" 0 R ";de(_e+"]"),de("/Count "+Qe),de(">>"),de("endobj"),ne.publish("postPutPages")},Io=function(N){ne.publish("putFont",{font:N,out:de,newObject:Nr,putStream:La}),N.isAlreadyPutted!==!0&&(N.objectNumber=Nr(),de("<<"),de("/Type /Font"),de("/BaseFont /"+Xu(N.postScriptName)),de("/Subtype /Type1"),typeof N.encoding=="string"&&de("/Encoding /"+N.encoding),de("/FirstChar 32"),de("/LastChar 255"),de(">>"),de("endobj"))},pi=function(N){N.objectNumber=Nr();var U=[];U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Form"}),U.push({key:"BBox",value:"["+[D(N.x),D(N.y),D(N.x+N.width),D(N.y+N.height)].join(" ")+"]"}),U.push({key:"Matrix",value:"["+N.matrix.toString()+"]"});var he=N.pages[1].join(`
`);La({data:he,additionalKeyValues:U,objectId:N.objectNumber}),de("endobj")},mi=function(N,U){U||(U=21);var he=Nr(),_e=(function(et,Ct){var Dt,Yt=[],Jt=1/(Ct-1);for(Dt=0;Dt<1;Dt+=Jt)Yt.push(Dt);if(Yt.push(1),et[0].offset!=0){var gr={offset:0,color:et[0].color};et.unshift(gr)}if(et[et.length-1].offset!=1){var Gr={offset:1,color:et[et.length-1].color};et.push(Gr)}for(var xn="",Fr=0,kn=0;kn<Yt.length;kn++){for(Dt=Yt[kn];Dt>et[Fr+1].offset;)Fr++;var ln=et[Fr].offset,Hn=(Dt-ln)/(et[Fr+1].offset-ln),Xa=et[Fr].color,ma=et[Fr+1].color;xn+=ue(Math.round((1-Hn)*Xa[0]+Hn*ma[0]).toString(16))+ue(Math.round((1-Hn)*Xa[1]+Hn*ma[1]).toString(16))+ue(Math.round((1-Hn)*Xa[2]+Hn*ma[2]).toString(16))}return xn.trim()})(N.colors,U),Ae=[];Ae.push({key:"FunctionType",value:"0"}),Ae.push({key:"Domain",value:"[0.0 1.0]"}),Ae.push({key:"Size",value:"["+U+"]"}),Ae.push({key:"BitsPerSample",value:"8"}),Ae.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ae.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),La({data:_e,additionalKeyValues:Ae,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:he}),de("endobj"),N.objectNumber=Nr(),de("<< /ShadingType "+N.type),de("/ColorSpace /DeviceRGB");var We="/Coords ["+D(parseFloat(N.coords[0]))+" "+D(parseFloat(N.coords[1]))+" ";N.type===2?We+=D(parseFloat(N.coords[2]))+" "+D(parseFloat(N.coords[3])):We+=D(parseFloat(N.coords[2]))+" "+D(parseFloat(N.coords[3]))+" "+D(parseFloat(N.coords[4]))+" "+D(parseFloat(N.coords[5])),de(We+="]"),N.matrix&&de("/Matrix ["+N.matrix.toString()+"]"),de("/Function "+he+" 0 R"),de("/Extend [true true]"),de(">>"),de("endobj")},ul=function(N,U){var he=jr(),_e=Nr();U.push({resourcesOid:he,objectOid:_e}),N.objectNumber=_e;var Ae=[];Ae.push({key:"Type",value:"/Pattern"}),Ae.push({key:"PatternType",value:"1"}),Ae.push({key:"PaintType",value:"1"}),Ae.push({key:"TilingType",value:"1"}),Ae.push({key:"BBox",value:"["+N.boundingBox.map(D).join(" ")+"]"}),Ae.push({key:"XStep",value:D(N.xStep)}),Ae.push({key:"YStep",value:D(N.yStep)}),Ae.push({key:"Resources",value:he+" 0 R"}),N.matrix&&Ae.push({key:"Matrix",value:"["+N.matrix.toString()+"]"}),La({data:N.stream,additionalKeyValues:Ae,objectId:N.objectNumber}),de("endobj")},Ed=function(N){for(var U in N.objectNumber=Nr(),de("<<"),N)switch(U){case"opacity":de("/ca "+z(N[U]));break;case"stroke-opacity":de("/CA "+z(N[U]))}de(">>"),de("endobj")},zr=function(N){sn(N.resourcesOid,!0),de("<<"),de("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var U in de("/Font <<"),lt)lt.hasOwnProperty(U)&&(g===!1||g===!0&&w.hasOwnProperty(U))&&de("/"+U+" "+lt[U].objectNumber+" 0 R");de(">>")})(),(function(){if(Object.keys(Ze).length>0){for(var U in de("/Shading <<"),Ze)Ze.hasOwnProperty(U)&&Ze[U]instanceof Wc&&Ze[U].objectNumber>=0&&de("/"+U+" "+Ze[U].objectNumber+" 0 R");ne.publish("putShadingPatternDict"),de(">>")}})(),(function(U){if(Object.keys(Ze).length>0){for(var he in de("/Pattern <<"),Ze)Ze.hasOwnProperty(he)&&Ze[he]instanceof v.TilingPattern&&Ze[he].objectNumber>=0&&Ze[he].objectNumber<U&&de("/"+he+" "+Ze[he].objectNumber+" 0 R");ne.publish("putTilingPatternDict"),de(">>")}})(N.objectOid),(function(){if(Object.keys(pt).length>0){var U;for(U in de("/ExtGState <<"),pt)pt.hasOwnProperty(U)&&pt[U].objectNumber>=0&&de("/"+U+" "+pt[U].objectNumber+" 0 R");ne.publish("putGStateDict"),de(">>")}})(),(function(){for(var U in de("/XObject <<"),Tt)Tt.hasOwnProperty(U)&&Tt[U].objectNumber>=0&&de("/"+U+" "+Tt[U].objectNumber+" 0 R");ne.publish("putXobjectDict"),de(">>")})(),de(">>"),de("endobj")},au=function(N){mt[N.fontName]=mt[N.fontName]||{},mt[N.fontName][N.fontStyle]=N.id},dl=function(N,U,he,_e,Ae){var We={id:"F"+(Object.keys(lt).length+1).toString(10),postScriptName:N,fontName:U,fontStyle:he,encoding:_e,isStandardFont:Ae||!1,metadata:{}};return ne.publish("addFont",{font:We,instance:this}),lt[We.id]=We,au(We),We.id},Ta=v.__private__.pdfEscape=v.pdfEscape=function(N,U){return(function(he,_e){var Ae,We,et,Ct,Dt,Yt,Jt,gr,Gr;if(et=(_e=_e||{}).sourceEncoding||"Unicode",Dt=_e.outputEncoding,(_e.autoencode||Dt)&&lt[rt].metadata&&lt[rt].metadata[et]&&lt[rt].metadata[et].encoding&&(Ct=lt[rt].metadata[et].encoding,!Dt&&lt[rt].encoding&&(Dt=lt[rt].encoding),!Dt&&Ct.codePages&&(Dt=Ct.codePages[0]),typeof Dt=="string"&&(Dt=Ct[Dt]),Dt)){for(Jt=!1,Yt=[],Ae=0,We=he.length;Ae<We;Ae++)(gr=Dt[he.charCodeAt(Ae)])?Yt.push(String.fromCharCode(gr)):Yt.push(he[Ae]),Yt[Ae].charCodeAt(0)>>8&&(Jt=!0);he=Yt.join("")}for(Ae=he.length;Jt===void 0&&Ae!==0;)he.charCodeAt(Ae-1)>>8&&(Jt=!0),Ae--;if(!Jt)return he;for(Yt=_e.noBOM?[]:[254,255],Ae=0,We=he.length;Ae<We;Ae++){if((Gr=(gr=he.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+he+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Yt.push(Gr),Yt.push(gr-(Gr<<8))}return String.fromCharCode.apply(void 0,Yt)})(N,U).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Fo=v.__private__.beginPage=function(N){De[++Qe]=[],at[Qe]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(N[0]),topRightY:Number(N[1])}},gi(Qe),Fe(De[Y])},su=function(N,U){var he,_e,Ae;switch(r=U||r,typeof N=="string"&&(he=C(N.toLowerCase()),Array.isArray(he)&&(_e=he[0],Ae=he[1])),Array.isArray(N)&&(_e=N[0]*Xe,Ae=N[1]*Xe),isNaN(_e)&&(_e=a[0],Ae=a[1]),(_e>14400||Ae>14400)&&(Ur.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),_e=Math.min(14400,_e),Ae=Math.min(14400,Ae)),a=[_e,Ae],r.substr(0,1)){case"l":Ae>_e&&(a=[Ae,_e]);break;case"p":_e>Ae&&(a=[Ae,_e])}Fo(a),wi(Ha),de(_i),fc!==0&&de(fc+" J"),pc!==0&&de(pc+" j"),ne.publish("addPage",{pageNumber:Qe})},hl=function(N){N>0&&N<=Qe&&(De.splice(N,1),at.splice(N,1),Qe--,Y>Qe&&(Y=Qe),this.setPage(Y))},gi=function(N){N>0&&N<=Qe&&(Y=N)},Ra=v.__private__.getNumberOfPages=v.getNumberOfPages=function(){return De.length-1},ou=function(N,U,he){var _e,Ae=void 0;return he=he||{},N=N!==void 0?N:lt[rt].fontName,U=U!==void 0?U:lt[rt].fontStyle,_e=N.toLowerCase(),mt[_e]!==void 0&&mt[_e][U]!==void 0?Ae=mt[_e][U]:mt[N]!==void 0&&mt[N][U]!==void 0?Ae=mt[N][U]:he.disableWarning===!1&&Ur.warn("Unable to look up font label for font '"+N+"', '"+U+"'. Refer to getFontList() for available fonts."),Ae||he.noFallback||(Ae=mt.times[U])==null&&(Ae=mt.times.normal),Ae},Qn=v.__private__.putInfo=function(){var N=Nr(),U=function(_e){return _e};for(var he in p!==null&&(U=on.encryptor(N,0)),de("<<"),de("/Producer ("+Ta(U("jsPDF "+Ft.version))+")"),ot)ot.hasOwnProperty(he)&&ot[he]&&de("/"+he.substr(0,1).toUpperCase()+he.substr(1)+" ("+Ta(U(ot[he]))+")");de("/CreationDate ("+Ta(U(fe))+")"),de(">>"),de("endobj")},Cd=v.__private__.putCatalog=function(N){var U=(N=N||{}).rootDictionaryObjId||Do;switch(Nr(),de("<<"),de("/Type /Catalog"),de("/Pages "+U+" 0 R"),gt||(gt="fullwidth"),gt){case"fullwidth":de("/OpenAction [3 0 R /FitH null]");break;case"fullheight":de("/OpenAction [3 0 R /FitV null]");break;case"fullpage":de("/OpenAction [3 0 R /Fit]");break;case"original":de("/OpenAction [3 0 R /XYZ null null 1]");break;default:var he=""+gt;he.substr(he.length-1)==="%"&&(gt=parseInt(gt)/100),typeof gt=="number"&&de("/OpenAction [3 0 R /XYZ null null "+z(gt)+"]")}switch(oe||(oe="continuous"),oe){case"continuous":de("/PageLayout /OneColumn");break;case"single":de("/PageLayout /SinglePage");break;case"two":case"twoleft":de("/PageLayout /TwoColumnLeft");break;case"tworight":de("/PageLayout /TwoColumnRight")}V&&de("/PageMode /"+V),ne.publish("putCatalog"),de(">>"),de("endobj")},bn=v.__private__.putTrailer=function(){de("trailer"),de("<<"),de("/Size "+(ge+1)),de("/Root "+ge+" 0 R"),de("/Info "+(ge-1)+" 0 R"),p!==null&&de("/Encrypt "+on.oid+" 0 R"),de("/ID [ <"+ae+"> <"+ae+"> ]"),de(">>")},iu=v.__private__.putHeader=function(){de("%PDF-"+S),de("%")},vi=v.__private__.putXRef=function(){var N="0000000000";de("xref"),de("0 "+(ge+1)),de("0000000000 65535 f ");for(var U=1;U<=ge;U++)typeof le[U]=="function"?de((N+le[U]()).slice(-10)+" 00000 n "):le[U]!==void 0?de((N+le[U]).slice(-10)+" 00000 n "):de("0000000000 00000 n ")},Wa=v.__private__.buildDocument=function(){var N;ge=0,ye=0,xe=[],le=[],ke=[],Do=jr(),ls=jr(),Fe(xe),ne.publish("buildDocument"),iu(),cs(),(function(){ne.publish("putAdditionalObjects");for(var he=0;he<ke.length;he++){var _e=ke[he];sn(_e.objId,!0),de(_e.content),de("endobj")}ne.publish("postPutAdditionalObjects")})(),N=[],(function(){for(var he in lt)lt.hasOwnProperty(he)&&(g===!1||g===!0&&w.hasOwnProperty(he))&&Io(lt[he])})(),(function(){var he;for(he in pt)pt.hasOwnProperty(he)&&Ed(pt[he])})(),(function(){for(var he in Tt)Tt.hasOwnProperty(he)&&pi(Tt[he])})(),(function(he){var _e;for(_e in Ze)Ze.hasOwnProperty(_e)&&(Ze[_e]instanceof Wc?mi(Ze[_e]):Ze[_e]instanceof Qu&&ul(Ze[_e],he))})(N),ne.publish("putResources"),N.forEach(zr),zr({resourcesOid:ls,objectOid:Number.MAX_SAFE_INTEGER}),ne.publish("postPutResources"),p!==null&&(on.oid=Nr(),de("<<"),de("/Filter /Standard"),de("/V "+on.v),de("/R "+on.r),de("/U <"+on.toHexString(on.U)+">"),de("/O <"+on.toHexString(on.O)+">"),de("/P "+on.P),de(">>"),de("endobj")),Qn(),Cd();var U=ye;return vi(),bn(),de("startxref"),de(""+U),de("%%EOF"),Fe(De[Y]),xe.join(`
`)},us=v.__private__.getBlob=function(N){return new Blob([wt(N)],{type:"application/pdf"})},fa=v.output=v.__private__.output=(qr=function(N,U){switch(typeof(U=U||{})=="string"?U={filename:U}:U.filename=U.filename||"generated.pdf",N){case void 0:return Wa();case"save":v.save(U.filename);break;case"arraybuffer":return wt(Wa());case"blob":return us(Wa());case"bloburi":case"bloburl":if(Qt.URL!==void 0&&typeof Qt.URL.createObjectURL=="function")return Qt.URL&&Qt.URL.createObjectURL(us(Wa()))||void 0;Ur.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var he="",_e=Wa();try{he=Ty(_e)}catch{he=Ty(unescape(encodeURIComponent(_e)))}return"data:application/pdf;filename="+U.filename+";base64,"+he;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Qt)==="[object Window]"){var Ae="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",We=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';U.pdfObjectUrl&&(Ae=U.pdfObjectUrl,We="");var et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ae+'"'+We+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(U)+");<\/script></body></html>",Ct=Qt.open();return Ct!==null&&Ct.document.write(et),Ct}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Qt)==="[object Window]"){var Dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(U.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+U.filename+'" width="500px" height="400px" /></body></html>',Yt=Qt.open();if(Yt!==null){Yt.document.write(Dt);var Jt=this;Yt.document.documentElement.querySelector("#pdfViewer").onload=function(){Yt.document.title=U.filename,Yt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Jt.output("bloburl"))}}return Yt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Qt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var gr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",U)+'"></iframe></body></html>',Gr=Qt.open();if(Gr!==null&&(Gr.document.write(gr),Gr.document.title=U.filename),Gr||typeof safari>"u")return Gr;break;case"datauri":case"dataurl":return Qt.document.location.href=this.output("datauristring",U);default:return null}},qr.foo=function(){try{return qr.apply(this,arguments)}catch(he){var N=he.stack||"";~N.indexOf(" at ")&&(N=N.split(" at ")[1]);var U="Error in function "+N.split(`
`)[0].split("<")[0]+": "+he.message;if(!Qt.console)throw new Error(U);Qt.console.error(U,he),Qt.alert&&alert(U)}},qr.foo.bar=qr,qr.foo),yi=function(N){return Array.isArray(dt)===!0&&dt.indexOf(N)>-1};switch(n){case"pt":Xe=1;break;case"mm":Xe=72/25.4;break;case"cm":Xe=72/2.54;break;case"in":Xe=72;break;case"px":Xe=yi("px_scaling")==1?.75:96/72;break;case"pc":case"em":Xe=12;break;case"ex":Xe=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Xe=n}var on=null;te(),q();var bi=v.__private__.getPageInfo=v.getPageInfo=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:at[N].objId,pageNumber:N,pageContext:at[N]}},lu=v.__private__.getPageInfoByObjId=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var U in at)if(at[U].objId===N)break;return bi(U)},uc=v.__private__.getCurrentPageInfo=v.getCurrentPageInfo=function(){return{objId:at[Y].objId,pageNumber:Y,pageContext:at[Y]}};v.addPage=function(){return su.apply(this,arguments),this},v.setPage=function(){return gi.apply(this,arguments),Fe.call(this,De[Y]),this},v.insertPage=function(N){return this.addPage(),this.movePage(Y,N),this},v.movePage=function(N,U){var he,_e;if(N>U){he=De[N],_e=at[N];for(var Ae=N;Ae>U;Ae--)De[Ae]=De[Ae-1],at[Ae]=at[Ae-1];De[U]=he,at[U]=_e,this.setPage(U)}else if(N<U){he=De[N],_e=at[N];for(var We=N;We<U;We++)De[We]=De[We+1],at[We]=at[We+1];De[U]=he,at[U]=_e,this.setPage(U)}return this},v.deletePage=function(){return hl.apply(this,arguments),this},v.__private__.text=v.text=function(N,U,he,_e,Ae){var We,et,Ct,Dt,Yt,Jt,gr,Gr,xn,Fr=(_e=_e||{}).scope||this;if(typeof N=="number"&&typeof U=="number"&&(typeof he=="string"||Array.isArray(he))){var kn=he;he=U,U=N,N=kn}if(arguments[3]instanceof yt==0?(Ct=arguments[4],Dt=arguments[5],Ir(gr=arguments[3])==="object"&&gr!==null||(typeof Ct=="string"&&(Dt=Ct,Ct=null),typeof gr=="string"&&(Dt=gr,gr=null),typeof gr=="number"&&(Ct=gr,gr=null),_e={flags:gr,angle:Ct,align:Dt})):($("The transform parameter of text() with a Matrix value"),xn=Ae),isNaN(U)||isNaN(he)||N==null)throw new Error("Invalid arguments passed to jsPDF.text");if(N.length===0)return Fr;var ln,Hn="",Xa=typeof _e.lineHeightFactor=="number"?_e.lineHeightFactor:pa,ma=Fr.internal.scaleFactor;function fu(vr){return vr=vr.split("	").join(Array(_e.TabLen||9).join(" ")),Ta(vr,gr)}function Mo(vr){for(var Ar,Qr=vr.concat(),wn=[],gs=Qr.length;gs--;)typeof(Ar=Qr.shift())=="string"?wn.push(Ar):Array.isArray(vr)&&(Ar.length===1||Ar[1]===void 0&&Ar[2]===void 0)?wn.push(Ar[0]):wn.push([Ar[0],Ar[1],Ar[2]]);return wn}function Ei(vr,Ar){var Qr;if(typeof vr=="string")Qr=Ar(vr)[0];else if(Array.isArray(vr)){for(var wn,gs,bc=vr.concat(),Nl=[],co=bc.length;co--;)typeof(wn=bc.shift())=="string"?Nl.push(Ar(wn)[0]):Array.isArray(wn)&&typeof wn[0]=="string"&&(gs=Ar(wn[0],wn[1],wn[2]),Nl.push([gs[0],gs[1],gs[2]]));Qr=Nl}return Qr}var zo=!1,Ci=!0;if(typeof N=="string")zo=!0;else if(Array.isArray(N)){var Bo=N.concat();et=[];for(var Ai,ea=Bo.length;ea--;)(typeof(Ai=Bo.shift())!="string"||Array.isArray(Ai)&&typeof Ai[0]!="string")&&(Ci=!1);zo=Ci}if(zo===!1)throw new Error('Type of text must be string or Array. "'+N+'" is not recognized.');typeof N=="string"&&(N=N.match(/[\r?\n]/)?N.split(/\r\n|\r|\n/g):[N]);var ki=Ve/Fr.internal.scaleFactor,Pi=ki*(Xa-1);switch(_e.baseline){case"bottom":he-=Pi;break;case"top":he+=ki-Pi;break;case"hanging":he+=ki-2*Pi;break;case"middle":he+=ki/2-Pi}if((Jt=_e.maxWidth||0)>0&&(typeof N=="string"?N=Fr.splitTextToSize(N,Jt):Object.prototype.toString.call(N)==="[object Array]"&&(N=N.reduce(function(vr,Ar){return vr.concat(Fr.splitTextToSize(Ar,Jt))},[]))),We={text:N,x:U,y:he,options:_e,mutex:{pdfEscape:Ta,activeFontKey:rt,fonts:lt,activeFontSize:Ve}},ne.publish("preProcessText",We),N=We.text,Ct=(_e=We.options).angle,xn instanceof yt==0&&Ct&&typeof Ct=="number"){Ct*=Math.PI/180,_e.rotationDirection===0&&(Ct=-Ct),R===T&&(Ct=-Ct);var vc=Math.cos(Ct),yc=Math.sin(Ct);xn=new yt(vc,yc,-yc,vc,0,0)}else Ct&&Ct instanceof yt&&(xn=Ct);R!==T||xn||(xn=yn),(Yt=_e.charSpace||fs)!==void 0&&(Hn+=D(P(Yt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Gr=_e.horizontalScale)!==void 0&&(Hn+=D(100*Gr)+` Tz
`),_e.lang;var Jr=-1,ps=_e.renderingMode!==void 0?_e.renderingMode:_e.stroke,zs=Fr.internal.getCurrentPageInfo().pageContext;switch(ps){case 0:case!1:case"fill":Jr=0;break;case 1:case!0:case"stroke":Jr=1;break;case 2:case"fillThenStroke":Jr=2;break;case 3:case"invisible":Jr=3;break;case 4:case"fillAndAddForClipping":Jr=4;break;case 5:case"strokeAndAddPathForClipping":Jr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Jr=6;break;case 7:case"addToPathForClipping":Jr=7}var pu=zs.usedRenderingMode!==void 0?zs.usedRenderingMode:-1;Jr!==-1?Hn+=Jr+` Tr
`:pu!==-1&&(Hn+=`0 Tr
`),Jr!==-1&&(zs.usedRenderingMode=Jr),Dt=_e.align||"left";var Ia,Uo=Ve*Xa,bl=Fr.internal.pageSize.getWidth(),xl=lt[rt];Yt=_e.charSpace||fs,Jt=_e.maxWidth||0,gr=Object.assign({autoencode:!0,noBOM:!0},_e.flags);var so=[],Qa=function(vr){return Fr.getStringUnitWidth(vr,{font:xl,charSpace:Yt,fontSize:Ve,doKerning:!1})*Ve/ma};if(Object.prototype.toString.call(N)==="[object Array]"){var Fa;et=Mo(N),Dt!=="left"&&(Ia=et.map(Qa));var Ma,qo=0;if(Dt==="right"){U-=Ia[0],N=[],ea=et.length;for(var Bs=0;Bs<ea;Bs++)Bs===0?(Ma=Da(U),Fa=ro(he)):(Ma=P(qo-Ia[Bs]),Fa=-Uo),N.push([et[Bs],Ma,Fa]),qo=Ia[Bs]}else if(Dt==="center"){U-=Ia[0]/2,N=[],ea=et.length;for(var oo=0;oo<ea;oo++)oo===0?(Ma=Da(U),Fa=ro(he)):(Ma=P((qo-Ia[oo])/2),Fa=-Uo),N.push([et[oo],Ma,Fa]),qo=Ia[oo]}else if(Dt==="left"){N=[],ea=et.length;for(var io=0;io<ea;io++)N.push(et[io])}else if(Dt==="justify"&&xl.encoding==="Identity-H"){N=[],ea=et.length,Jt=Jt!==0?Jt:bl;for(var Us=0,cn=0;cn<ea;cn++)if(Fa=cn===0?ro(he):-Uo,Ma=cn===0?Da(U):Us,cn<ea-1){var Oi=P((Jt-Ia[cn])/(et[cn].split(" ").length-1)),qs=et[cn].split(" ");N.push([qs[0]+" ",Ma,Fa]),Us=0;for(var ms=1;ms<qs.length;ms++){var Li=(Qa(qs[ms-1]+" "+qs[ms])-Qa(qs[ms]))*ma+Oi;ms==qs.length-1?N.push([qs[ms],Li,0]):N.push([qs[ms]+" ",Li,0]),Us-=Li}}else N.push([et[cn],Ma,Fa]);N.push(["",Us,0])}else{if(Dt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(N=[],ea=et.length,Jt=Jt!==0?Jt:bl,cn=0;cn<ea;cn++){Fa=cn===0?ro(he):-Uo,Ma=cn===0?Da(U):0;var Ti=et[cn].split(" ").length-1,wl=Ti>0?(Jt-Ia[cn])/Ti:0;cn<ea-1?so.push(D(P(wl))):so.push(0),N.push([et[cn],Ma,Fa])}}}(typeof _e.R2L=="boolean"?_e.R2L:Je)===!0&&(N=Ei(N,function(vr,Ar,Qr){return[vr.split("").reverse().join(""),Ar,Qr]})),We={text:N,x:U,y:he,options:_e,mutex:{pdfEscape:Ta,activeFontKey:rt,fonts:lt,activeFontSize:Ve}},ne.publish("postProcessText",We),N=We.text,ln=We.mutex.isHex||!1;var _l=lt[rt].encoding;_l!=="WinAnsiEncoding"&&_l!=="StandardEncoding"||(N=Ei(N,function(vr,Ar,Qr){return[fu(vr),Ar,Qr]})),et=Mo(N),N=[];for(var lo,$o,Vo,Ri=Array.isArray(et[0])?1:0,Wo="",Di=function(vr,Ar,Qr){var wn="";return Qr instanceof yt?(Qr=typeof _e.angle=="number"?fr(Qr,new yt(1,0,0,1,vr,Ar)):fr(new yt(1,0,0,1,vr,Ar),Qr),R===T&&(Qr=fr(new yt(1,0,0,-1,0,0),Qr)),wn=Qr.join(" ")+` Tm
`):wn=D(vr)+" "+D(Ar)+` Td
`,wn},Xr=0;Xr<et.length;Xr++){switch(Wo="",Ri){case 1:Vo=(ln?"<":"(")+et[Xr][0]+(ln?">":")"),lo=parseFloat(et[Xr][1]),$o=parseFloat(et[Xr][2]);break;case 0:Vo=(ln?"<":"(")+et[Xr]+(ln?">":")"),lo=Da(U),$o=ro(he)}so!==void 0&&so[Xr]!==void 0&&(Wo=so[Xr]+` Tw
`),Xr===0?N.push(Wo+Di(lo,$o,xn)+Vo):Ri===0?N.push(Wo+Vo):Ri===1&&N.push(Wo+Di(lo,$o,xn)+Vo)}N=Ri===0?N.join(` Tj
T* `):N.join(` Tj
`),N+=` Tj
`;var ga=`BT
/`;return ga+=rt+" "+Ve+` Tf
`,ga+=D(Ve*Xa)+` TL
`,ga+=hs+`
`,ga+=Hn,ga+=N,de(ga+="ET"),w[rt]=!0,Fr};var xi=v.__private__.clip=v.clip=function(N){return de(N==="evenodd"?"W*":"W"),this};v.clipEvenOdd=function(){return xi("evenodd")},v.__private__.discardPath=v.discardPath=function(){return de("n"),this};var Rs=v.__private__.isValidStyle=function(N){var U=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(N)!==-1&&(U=!0),U};v.__private__.setDefaultPathOperation=v.setDefaultPathOperation=function(N){return Rs(N)&&(h=N),this};var fl=v.__private__.getStyle=v.getStyle=function(N){var U=h;switch(N){case"D":case"S":U="S";break;case"F":U="f";break;case"FD":case"DF":U="B";break;case"f":case"f*":case"B":case"B*":U=N}return U},pr=v.close=function(){return de("h"),this};v.stroke=function(){return de("S"),this},v.fill=function(N){return eo("f",N),this},v.fillEvenOdd=function(N){return eo("f*",N),this},v.fillStroke=function(N){return eo("B",N),this},v.fillStrokeEvenOdd=function(N){return eo("B*",N),this};var eo=function(N,U){Ir(U)==="object"?cu(U,N):de(N)},pl=function(N){N===null||R===T&&N===void 0||(N=fl(N),de(N))};function dc(N,U,he,_e,Ae){var We=new Qu(U||this.boundingBox,he||this.xStep,_e||this.yStep,this.gState,Ae||this.matrix);We.stream=this.stream;var et=N+"$$"+this.cloneIndex+++"$$";return Cr(et,We),We}var cu=function(N,U){var he=Bt[N.key],_e=Ze[he];if(_e instanceof Wc)de("q"),de(uu(U)),_e.gState&&v.setGState(_e.gState),de(N.matrix.toString()+" cm"),de("/"+he+" sh"),de("Q");else if(_e instanceof Qu){var Ae=new yt(1,0,0,-1,0,Ja());N.matrix&&(Ae=Ae.multiply(N.matrix||yn),he=dc.call(_e,N.key,N.boundingBox,N.xStep,N.yStep,Ae).id),de("q"),de("/Pattern cs"),de("/"+he+" scn"),_e.gState&&v.setGState(_e.gState),de(U),de("Q")}},uu=function(N){switch(N){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ml=v.moveTo=function(N,U){return de(D(P(N))+" "+D(M(U))+" m"),this},to=v.lineTo=function(N,U){return de(D(P(N))+" "+D(M(U))+" l"),this},ds=v.curveTo=function(N,U,he,_e,Ae,We){return de([D(P(N)),D(M(U)),D(P(he)),D(M(_e)),D(P(Ae)),D(M(We)),"c"].join(" ")),this};v.__private__.line=v.line=function(N,U,he,_e,Ae){if(isNaN(N)||isNaN(U)||isNaN(he)||isNaN(_e)||!Rs(Ae))throw new Error("Invalid arguments passed to jsPDF.line");return R===L?this.lines([[he-N,_e-U]],N,U,[1,1],Ae||"S"):this.lines([[he-N,_e-U]],N,U,[1,1]).stroke()},v.__private__.lines=v.lines=function(N,U,he,_e,Ae,We){var et,Ct,Dt,Yt,Jt,gr,Gr,xn,Fr,kn,ln,Hn;if(typeof N=="number"&&(Hn=he,he=U,U=N,N=Hn),_e=_e||[1,1],We=We||!1,isNaN(U)||isNaN(he)||!Array.isArray(N)||!Array.isArray(_e)||!Rs(Ae)||typeof We!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ml(U,he),et=_e[0],Ct=_e[1],Yt=N.length,kn=U,ln=he,Dt=0;Dt<Yt;Dt++)(Jt=N[Dt]).length===2?(kn=Jt[0]*et+kn,ln=Jt[1]*Ct+ln,to(kn,ln)):(gr=Jt[0]*et+kn,Gr=Jt[1]*Ct+ln,xn=Jt[2]*et+kn,Fr=Jt[3]*Ct+ln,kn=Jt[4]*et+kn,ln=Jt[5]*Ct+ln,ds(gr,Gr,xn,Fr,kn,ln));return We&&pr(),pl(Ae),this},v.path=function(N){for(var U=0;U<N.length;U++){var he=N[U],_e=he.c;switch(he.op){case"m":ml(_e[0],_e[1]);break;case"l":to(_e[0],_e[1]);break;case"c":ds.apply(this,_e);break;case"h":pr()}}return this},v.__private__.rect=v.rect=function(N,U,he,_e,Ae){if(isNaN(N)||isNaN(U)||isNaN(he)||isNaN(_e)||!Rs(Ae))throw new Error("Invalid arguments passed to jsPDF.rect");return R===L&&(_e=-_e),de([D(P(N)),D(M(U)),D(P(he)),D(P(_e)),"re"].join(" ")),pl(Ae),this},v.__private__.triangle=v.triangle=function(N,U,he,_e,Ae,We,et){if(isNaN(N)||isNaN(U)||isNaN(he)||isNaN(_e)||isNaN(Ae)||isNaN(We)||!Rs(et))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[he-N,_e-U],[Ae-he,We-_e],[N-Ae,U-We]],N,U,[1,1],et,!0),this},v.__private__.roundedRect=v.roundedRect=function(N,U,he,_e,Ae,We,et){if(isNaN(N)||isNaN(U)||isNaN(he)||isNaN(_e)||isNaN(Ae)||isNaN(We)||!Rs(et))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ct=4/3*(Math.SQRT2-1);return Ae=Math.min(Ae,.5*he),We=Math.min(We,.5*_e),this.lines([[he-2*Ae,0],[Ae*Ct,0,Ae,We-We*Ct,Ae,We],[0,_e-2*We],[0,We*Ct,-Ae*Ct,We,-Ae,We],[2*Ae-he,0],[-Ae*Ct,0,-Ae,-We*Ct,-Ae,-We],[0,2*We-_e],[0,-We*Ct,Ae*Ct,-We,Ae,-We]],N+Ae,U,[1,1],et,!0),this},v.__private__.ellipse=v.ellipse=function(N,U,he,_e,Ae){if(isNaN(N)||isNaN(U)||isNaN(he)||isNaN(_e)||!Rs(Ae))throw new Error("Invalid arguments passed to jsPDF.ellipse");var We=4/3*(Math.SQRT2-1)*he,et=4/3*(Math.SQRT2-1)*_e;return ml(N+he,U),ds(N+he,U-et,N+We,U-_e,N,U-_e),ds(N-We,U-_e,N-he,U-et,N-he,U),ds(N-he,U+et,N-We,U+_e,N,U+_e),ds(N+We,U+_e,N+he,U+et,N+he,U),pl(Ae),this},v.__private__.circle=v.circle=function(N,U,he,_e){if(isNaN(N)||isNaN(U)||isNaN(he)||!Rs(_e))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(N,U,he,he,_e)},v.setFont=function(N,U,he){return he&&(U=Q(U,he)),rt=ou(N,U,{disableWarning:!1}),this};var Ds=v.__private__.getFont=v.getFont=function(){return lt[ou.apply(v,arguments)]};v.__private__.getFontList=v.getFontList=function(){var N,U,he={};for(N in mt)if(mt.hasOwnProperty(N))for(U in he[N]=[],mt[N])mt[N].hasOwnProperty(U)&&he[N].push(U);return he},v.addFont=function(N,U,he,_e,Ae){var We=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&We.indexOf(arguments[3])!==-1?Ae=arguments[3]:arguments[3]&&We.indexOf(arguments[3])==-1&&(he=Q(he,_e)),dl.call(this,N,U,he,Ae=Ae||"Identity-H")};var pa,Ha=t.lineWidth||.200025,Ht=v.__private__.getLineWidth=v.getLineWidth=function(){return Ha},wi=v.__private__.setLineWidth=v.setLineWidth=function(N){return Ha=N,de(D(P(N))+" w"),this};v.__private__.setLineDash=Ft.API.setLineDash=Ft.API.setLineDashPattern=function(N,U){if(N=N||[],U=U||0,isNaN(U)||!Array.isArray(N))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return N=N.map(function(he){return D(P(he))}).join(" "),U=D(P(U)),de("["+N+"] "+U+" d"),this};var Is=v.__private__.getLineHeight=v.getLineHeight=function(){return Ve*pa};v.__private__.getLineHeight=v.getLineHeight=function(){return Ve*pa};var Ad=v.__private__.setLineHeightFactor=v.setLineHeightFactor=function(N){return typeof(N=N||1.15)=="number"&&(pa=N),this},du=v.__private__.getLineHeightFactor=v.getLineHeightFactor=function(){return pa};Ad(t.lineHeight);var Da=v.__private__.getHorizontalCoordinate=function(N){return P(N)},ro=v.__private__.getVerticalCoordinate=function(N){return R===T?N:at[Y].mediaBox.topRightY-at[Y].mediaBox.bottomLeftY-P(N)},hu=v.__private__.getHorizontalCoordinateString=v.getHorizontalCoordinateString=function(N){return D(Da(N))},gl=v.__private__.getVerticalCoordinateString=v.getVerticalCoordinateString=function(N){return D(ro(N))},_i=t.strokeColor||"0 G";v.__private__.getStrokeColor=v.getDrawColor=function(){return Ts(_i)},v.__private__.setStrokeColor=v.setDrawColor=function(N,U,he,_e){return _i=Wn({ch1:N,ch2:U,ch3:he,ch4:_e,pdfColorType:"draw",precision:2}),de(_i),this};var hc=t.fillColor||"0 g";v.__private__.getFillColor=v.getFillColor=function(){return Ts(hc)},v.__private__.setFillColor=v.setFillColor=function(N,U,he,_e){return hc=Wn({ch1:N,ch2:U,ch3:he,ch4:_e,pdfColorType:"fill",precision:2}),de(hc),this};var hs=t.textColor||"0 g",Fs=v.__private__.getTextColor=v.getTextColor=function(){return Ts(hs)};v.__private__.setTextColor=v.setTextColor=function(N,U,he,_e){return hs=Wn({ch1:N,ch2:U,ch3:he,ch4:_e,pdfColorType:"text",precision:3}),this};var fs=t.charSpace,vl=v.__private__.getCharSpace=v.getCharSpace=function(){return parseFloat(fs||0)};v.__private__.setCharSpace=v.setCharSpace=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return fs=N,this};var fc=0;v.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},v.__private__.setLineCap=v.setLineCap=function(N){var U=v.CapJoinStyles[N];if(U===void 0)throw new Error("Line cap style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return fc=U,de(U+" J"),this};var pc=0;v.__private__.setLineJoin=v.setLineJoin=function(N){var U=v.CapJoinStyles[N];if(U===void 0)throw new Error("Line join style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return pc=U,de(U+" j"),this},v.__private__.setLineMiterLimit=v.__private__.setMiterLimit=v.setLineMiterLimit=v.setMiterLimit=function(N){if(N=N||0,isNaN(N))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return de(D(P(N))+" M"),this},v.GState=xp,v.setGState=function(N){(N=typeof N=="string"?pt[ar[N]]:no(null,N)).equals(nr)||(de("/"+N.id+" gs"),nr=N)};var no=function(N,U){if(!N||!ar[N]){var he=!1;for(var _e in pt)if(pt.hasOwnProperty(_e)&&pt[_e].equals(U)){he=!0;break}if(he)U=pt[_e];else{var Ae="GS"+(Object.keys(pt).length+1).toString(10);pt[Ae]=U,U.id=Ae}return N&&(ar[N]=U.id),ne.publish("addGState",U),U}};v.addGState=function(N,U){return no(N,U),this},v.saveGraphicsState=function(){return de("q"),St.push({key:rt,size:Ve,color:hs}),this},v.restoreGraphicsState=function(){de("Q");var N=St.pop();return rt=N.key,Ve=N.size,hs=N.color,nr=null,this},v.setCurrentTransformationMatrix=function(N){return de(N.toString()+" cm"),this},v.comment=function(N){return de("#"+N),this};var Ms=function(N,U){var he=N||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return he},set:function(We){isNaN(We)||(he=parseFloat(We))}});var _e=U||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return _e},set:function(We){isNaN(We)||(_e=parseFloat(We))}});var Ae="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ae},set:function(We){Ae=We.toString()}}),this},Ni=function(N,U,he,_e){Ms.call(this,N,U),this.type="rect";var Ae=he||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ae},set:function(et){isNaN(et)||(Ae=parseFloat(et))}});var We=_e||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return We},set:function(et){isNaN(et)||(We=parseFloat(et))}}),this},ji=function(){this.page=Qe,this.currentPage=Y,this.pages=De.slice(0),this.pagesContext=at.slice(0),this.x=Me,this.y=Ge,this.matrix=xt,this.width=Si(Y),this.height=Ka(Y),this.outputDestination=tt,this.id="",this.objectNumber=-1};ji.prototype.restore=function(){Qe=this.page,Y=this.currentPage,at=this.pagesContext,De=this.pages,Me=this.x,Ge=this.y,xt=this.matrix,mc(Y,this.width),Ya(Y,this.height),tt=this.outputDestination};var Ga=function(N,U,he,_e,Ae){dr.push(new ji),Qe=Y=0,De=[],Me=N,Ge=U,xt=Ae,Fo([he,_e])};for(var ao in v.beginFormObject=function(N,U,he,_e,Ae){return Ga(N,U,he,_e,Ae),this},v.endFormObject=function(N){return(function(U){if(Kt[U])dr.pop().restore();else{var he=new ji,_e="Xo"+(Object.keys(Tt).length+1).toString(10);he.id=_e,Kt[U]=_e,Tt[_e]=he,ne.publish("addFormObject",he),dr.pop().restore()}})(N),this},v.doFormObject=function(N,U){var he=Tt[Kt[N]];return de("q"),de(U.toString()+" cm"),de("/"+he.id+" Do"),de("Q"),this},v.getFormObject=function(N){var U=Tt[Kt[N]];return{x:U.x,y:U.y,width:U.width,height:U.height,matrix:U.matrix}},v.save=function(N,U){return N=N||"generated.pdf",(U=U||{}).returnPromise=U.returnPromise||!1,U.returnPromise===!1?(qc(us(Wa()),N),typeof qc.unload=="function"&&Qt.setTimeout&&setTimeout(qc.unload,911),this):new Promise(function(he,_e){try{var Ae=qc(us(Wa()),N);typeof qc.unload=="function"&&Qt.setTimeout&&setTimeout(qc.unload,911),he(Ae)}catch(We){_e(We.message)}})},Ft.API)Ft.API.hasOwnProperty(ao)&&(ao==="events"&&Ft.API.events.length?(function(N,U){var he,_e,Ae;for(Ae=U.length-1;Ae!==-1;Ae--)he=U[Ae][0],_e=U[Ae][1],N.subscribe.apply(N,[he].concat(typeof _e=="function"?[_e]:_e))})(ne,Ft.API.events):v[ao]=Ft.API[ao]);function Si(N){return at[N].mediaBox.topRightX-at[N].mediaBox.bottomLeftX}function mc(N,U){at[N].mediaBox.topRightX=U+at[N].mediaBox.bottomLeftX}function Ka(N){return at[N].mediaBox.topRightY-at[N].mediaBox.bottomLeftY}function Ya(N,U){at[N].mediaBox.topRightY=U+at[N].mediaBox.bottomLeftY}var gc=v.getPageWidth=function(N){return Si(N=N||Y)/Xe},Zn=v.setPageWidth=function(N,U){mc(N,U*Xe)},Ja=v.getPageHeight=function(N){return Ka(N=N||Y)/Xe},yl=v.setPageHeight=function(N,U){Ya(N,U*Xe)};return v.internal={pdfEscape:Ta,getStyle:fl,getFont:Ds,getFontSize:we,getCharSpace:vl,getTextColor:Fs,getLineHeight:Is,getLineHeightFactor:du,getLineWidth:Ht,write:zt,getHorizontalCoordinate:Da,getVerticalCoordinate:ro,getCoordinateString:hu,getVerticalCoordinateString:gl,collections:{},newObject:Nr,newAdditionalObject:Zs,newObjectDeferred:jr,newObjectDeferredBegin:sn,getFilters:Va,putStream:La,events:ne,scaleFactor:Xe,pageSize:{getWidth:function(){return gc(Y)},setWidth:function(N){Zn(Y,N)},getHeight:function(){return Ja(Y)},setHeight:function(N){yl(Y,N)}},encryptionOptions:p,encryption:on,getEncryptor:function(N){return p!==null?on.encryptor(N,0):function(U){return U}},output:fa,getNumberOfPages:Ra,pages:De,out:de,f2:z,f3:F,getPageInfo:bi,getPageInfoByObjId:lu,getCurrentPageInfo:uc,getPDFVersion:x,Point:Ms,Rectangle:Ni,Matrix:yt,hasHotfix:yi},Object.defineProperty(v.internal.pageSize,"width",{get:function(){return gc(Y)},set:function(N){Zn(Y,N)},enumerable:!0,configurable:!0}),Object.defineProperty(v.internal.pageSize,"height",{get:function(){return Ja(Y)},set:function(N){yl(Y,N)},enumerable:!0,configurable:!0}),function(N){for(var U=0,he=bt.length;U<he;U++){var _e=dl.call(this,N[U][0],N[U][1],N[U][2],bt[U][3],!0);g===!1&&(w[_e]=!0);var Ae=N[U][0].split("-");au({id:_e,fontName:Ae[0],fontStyle:Ae[1]||""})}ne.publish("addFonts",{fonts:lt,dictionary:mt})}.call(v,bt),rt="F1",su(a,r),ne.publish("initialized"),v}Ju.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Ju.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ju.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Ju.prototype.processOwnerPassword=function(t,e){return fv(hv(e).substr(0,5),t)},Ju.prototype.encryptor=function(t,e){var r=hv(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return fv(r,n)}},xp.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Ir(t)!==Ir(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Ft.API={events:[]},Ft.version="3.0.3";var En=Ft.API,h0=1,nu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Hu=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},tr=function(t){return t.toFixed(2)},Wl=function(t){return t.toFixed(5)};En.__acroform__={};var is=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Fy=function(t){return t*h0},ei=function(t){var e=new b_,r=Lt.internal.getHeight(t)||0,n=Lt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(tr(n)),Number(tr(r))],e},aT=En.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},sT=En.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},oT=En.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Dn=En.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return oT(t,e-1)},In=En.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return aT(t,e-1)},Fn=En.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return sT(t,e-1)},iT=En.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],i=t[1],c=t[2],u=t[3],d={};return d.lowerLeft_X=r(a)||0,d.lowerLeft_Y=n(i+u)||0,d.upperRight_X=r(a+c)||0,d.upperRight_Y=n(i)||0,[Number(tr(d.lowerLeft_X)),Number(tr(d.lowerLeft_Y)),Number(tr(d.upperRight_X)),Number(tr(d.upperRight_Y))]},lT=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=pv(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+tr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=ei(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},pv=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(z){return z.split(`
`)}):a.map(function(z){return[z]});var i=r,c=Lt.internal.getHeight(t)||0;c=c<0?-c:c;var u=Lt.internal.getWidth(t)||0;u=u<0?-u:u;var d=function(z,F,P){if(z+1<a.length){var M=F+" "+a[z+1][0];return Wf(M,t,P).width<=u-4}return!1};i++;e:for(;i>0;){e="",i--;var h,p,g=Wf("3",t,i).height,w=t.multiline?c-i:(c-g)/2,v=w+=2,S=0,x=0,_=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Wf(e,t,i=12).width+", FieldWidth:"+u+`
`;break}for(var C="",L=0,T=0;T<a.length;T++)if(a.hasOwnProperty(T)){var R=!1;if(a[T].length!==1&&_!==a[T].length-1){if((g+2)*(L+2)+2>c)continue e;C+=a[T][_],R=!0,x=T,T--}else{C=(C+=a[T][_]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var H=parseInt(T),J=d(H,C,i),Q=T>=a.length-1;if(J&&!Q){C+=" ",_=0;continue}if(J||Q){if(Q)x=H;else if(t.multiline&&(g+2)*(L+2)+2>c)continue e}else{if(!t.multiline||(g+2)*(L+2)+2>c)continue e;x=H}}for(var D="",$=S;$<=x;$++){var G=a[$];if(t.multiline){if($===x){D+=G[_]+" ",_=(_+1)%G.length;continue}if($===S){D+=G[G.length-1]+" ";continue}}D+=G[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,p=Wf(D,t,i).width,t.textAlign){case"right":h=u-p-2;break;case"center":h=(u-p)/2;break;default:h=2}e+=tr(h)+" "+tr(v)+` Td
`,e+="("+nu(D)+`) Tj
`,e+=-tr(h)+` 0 Td
`,v=-(i+2),p=0,S=R?x:x+1,L++,C=""}break}return n.text=e,n.fontSize=i,n},Wf=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},cT={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},uT=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},dT=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(To.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(cT)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");h0=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new x_,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&uT(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var c in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(c)){var u=n[c],d=[],h=u.Rect;if(u.Rect&&(u.Rect=iT(u.Rect,a)),a.internal.newObjectDeferredBegin(u.objId,!0),u.DA=Lt.createDefaultAppearanceStream(u),Ir(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(d=u.getKeyValueListForStream()),u.Rect=h,u.hasAppearanceStream&&!u.appearanceStreamContent){var p=lT(u);d.push({key:"AP",value:"<</N "+p+">>"}),a.internal.acroformPlugin.xForms.push(p)}if(u.appearanceStreamContent){var g="";for(var w in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(w)){var v=u.appearanceStreamContent[w];if(g+="/"+w+" ",g+="<<",Object.keys(v).length>=1||Array.isArray(v)){for(var c in v)if(v.hasOwnProperty(c)){var S=v[c];typeof S=="function"&&(S=S.call(a,u)),g+="/"+c+" "+S+" ",a.internal.acroformPlugin.xForms.indexOf(S)>=0||a.internal.acroformPlugin.xForms.push(S)}}else typeof(S=v)=="function"&&(S=S.call(a,u)),g+="/"+c+" "+S,a.internal.acroformPlugin.xForms.indexOf(S)>=0||a.internal.acroformPlugin.xForms.push(S);g+=">>"}d.push({key:"AP",value:`<<
`+g+">>"})}a.internal.putStream({additionalKeyValues:d,objectId:u.objId}),a.internal.out("endobj")}i&&(function(x,_){for(var C in x)if(x.hasOwnProperty(C)){var L=C,T=x[C];_.internal.newObjectDeferredBegin(T.objId,!0),Ir(T)==="object"&&typeof T.putStream=="function"&&T.putStream(),delete x[L]}})(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},y_=En.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(c){return c};if(Array.isArray(t)){for(var a="[",i=0;i<t.length;i++)switch(i!==0&&(a+=" "),Ir(t[i])){case"boolean":case"number":case"object":a+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),a+="("+nu(n(t[i].toString()))+")"):a+=t[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},bg=function(t,e,r){var n=function(a){return a};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+nu(n(t))+")"},si=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};si.prototype.toString=function(){return this.objId+" 0 R"},si.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},si.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:y_(a,this.objId,this.scope)}):a instanceof si?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var b_=function(){si.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};is(b_,si);var x_=function(){si.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+nu(r(t))+")"}},set:function(r){t=r}})};is(x_,si);var To=function t(){si.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');e=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Dn(e,3)},set:function(C){C?this.F=In(e,3):this.F=Fn(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');r=C}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(C){n=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(C){n[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(C){n[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(C){n[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(C){n[3]=C}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof wp)return;i="FieldObject"+t.FieldNum++}var C=function(L){return L};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+nu(C(i))+")"},set:function(C){i=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(C){i=C}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(C){c=C}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(C){u=C}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(C){d=C}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/h0:h},set:function(C){h=C}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(C){p=C}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof wp||this instanceof Gc))return bg(g,this.objId,this.scope)},set:function(C){C=C.toString(),g=C}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof ia==0?bg(w,this.objId,this.scope):w},set:function(C){C=C.toString(),w=this instanceof ia==0?C.substr(0,1)==="("?Hu(C.substr(1,C.length-2)):Hu(C):C}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ia==1?Hu(w.substr(1,w.length-1)):w},set:function(C){C=C.toString(),w=this instanceof ia==1?"/"+C:C}});var v=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(v)return v},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof ia==0?bg(v,this.objId,this.scope):v},set:function(C){C=C.toString(),v=this instanceof ia==0?C.substr(0,1)==="("?Hu(C.substr(1,C.length-2)):Hu(C):C}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ia==1?Hu(v.substr(1,v.length-1)):v},set:function(C){C=C.toString(),v=this instanceof ia==1?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(C){C=!!C,x=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(C){S=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,1)},set:function(C){C?this.Ff=In(this.Ff,1):this.Ff=Fn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,2)},set:function(C){C?this.Ff=In(this.Ff,2):this.Ff=Fn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,3)},set:function(C){C?this.Ff=In(this.Ff,3):this.Ff=Fn(this.Ff,3)}});var _=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(_!==null)return _},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');_=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(_){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:_=2;break;case"center":case 1:_=1;break;default:_=0}}})};is(To,si);var od=function(){To.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return y_(e,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=(function(i,c,u){u||(u=1);for(var d,h=[];d=c.exec(i);)h.push(d[u]);return h})(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,18)},set:function(r){r?this.Ff=In(this.Ff,18):this.Ff=Fn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=In(this.Ff,19):this.Ff=Fn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,20)},set:function(r){r?(this.Ff=In(this.Ff,20),e.sort()):this.Ff=Fn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,22)},set:function(r){r?this.Ff=In(this.Ff,22):this.Ff=Fn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,23)},set:function(r){r?this.Ff=In(this.Ff,23):this.Ff=Fn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,27)},set:function(r){r?this.Ff=In(this.Ff,27):this.Ff=Fn(this.Ff,27)}}),this.hasAppearanceStream=!1};is(od,To);var id=function(){od.call(this),this.fontName="helvetica",this.combo=!1};is(id,od);var ld=function(){id.call(this),this.combo=!0};is(ld,id);var rp=function(){ld.call(this),this.edit=!0};is(rp,ld);var ia=function(){To.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,15)},set:function(r){r?this.Ff=In(this.Ff,15):this.Ff=Fn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,16)},set:function(r){r?this.Ff=In(this.Ff,16):this.Ff=Fn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,17)},set:function(r){r?this.Ff=In(this.Ff,17):this.Ff=Fn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,26)},set:function(r){r?this.Ff=In(this.Ff,26):this.Ff=Fn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+nu(r(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Ir(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};is(ia,To);var np=function(){ia.call(this),this.pushButton=!0};is(np,ia);var cd=function(){ia.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};is(cd,ia);var wp=function(){var t,e;To.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(u){return u};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,c=[];for(i in c.push("<<"),n)c.push("/"+i+" ("+nu(a(n[i]))+")");return c.push(">>"),c.join(`
`)},set:function(a){Ir(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Lt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};is(wp,To),cd.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},cd.prototype.createOption=function(t){var e=new wp;return e.Parent=this,e.optionName=t,this.Kids.push(e),hT.call(this.scope,e),e};var ap=function(){ia.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Lt.CheckBox.createAppearanceStream()};is(ap,ia);var Gc=function(){To.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,13)},set:function(e){e?this.Ff=In(this.Ff,13):this.Ff=Fn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,21)},set:function(e){e?this.Ff=In(this.Ff,21):this.Ff=Fn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,23)},set:function(e){e?this.Ff=In(this.Ff,23):this.Ff=Fn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,24)},set:function(e){e?this.Ff=In(this.Ff,24):this.Ff=Fn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,25)},set:function(e){e?this.Ff=In(this.Ff,25):this.Ff=Fn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,26)},set:function(e){e?this.Ff=In(this.Ff,26):this.Ff=Fn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};is(Gc,To);var sp=function(){Gc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,14)},set:function(t){t?this.Ff=In(this.Ff,14):this.Ff=Fn(this.Ff,14)}}),this.password=!0};is(sp,Gc);var Lt={CheckBox:{createAppearanceStream:function(){return{N:{On:Lt.CheckBox.YesNormal},D:{On:Lt.CheckBox.YesPushDown,Off:Lt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=ei(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=pv(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+tr(Lt.internal.getWidth(t))+" "+tr(Lt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+tr(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=ei(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],i=Lt.internal.getHeight(t),c=Lt.internal.getWidth(t),u=pv(t,t.caption);return a.push("1 g"),a.push("0 0 "+tr(c)+" "+tr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+tr(c-1)+" "+tr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+tr(u.fontSize)+" Tf "+n),a.push(u.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=ei(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+tr(Lt.internal.getWidth(t))+" "+tr(Lt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Lt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Lt.RadioButton.Circle.YesNormal,e.D[t]=Lt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=ei(t);e.scope=t.scope;var r=[],n=Lt.internal.getWidth(t)<=Lt.internal.getHeight(t)?Lt.internal.getWidth(t)/4:Lt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Lt.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Wl(Lt.internal.getWidth(t)/2)+" "+Wl(Lt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=ei(t);e.scope=t.scope;var r=[],n=Lt.internal.getWidth(t)<=Lt.internal.getHeight(t)?Lt.internal.getWidth(t)/4:Lt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Lt.internal.Bezier_C).toFixed(5)),c=Number((n*Lt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Wl(Lt.internal.getWidth(t)/2)+" "+Wl(Lt.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Wl(Lt.internal.getWidth(t)/2)+" "+Wl(Lt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+c+" "+c+" "+n+" 0 "+n+" c"),r.push("-"+c+" "+n+" -"+n+" "+c+" -"+n+" 0 c"),r.push("-"+n+" -"+c+" -"+c+" -"+n+" 0 -"+n+" c"),r.push(c+" -"+n+" "+n+" -"+c+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=ei(t);e.scope=t.scope;var r=[],n=Lt.internal.getWidth(t)<=Lt.internal.getHeight(t)?Lt.internal.getWidth(t)/4:Lt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Lt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Wl(Lt.internal.getWidth(t)/2)+" "+Wl(Lt.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Lt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Lt.RadioButton.Cross.YesNormal,e.D[t]=Lt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=ei(t);e.scope=t.scope;var r=[],n=Lt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+tr(Lt.internal.getWidth(t)-2)+" "+tr(Lt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(tr(n.x1.x)+" "+tr(n.x1.y)+" m"),r.push(tr(n.x2.x)+" "+tr(n.x2.y)+" l"),r.push(tr(n.x4.x)+" "+tr(n.x4.y)+" m"),r.push(tr(n.x3.x)+" "+tr(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=ei(t);e.scope=t.scope;var r=Lt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+tr(Lt.internal.getWidth(t))+" "+tr(Lt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+tr(Lt.internal.getWidth(t)-2)+" "+tr(Lt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(tr(r.x1.x)+" "+tr(r.x1.y)+" m"),n.push(tr(r.x2.x)+" "+tr(r.x2.y)+" l"),n.push(tr(r.x4.x)+" "+tr(r.x4.y)+" m"),n.push(tr(r.x3.x)+" "+tr(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=ei(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+tr(Lt.internal.getWidth(t))+" "+tr(Lt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Lt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Lt.internal.getWidth(t),r=Lt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Lt.internal.getWidth=function(t){var e=0;return Ir(t)==="object"&&(e=Fy(t.Rect[2])),e},Lt.internal.getHeight=function(t){var e=0;return Ir(t)==="object"&&(e=Fy(t.Rect[3])),e};var hT=En.addField=function(t){if(dT(this,t),!(t instanceof To))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};En.AcroFormChoiceField=od,En.AcroFormListBox=id,En.AcroFormComboBox=ld,En.AcroFormEditBox=rp,En.AcroFormButton=ia,En.AcroFormPushButton=np,En.AcroFormRadioButton=cd,En.AcroFormCheckBox=ap,En.AcroFormTextField=Gc,En.AcroFormPasswordField=sp,En.AcroFormAppearance=Lt,En.AcroForm={ChoiceField:od,ListBox:id,ComboBox:ld,EditBox:rp,Button:ia,PushButton:np,RadioButton:cd,CheckBox:ap,TextField:Gc,PasswordField:sp,Appearance:Lt},Ft.AcroForm={ChoiceField:od,ListBox:id,ComboBox:ld,EditBox:rp,Button:ia,PushButton:np,RadioButton:cd,CheckBox:ap,TextField:Gc,PasswordField:sp,Appearance:Lt};Ft.AcroForm;function w_(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=t.__addimage__.getImageFileTypeByImageData=function(z,F){var P,M,fe,ae,se,q=r;if((F=F||r)==="RGBA"||z.data!==void 0&&z.data instanceof Uint8ClampedArray&&"height"in z&&"width"in z)return"RGBA";if(J(z))for(se in n)for(fe=n[se],P=0;P<fe.length;P+=1){for(ae=!0,M=0;M<fe[P].length;M+=1)if(fe[P][M]!==void 0&&fe[P][M]!==z[M]){ae=!1;break}if(ae===!0){q=se;break}}else for(se in n)for(fe=n[se],P=0;P<fe.length;P+=1){for(ae=!0,M=0;M<fe[P].length;M+=1)if(fe[P][M]!==void 0&&fe[P][M]!==z.charCodeAt(M)){ae=!1;break}if(ae===!0){q=se;break}}return q===r&&F!==r&&(q=F),q},i=function z(F){for(var P=this.internal.write,M=this.internal.putStream,fe=(0,this.internal.getFilters)();fe.indexOf("FlateEncode")!==-1;)fe.splice(fe.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var ae=[];if(ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Image"}),ae.push({key:"Width",value:F.width}),ae.push({key:"Height",value:F.height}),F.colorSpace===C.INDEXED?ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(ae.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===C.DEVICE_CMYK&&ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ae.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&ae.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)&&F.transparency.length>0){for(var se="",q=0,me=F.transparency.length;q<me;q++)se+=F.transparency[q]+" "+F.transparency[q]+" ";ae.push({key:"Mask",value:"["+se+"]"})}F.sMask!==void 0&&ae.push({key:"SMask",value:F.objectId+1+" 0 R"});var Ne=F.filter!==void 0?["/"+F.filter]:void 0;if(M({data:F.data,additionalKeyValues:ae,alreadyAppliedFilters:Ne,objectId:F.objectId}),P("endobj"),"sMask"in F&&F.sMask!==void 0){var te,I=(te=F.sMaskBitsPerComponent)!==null&&te!==void 0?te:F.bitsPerComponent,Y={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:I,data:F.sMask};"filter"in F&&(Y.decodeParameters="/Predictor ".concat(F.predictor," /Colors 1 /BitsPerComponent ").concat(I," /Columns ").concat(F.width),Y.filter=F.filter),z.call(this,Y)}if(F.colorSpace===C.INDEXED){var Z=this.internal.newObject();M({data:D(new Uint8Array(F.palette)),objectId:Z}),P("endobj")}},c=function(){var z=this.internal.collections[e+"images"];for(var F in z)i.call(this,z[F])},u=function(){var z,F=this.internal.collections[e+"images"],P=this.internal.write;for(var M in F)P("/I"+(z=F[M]).index,z.objectId,"0","R")},d=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",u))},h=function(){var z=this.internal.collections[e+"images"];return d.call(this),z},p=function(){return Object.keys(this.internal.collections[e+"images"]).length},g=function(z){return typeof t["process"+z.toUpperCase()]=="function"},w=function(z){return Ir(z)==="object"&&z.nodeType===1},v=function(z,F){if(z.nodeName==="IMG"&&z.hasAttribute("src")){var P=""+z.getAttribute("src");if(P.indexOf("data:image/")===0)return tp(unescape(P).split("base64,").pop());var M=t.loadFile(P,!0);if(M!==void 0)return M}if(z.nodeName==="CANVAS"){if(z.width===0||z.height===0)throw new Error("Given canvas must have data. Canvas width: "+z.width+", height: "+z.height);var fe;switch(F){case"PNG":fe="image/png";break;case"WEBP":fe="image/webp";break;default:fe="image/jpeg"}return tp(z.toDataURL(fe,1).split("base64,").pop())}},S=function(z){var F=this.internal.collections[e+"images"];if(F){for(var P in F)if(z===F[P].alias)return F[P]}},x=function(z,F,P){return z||F||(z=-96,F=-96),z<0&&(z=-1*P.width*72/z/this.internal.scaleFactor),F<0&&(F=-1*P.height*72/F/this.internal.scaleFactor),z===0&&(z=F*P.width/P.height),F===0&&(F=z*P.height/P.width),[z,F]},_=function(z,F,P,M,fe,ae){var se=x.call(this,P,M,fe),q=this.internal.getCoordinateString,me=this.internal.getVerticalCoordinateString,Ne=h.call(this);if(P=se[0],M=se[1],Ne[fe.index]=fe,ae){ae*=Math.PI/180;var te=Math.cos(ae),I=Math.sin(ae),Y=function(ue){return ue.toFixed(4)},Z=[Y(te),Y(I),Y(-1*I),Y(te),0,0,"cm"]}this.internal.write("q"),ae?(this.internal.write([1,"0","0",1,q(z),me(F+M),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([q(P),"0","0",q(M),"0","0","cm"].join(" "))):this.internal.write([q(P),"0","0",q(M),q(z),me(F+M),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+fe.index+" Do"),this.internal.write("Q")},C=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var L=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},T=t.__addimage__.sHashCode=function(z){var F,P,M=0;if(typeof z=="string")for(P=z.length,F=0;F<P;F++)M=(M<<5)-M+z.charCodeAt(F),M|=0;else if(J(z))for(P=z.byteLength/2,F=0;F<P;F++)M=(M<<5)-M+z[F],M|=0;return M},R=t.__addimage__.validateStringAsBase64=function(z){(z=z||"").toString().trim();var F=!0;return z.length===0&&(F=!1),z.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(z.substr(0,z.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(z.substr(-2))===!1&&(F=!1),F},H=t.__addimage__.extractImageFromDataUrl=function(z){if(z==null||!(z=z.trim()).startsWith("data:"))return null;var F=z.indexOf(",");return F<0?null:z.substring(0,F).trim().endsWith("base64")?z.substring(F+1):null};t.__addimage__.isArrayBuffer=function(z){return z instanceof ArrayBuffer};var J=t.__addimage__.isArrayBufferView=function(z){return z instanceof Int8Array||z instanceof Uint8Array||z instanceof Uint8ClampedArray||z instanceof Int16Array||z instanceof Uint16Array||z instanceof Int32Array||z instanceof Uint32Array||z instanceof Float32Array||z instanceof Float64Array},Q=t.__addimage__.binaryStringToUint8Array=function(z){for(var F=z.length,P=new Uint8Array(F),M=0;M<F;M++)P[M]=z.charCodeAt(M);return P},D=t.__addimage__.arrayBufferToBinaryString=function(z){for(var F="",P=J(z)?z:new Uint8Array(z),M=0;M<P.length;M+=8192)F+=String.fromCharCode.apply(null,P.subarray(M,M+8192));return F};t.addImage=function(){var z,F,P,M,fe,ae,se,q,me;if(typeof arguments[1]=="number"?(F=r,P=arguments[1],M=arguments[2],fe=arguments[3],ae=arguments[4],se=arguments[5],q=arguments[6],me=arguments[7]):(F=arguments[1],P=arguments[2],M=arguments[3],fe=arguments[4],ae=arguments[5],se=arguments[6],q=arguments[7],me=arguments[8]),Ir(z=arguments[0])==="object"&&!w(z)&&"imageData"in z){var Ne=z;z=Ne.imageData,F=Ne.format||F||r,P=Ne.x||P||0,M=Ne.y||M||0,fe=Ne.w||Ne.width||fe,ae=Ne.h||Ne.height||ae,se=Ne.alias||se,q=Ne.compression||q,me=Ne.rotation||Ne.angle||me}var te=this.internal.getFilters();if(q===void 0&&te.indexOf("FlateEncode")!==-1&&(q="SLOW"),isNaN(P)||isNaN(M))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var I=$.call(this,z,F,se,q);return _.call(this,P,M,fe,ae,I,me),this};var $=function(z,F,P,M){var fe,ae,se;if(typeof z=="string"&&a(z)===r){z=unescape(z);var q=G(z,!1);(q!==""||(q=t.loadFile(z,!0))!==void 0)&&(z=q)}if(w(z)&&(z=v(z,F)),F=a(z,F),!g(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((se=P)==null||se.length===0)&&(P=(function(me){return typeof me=="string"||J(me)?T(me):J(me.data)?T(me.data):null})(z)),(fe=S.call(this,P))||(z instanceof Uint8Array||F==="RGBA"||(ae=z,z=Q(z)),fe=this["process"+F.toUpperCase()](z,p.call(this),P,(function(me){return me&&typeof me=="string"&&(me=me.toUpperCase()),me in t.image_compression?me:L.NONE})(M),ae)),!fe)throw new Error("An unknown error occurred whilst processing the image.");return fe},G=t.__addimage__.convertBase64ToBinaryString=function(z,F){F=typeof F!="boolean"||F;var P,M="";if(typeof z=="string"){var fe;P=(fe=H(z))!==null&&fe!==void 0?fe:z;try{M=tp(P)}catch(ae){if(F)throw R(P)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return M};t.getImageProperties=function(z){var F,P,M="";if(w(z)&&(z=v(z)),typeof z=="string"&&a(z)===r&&((M=G(z,!1))===""&&(M=t.loadFile(z)||""),z=M),P=a(z),!g(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(z instanceof Uint8Array||(z=Q(z)),!(F=this["process"+P.toUpperCase()](z)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=P,F}})(Ft.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Ft.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,i,c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(r.objId),h=r.pageContext.annotations,p=!1,g=0;g<h.length&&!p;g++)switch((n=h[g]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var w=0;w<h.length;w++){n=h[w];var v=this.internal.pdfEscape,S=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),_=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(x.objId),L=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+c(n.bounds.x)+" "+u(n.bounds.y+n.bounds.h)+" "+c(n.bounds.x+n.bounds.w)+" "+u(n.bounds.y)+"] ")+"/Contents ("+v(C(n.contents))+")",i+=" /Popup "+_.objId+" 0 R",i+=" /P "+d.objId+" 0 R",i+=" /T ("+v(C(L))+") >>",x.content=i;var T=x.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+c(n.bounds.x+30)+" "+u(n.bounds.y+n.bounds.h)+" "+c(n.bounds.x+n.bounds.w+30)+" "+u(n.bounds.y)+"] ")+" /Parent "+T,n.open&&(i+=" /Open true"),i+=" >>",_.content=i,this.internal.write(x.objId,"0 R",_.objId,"0 R");break;case"freetext":a="/Rect ["+c(n.bounds.x)+" "+u(n.bounds.y)+" "+c(n.bounds.x+n.bounds.w)+" "+u(n.bounds.y+n.bounds.h)+"] ";var R=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+v(S(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var H=this.annotations._nameMap[n.options.name];n.options.pageNumber=H.page,n.options.top=H.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+v(S(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var J=u(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+J+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,i,c){var u=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:d(r),y:h(n),w:d(r+a),h:h(n+i)},options:c,type:"link"})},t.textWithLink=function(r,n,a,i){var c,u,d=this.getTextWidth(r),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){u=i.maxWidth;var p=this.splitTextToSize(r,u).length;c=Math.ceil(h*p)}else u=d,c=h;return this.text(r,n,a,i),a+=.2*h,i.align==="center"&&(n-=d/2),i.align==="right"&&(n-=d),this.link(n,a-h,u,c,i),d},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(Ft.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(x){return e[x.charCodeAt(0)]!==void 0},c=t.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},u=t.__arabicParser__.isArabicEndLetter=function(x){return c(x)&&i(x)&&e[x.charCodeAt(0)].length<=2},d=t.__arabicParser__.isArabicAlfLetter=function(x){return c(x)&&a.indexOf(x.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return c(x)&&i(x)&&e[x.charCodeAt(0)].length>=1};var h=t.__arabicParser__.arabicLetterHasFinalForm=function(x){return c(x)&&i(x)&&e[x.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(x){return c(x)&&i(x)&&e[x.charCodeAt(0)].length>=3};var p=t.__arabicParser__.arabicLetterHasMedialForm=function(x){return c(x)&&i(x)&&e[x.charCodeAt(0)].length==4},g=t.__arabicParser__.resolveLigatures=function(x){var _=0,C=r,L="",T=0;for(_=0;_<x.length;_+=1)C[x.charCodeAt(_)]!==void 0?(T++,typeof(C=C[x.charCodeAt(_)])=="number"&&(L+=String.fromCharCode(C),C=r,T=0),_===x.length-1&&(C=r,L+=x.charAt(_-(T-1)),_-=T-1,T=0)):(C=r,L+=x.charAt(_-T),_-=T,T=0);return L};t.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&n[x.charCodeAt(0)]!==void 0};var w=t.__arabicParser__.getCorrectForm=function(x,_,C){return c(x)?i(x)===!1?-1:!h(x)||!c(_)&&!c(C)||!c(C)&&u(_)||u(x)&&!c(_)||u(x)&&d(_)||u(x)&&u(_)?0:p(x)&&c(_)&&!u(_)&&c(C)&&h(C)?3:u(x)||!c(C)?1:2:-1},v=function(x){var _=0,C=0,L=0,T="",R="",H="",J=(x=x||"").split("\\s+"),Q=[];for(_=0;_<J.length;_+=1){for(Q.push(""),C=0;C<J[_].length;C+=1)T=J[_][C],R=J[_][C-1],H=J[_][C+1],c(T)?(L=w(T,R,H),Q[_]+=L!==-1?String.fromCharCode(e[T.charCodeAt(0)][L]):T):Q[_]+=T;Q[_]=g(Q[_])}return Q.join(" ")},S=t.__arabicParser__.processArabic=t.processArabic=function(){var x,_=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(_)){var L=0;for(C=[],L=0;L<_.length;L+=1)Array.isArray(_[L])?C.push([v(_[L][0]),_[L][1],_[L][2]]):C.push([v(_[L])]);x=C}else x=v(_);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};t.events.push(["preProcessText",S])})(Ft.API),Ft.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(u){r=u}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(u){n=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(u){a=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(u){i=u}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(u){c=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Ft.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(x){g=x}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(x){w=x}});var v=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return v},set:function(x){v=x}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(x){S=x}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(d){return n.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},t.getTextDimensions=function(d,h){n.call(this);var p=(h=h||{}).fontSize||this.getFontSize(),g=h.font||this.getFont(),w=h.scaleFactor||this.internal.scaleFactor,v=0,S=0,x=0,_=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var C=h.maxWidth;C>0?typeof d=="string"?d=this.splitTextToSize(d,C):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(T,R){return T.concat(_.splitTextToSize(R,C))},[])):d=Array.isArray(d)?d:[d];for(var L=0;L<d.length;L++)v<(x=this.getStringUnitWidth(d[L],{font:g})*p)&&(v=x);return v!==0&&(S=d.length),{w:v/=w,h:Math.max((S*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/w,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var d=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=t.cell=function(){var d;d=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var h=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,g=this.internal.__cell__.margins||e,w=this.internal.__cell__.tableHeaderRow,v=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===d.lineNumber?(d.x=(h.x||0)+(h.width||0),d.y=h.y||0):h.y+h.height+d.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=g.top,v&&w&&(this.printHeaderRow(d.lineNumber,!0),d.y+=w[0].height)):d.y=h.y+h.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,r===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-p,d.y+p,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+p,{align:"center",baseline:"top",maxWidth:d.width-p-p}):this.text(d.text,d.x+p,d.y+p,{align:"left",baseline:"top",maxWidth:d.width-p-p})),this.internal.__cell__.lastCell=d,this};t.table=function(d,h,p,g,w){if(n.call(this),!p)throw new Error("No data for PDF table.");var v,S,x,_,C=[],L=[],T=[],R={},H={},J=[],Q=[],D=(w=w||{}).autoSize||!1,$=w.printHeaders!==!1,G=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,z=w.margins||Object.assign({width:this.getPageWidth()},e),F=typeof w.padding=="number"?w.padding:3,P=w.headerBackgroundColor||"#c8c8c8",M=w.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=$,this.internal.__cell__.margins=z,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=P,this.internal.__cell__.headerTextColor=M,this.setFontSize(G),g==null)L=C=Object.keys(p[0]),T=C.map(function(){return"left"});else if(Array.isArray(g)&&Ir(g[0])==="object")for(C=g.map(function(Ne){return Ne.name}),L=g.map(function(Ne){return Ne.prompt||Ne.name||""}),T=g.map(function(Ne){return Ne.align||"left"}),v=0;v<g.length;v+=1)H[g[v].name]=.7499990551181103*g[v].width;else Array.isArray(g)&&typeof g[0]=="string"&&(L=C=g,T=C.map(function(){return"left"}));if(D||Array.isArray(g)&&typeof g[0]=="string")for(v=0;v<C.length;v+=1){for(R[_=C[v]]=p.map(function(Ne){return Ne[_]}),this.setFont(void 0,"bold"),J.push(this.getTextDimensions(L[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=R[_],this.setFont(void 0,"normal"),x=0;x<S.length;x+=1)J.push(this.getTextDimensions(S[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);H[_]=Math.max.apply(null,J)+F+F,J=[]}if($){var fe={};for(v=0;v<C.length;v+=1)fe[C[v]]={},fe[C[v]].text=L[v],fe[C[v]].align=T[v];var ae=u.call(this,fe,H);Q=C.map(function(Ne){return new i(d,h,H[Ne],ae,fe[Ne].text,void 0,fe[Ne].align)}),this.setTableHeaderRow(Q),this.printHeaderRow(1,!1)}var se=g.reduce(function(Ne,te){return Ne[te.name]=te.align,Ne},{});for(v=0;v<p.length;v+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:v,data:p[v]},this);var q=u.call(this,p[v],H);for(x=0;x<C.length;x+=1){var me=p[v][C[x]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:v,col:x,data:me},this),c.call(this,new i(d,h,H[C[x]],q,me,v+2,se[C[x]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=h,this};var u=function(d,h){var p=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(d).map(function(v){var S=d[v];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,h[v]-p-p)},this).map(function(v){return this.getLineHeightFactor()*v.length*g/w+p+p},this).reduce(function(v,S){return Math.max(v,S)},0)};t.setTableHeaderRow=function(d){n.call(this),this.internal.__cell__.tableHeaderRow=d},t.printHeaderRow=function(d,h){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],v=0;v<this.internal.__cell__.tableHeaderRow.length;v+=1){p=this.internal.__cell__.tableHeaderRow[v].clone(),h&&(p.y=this.internal.__cell__.margins.top||0,w.push(p)),p.lineNumber=d;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,p),this.setTextColor(S)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),r=!1}})(Ft.API);var __={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},N_=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],mv=w_(N_),j_=[100,200,300,400,500,600,700,800,900],fT=w_(j_);function xg(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return __[i=i||"normal"]?i:"normal"})(t.style),n=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(t.weight),a=(function(i){return typeof mv[i=i||"normal"]=="number"?i:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,n].join(" ")}}}function My(t,e,r,n){var a;for(a=r;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var pT={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},zy={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function By(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Uy(t){return t.trimLeft()}function mT(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function gT(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Hf,qy,$y,Gu,Gf,Vy,Wy,Hy,wg=["times"];function Gy(t,e,r,n,a){var i=4,c=Yy;switch(a){case Ft.API.image_compression.FAST:i=1,c=Ky;break;case Ft.API.image_compression.MEDIUM:i=6,c=Jy;break;case Ft.API.image_compression.SLOW:i=9,c=Xy}t=(function(d,h,p,g){for(var w,v=d.length/h,S=new Uint8Array(d.length+v),x=[vT,Ky,Yy,Jy,Xy],_=0;_<v;_+=1){var C=_*h,L=d.subarray(C,C+h);if(g)S.set(g(L,p,w),C+_);else{for(var T=x.length,R=[],H=0;H<T;H+=1)R[H]=x[H](L,p,w);var J=bT(R.concat());S.set(R[J],C+_)}w=L}return S})(t,e,Math.ceil(r*n/8),c);var u=lv(t,{level:i});return Ft.API.__addimage__.arrayBufferToBinaryString(u)}function vT(t){var e=Array.apply([],t);return e.unshift(0),e}function Ky(t,e){var r=t.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var i=t[a-e]||0;n[a+1]=t[a]-i+256&255}return n}function Yy(t,e,r){var n=t.length,a=[];a[0]=2;for(var i=0;i<n;i+=1){var c=r&&r[i]||0;a[i+1]=t[i]-c+256&255}return a}function Jy(t,e,r){var n=t.length,a=[];a[0]=3;for(var i=0;i<n;i+=1){var c=t[i-e]||0,u=r&&r[i]||0;a[i+1]=t[i]+256-(c+u>>>1)&255}return a}function Xy(t,e,r){var n=t.length,a=[];a[0]=4;for(var i=0;i<n;i+=1){var c=yT(t[i-e]||0,r&&r[i]||0,r&&r[i-e]||0);a[i+1]=t[i]-c+256&255}return a}function yT(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),a=Math.abs(t-r),i=Math.abs(t+e-r-r);return n<=a&&n<=i?t:a<=i?e:r}function bT(t){var e=t.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function _g(t,e,r){var n=e*r,a=Math.floor(n/8),i=16-(n-8*a+r),c=(1<<r)-1;return S_(t,a)>>i&c}function Qy(t,e,r,n){var a=r*n,i=Math.floor(a/8),c=16-(a-8*i+n),u=(1<<n)-1,d=(e&u)<<c;(function(h,p,g){if(p+1<h.byteLength)h.setUint16(p,g,!1);else{var w=g>>8&255;h.setUint8(p,w)}})(t,i,S_(t,i)&~(u<<c)&65535|d)}function S_(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function xT(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],i=a>>7,c=1<<1+(7&a);t[e++],t[e++];var u=null,d=null;i&&(u=e,d=c,e+=3*c);var h=!0,p=[],g=0,w=null,v=0,S=null;for(this.width=r,this.height=n;h&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,S=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((z=t[e++])>=0))throw Error("Invalid block size");if(z===0)break;e+=z}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var x=t[e++];g=t[e++]|t[e++]<<8,w=t[e++],1&x||(w=null),v=x>>2&7,e++;break;case 254:for(;;){if(!((z=t[e++])>=0))throw Error("Invalid block size");if(z===0)break;e+=z}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var _=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,L=t[e++]|t[e++]<<8,T=t[e++]|t[e++]<<8,R=t[e++],H=R>>6&1,J=1<<1+(7&R),Q=u,D=d,$=!1;R>>7&&($=!0,Q=e,D=J,e+=3*J);var G=e;for(e++;;){var z;if(!((z=t[e++])>=0))throw Error("Invalid block size");if(z===0)break;e+=z}p.push({x:_,y:C,width:L,height:T,has_local_palette:$,palette_offset:Q,palette_size:D,data_offset:G,data_length:e-G,transparent_index:w,interlaced:!!H,delay:g,disposal:v});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return S},this.frameInfo=function(F){if(F<0||F>=p.length)throw new Error("Frame index out of range.");return p[F]},this.decodeAndBlitFrameBGRA=function(F,P){var M=this.frameInfo(F),fe=M.width*M.height,ae=new Uint8Array(fe);Zy(t,M.data_offset,ae,fe);var se=M.palette_offset,q=M.transparent_index;q===null&&(q=256);var me=M.width,Ne=r-me,te=me,I=4*(M.y*r+M.x),Y=4*((M.y+M.height)*r+M.x),Z=I,ue=4*Ne;M.interlaced===!0&&(ue+=4*r*7);for(var ge=8,le=0,xe=ae.length;le<xe;++le){var ye=ae[le];if(te===0&&(te=me,(Z+=ue)>=Y&&(ue=4*Ne+4*r*(ge-1),Z=I+(me+Ne)*(ge<<1),ge>>=1)),ye===q)Z+=4;else{var ke=t[se+3*ye],De=t[se+3*ye+1],He=t[se+3*ye+2];P[Z++]=He,P[Z++]=De,P[Z++]=ke,P[Z++]=255}--te}},this.decodeAndBlitFrameRGBA=function(F,P){var M=this.frameInfo(F),fe=M.width*M.height,ae=new Uint8Array(fe);Zy(t,M.data_offset,ae,fe);var se=M.palette_offset,q=M.transparent_index;q===null&&(q=256);var me=M.width,Ne=r-me,te=me,I=4*(M.y*r+M.x),Y=4*((M.y+M.height)*r+M.x),Z=I,ue=4*Ne;M.interlaced===!0&&(ue+=4*r*7);for(var ge=8,le=0,xe=ae.length;le<xe;++le){var ye=ae[le];if(te===0&&(te=me,(Z+=ue)>=Y&&(ue=4*Ne+4*r*(ge-1),Z=I+(me+Ne)*(ge<<1),ge>>=1)),ye===q)Z+=4;else{var ke=t[se+3*ye],De=t[se+3*ye+1],He=t[se+3*ye+2];P[Z++]=ke,P[Z++]=De,P[Z++]=He,P[Z++]=255}--te}}}function Zy(t,e,r,n){for(var a=t[e++],i=1<<a,c=i+1,u=c+1,d=a+1,h=(1<<d)-1,p=0,g=0,w=0,v=t[e++],S=new Int32Array(4096),x=null;;){for(;p<16&&v!==0;)g|=t[e++]<<p,p+=8,v===1?v=t[e++]:--v;if(p<d)break;var _=g&h;if(g>>=d,p-=d,_!==i){if(_===c)break;for(var C=_<u?_:x,L=0,T=C;T>i;)T=S[T]>>8,++L;var R=T;if(w+L+(C!==_?1:0)>n)return void Ur.log("Warning, gif stream longer than expected.");r[w++]=R;var H=w+=L;for(C!==_&&(r[w++]=R),T=C;L--;)T=S[T],r[--H]=255&T,T>>=8;x!==null&&u<4096&&(S[u++]=x<<8|R,u>=h+1&&d<12&&(++d,h=h<<1|1)),x=_}else u=c+1,h=(1<<(d=a+1))-1,x=null}return w!==n&&Ur.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Ng(t){var e,r,n,a,i,c=Math.floor,u=new Array(64),d=new Array(64),h=new Array(64),p=new Array(64),g=new Array(65535),w=new Array(65535),v=new Array(64),S=new Array(64),x=[],_=0,C=7,L=new Array(64),T=new Array(64),R=new Array(64),H=new Array(256),J=new Array(2048),Q=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],z=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],fe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ae(I,Y){for(var Z=0,ue=0,ge=new Array,le=1;le<=16;le++){for(var xe=1;xe<=I[le];xe++)ge[Y[ue]]=[],ge[Y[ue]][0]=Z,ge[Y[ue]][1]=le,ue++,Z++;Z*=2}return ge}function se(I){for(var Y=I[0],Z=I[1]-1;Z>=0;)Y&1<<Z&&(_|=1<<C),Z--,--C<0&&(_==255?(q(255),q(0)):q(_),C=7,_=0)}function q(I){x.push(I)}function me(I){q(I>>8&255),q(255&I)}function Ne(I,Y,Z,ue,ge){for(var le,xe=ge[0],ye=ge[240],ke=(function(Ve,gt){var we,Je,V,be,oe,Be,ct,ot,rt,Xe,Me=0;for(rt=0;rt<8;++rt){we=Ve[Me],Je=Ve[Me+1],V=Ve[Me+2],be=Ve[Me+3],oe=Ve[Me+4],Be=Ve[Me+5],ct=Ve[Me+6];var Ge=we+(ot=Ve[Me+7]),xt=we-ot,lt=Je+ct,mt=Je-ct,St=V+Be,Ze=V-Be,Bt=be+oe,pt=be-oe,ar=Ge+Bt,nr=Ge-Bt,Qe=lt+St,at=lt-St;Ve[Me]=ar+Qe,Ve[Me+4]=ar-Qe;var ne=.707106781*(at+nr);Ve[Me+2]=nr+ne,Ve[Me+6]=nr-ne;var dt=.382683433*((ar=pt+Ze)-(at=mt+xt)),Tt=.5411961*ar+dt,Kt=1.306562965*at+dt,dr=.707106781*(Qe=Ze+mt),yt=xt+dr,fr=xt-dr;Ve[Me+5]=fr+Tt,Ve[Me+3]=fr-Tt,Ve[Me+1]=yt+Kt,Ve[Me+7]=yt-Kt,Me+=8}for(Me=0,rt=0;rt<8;++rt){we=Ve[Me],Je=Ve[Me+8],V=Ve[Me+16],be=Ve[Me+24],oe=Ve[Me+32],Be=Ve[Me+40],ct=Ve[Me+48];var yn=we+(ot=Ve[Me+56]),Cr=we-ot,qr=Je+ct,Nr=Je-ct,jr=V+Be,sn=V-Be,Zs=be+oe,Do=be-oe,ls=yn+Zs,Ts=yn-Zs,Wn=qr+jr,Va=qr-jr;Ve[Me]=ls+Wn,Ve[Me+32]=ls-Wn;var La=.707106781*(Va+Ts);Ve[Me+16]=Ts+La,Ve[Me+48]=Ts-La;var fi=.382683433*((ls=Do+sn)-(Va=Nr+Cr)),cs=.5411961*ls+fi,Io=1.306562965*Va+fi,pi=.707106781*(Wn=sn+Nr),mi=Cr+pi,ul=Cr-pi;Ve[Me+40]=ul+cs,Ve[Me+24]=ul-cs,Ve[Me+8]=mi+Io,Ve[Me+56]=mi-Io,Me++}for(rt=0;rt<64;++rt)Xe=Ve[rt]*gt[rt],v[rt]=Xe>0?Xe+.5|0:Xe-.5|0;return v})(I,Y),De=0;De<64;++De)S[Q[De]]=ke[De];var He=S[0]-Z;Z=S[0],He==0?se(ue[0]):(se(ue[w[le=32767+He]]),se(g[le]));for(var tt=63;tt>0&&S[tt]==0;)tt--;if(tt==0)return se(xe),Z;for(var Fe,de=1;de<=tt;){for(var zt=de;S[de]==0&&de<=tt;)++de;var wt=de-zt;if(wt>=16){Fe=wt>>4;for(var bt=1;bt<=Fe;++bt)se(ye);wt&=15}le=32767+S[de],se(ge[(wt<<4)+w[le]]),se(g[le]),de++}return tt!=63&&se(xe),Z}function te(I){I=Math.min(Math.max(I,1),100),i!=I&&((function(Y){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ue=0;ue<64;ue++){var ge=c((Z[ue]*Y+50)/100);ge=Math.min(Math.max(ge,1),255),u[Q[ue]]=ge}for(var le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],xe=0;xe<64;xe++){var ye=c((le[xe]*Y+50)/100);ye=Math.min(Math.max(ye,1),255),d[Q[xe]]=ye}for(var ke=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],De=0,He=0;He<8;He++)for(var tt=0;tt<8;tt++)h[De]=1/(u[Q[De]]*ke[He]*ke[tt]*8),p[De]=1/(d[Q[De]]*ke[He]*ke[tt]*8),De++})(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),i=I)}this.encode=function(I,Y){Y&&te(Y),x=new Array,_=0,C=7,me(65496),me(65504),me(16),q(74),q(70),q(73),q(70),q(0),q(1),q(1),q(0),me(1),me(1),q(0),q(0),(function(){me(65499),me(132),q(0);for(var Je=0;Je<64;Je++)q(u[Je]);q(1);for(var V=0;V<64;V++)q(d[V])})(),(function(Je,V){me(65472),me(17),q(8),me(V),me(Je),q(3),q(1),q(17),q(0),q(2),q(17),q(1),q(3),q(17),q(1)})(I.width,I.height),(function(){me(65476),me(418),q(0);for(var Je=0;Je<16;Je++)q(D[Je+1]);for(var V=0;V<=11;V++)q($[V]);q(16);for(var be=0;be<16;be++)q(G[be+1]);for(var oe=0;oe<=161;oe++)q(z[oe]);q(1);for(var Be=0;Be<16;Be++)q(F[Be+1]);for(var ct=0;ct<=11;ct++)q(P[ct]);q(17);for(var ot=0;ot<16;ot++)q(M[ot+1]);for(var rt=0;rt<=161;rt++)q(fe[rt])})(),me(65498),me(12),q(3),q(1),q(0),q(2),q(17),q(3),q(17),q(0),q(63),q(0);var Z=0,ue=0,ge=0;_=0,C=7,this.encode.displayName="_encode_";for(var le,xe,ye,ke,De,He,tt,Fe,de,zt=I.data,wt=I.width,bt=I.height,Ve=4*wt,gt=0;gt<bt;){for(le=0;le<Ve;){for(De=Ve*gt+le,tt=-1,Fe=0,de=0;de<64;de++)He=De+(Fe=de>>3)*Ve+(tt=4*(7&de)),gt+Fe>=bt&&(He-=Ve*(gt+1+Fe-bt)),le+tt>=Ve&&(He-=le+tt-Ve+4),xe=zt[He++],ye=zt[He++],ke=zt[He++],L[de]=(J[xe]+J[ye+256|0]+J[ke+512|0]>>16)-128,T[de]=(J[xe+768|0]+J[ye+1024|0]+J[ke+1280|0]>>16)-128,R[de]=(J[xe+1280|0]+J[ye+1536|0]+J[ke+1792|0]>>16)-128;Z=Ne(L,h,Z,e,n),ue=Ne(T,p,ue,r,a),ge=Ne(R,p,ge,r,a),le+=32}gt+=8}if(C>=0){var we=[];we[1]=C+1,we[0]=(1<<C+1)-1,se(we)}return me(65497),new Uint8Array(x)},t=t||50,(function(){for(var I=String.fromCharCode,Y=0;Y<256;Y++)H[Y]=I(Y)})(),e=ae(D,$),r=ae(F,P),n=ae(G,z),a=ae(M,fe),(function(){for(var I=1,Y=2,Z=1;Z<=15;Z++){for(var ue=I;ue<Y;ue++)w[32767+ue]=Z,g[32767+ue]=[],g[32767+ue][1]=Z,g[32767+ue][0]=ue;for(var ge=-(Y-1);ge<=-I;ge++)w[32767+ge]=Z,g[32767+ge]=[],g[32767+ge][1]=Z,g[32767+ge][0]=Y-1+ge;I<<=1,Y<<=1}})(),(function(){for(var I=0;I<256;I++)J[I]=19595*I,J[I+256|0]=38470*I,J[I+512|0]=7471*I+32768,J[I+768|0]=-11059*I,J[I+1024|0]=-21709*I,J[I+1280|0]=32768*I+8421375,J[I+1536|0]=-27439*I,J[I+1792|0]=-5329*I})(),te(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function xo(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function eb(t){function e($){if(!$)throw Error("assert :P")}function r($,G,z){for(var F=0;4>F;F++)if($[G+F]!=z.charCodeAt(F))return!0;return!1}function n($,G,z,F,P){for(var M=0;M<P;M++)$[G+M]=z[F+M]}function a($,G,z,F){for(var P=0;P<F;P++)$[G+P]=z}function i($){return new Int32Array($)}function c($,G){for(var z=[],F=0;F<$;F++)z.push(new G);return z}function u($,G){var z=[];return(function F(P,M,fe){for(var ae=fe[M],se=0;se<ae&&(P.push(fe.length>M+1?[]:new G),!(fe.length<M+1));se++)F(P[se],M+1,fe)})(z,0,$),z}var d=function(){var $=this;function G(m,b){for(var E=1<<b-1>>>0;m&E;)E>>>=1;return E?(m&E-1)+E:m}function z(m,b,E,O,B){e(!(O%E));do m[b+(O-=E)]=B;while(0<O)}function F(m,b,E,O,B){if(e(2328>=B),512>=B)var K=i(512);else if((K=i(B))==null)return 0;return(function(X,ee,re,ie,je,Le){var ce,Ee,Oe=ee,$e=1<<re,Re=i(16),Ue=i(16);for(e(je!=0),e(ie!=null),e(X!=null),e(0<re),Ee=0;Ee<je;++Ee){if(15<ie[Ee])return 0;++Re[ie[Ee]]}if(Re[0]==je)return 0;for(Ue[1]=0,ce=1;15>ce;++ce){if(Re[ce]>1<<ce)return 0;Ue[ce+1]=Ue[ce]+Re[ce]}for(Ee=0;Ee<je;++Ee)ce=ie[Ee],0<ie[Ee]&&(Le[Ue[ce]++]=Ee);if(Ue[15]==1)return(ie=new P).g=0,ie.value=Le[0],z(X,Oe,1,$e,ie),$e;var qe,Ke=-1,Ye=$e-1,It=0,Nt=1,Zt=1,At=1<<re;for(Ee=0,ce=1,je=2;ce<=re;++ce,je<<=1){if(Nt+=Zt<<=1,0>(Zt-=Re[ce]))return 0;for(;0<Re[ce];--Re[ce])(ie=new P).g=ce,ie.value=Le[Ee++],z(X,Oe+It,je,At,ie),It=G(It,ce)}for(ce=re+1,je=2;15>=ce;++ce,je<<=1){if(Nt+=Zt<<=1,0>(Zt-=Re[ce]))return 0;for(;0<Re[ce];--Re[ce]){if(ie=new P,(It&Ye)!=Ke){for(Oe+=At,qe=1<<(Ke=ce)-re;15>Ke&&!(0>=(qe-=Re[Ke]));)++Ke,qe<<=1;$e+=At=1<<(qe=Ke-re),X[ee+(Ke=It&Ye)].g=qe+re,X[ee+Ke].value=Oe-ee-Ke}ie.g=ce-re,ie.value=Le[Ee++],z(X,Oe+(It>>re),je,At,ie),It=G(It,ce)}}return Nt!=2*Ue[15]-1?0:$e})(m,b,E,O,B,K)}function P(){this.value=this.g=0}function M(){this.value=this.g=0}function fe(){this.G=c(5,P),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Qa,M)}function ae(m,b,E,O){e(m!=null),e(b!=null),e(2147483648>O),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=b,m.pa=E,m.Jd=b,m.Yc=E+O,m.Zc=4<=O?E+O-4+1:E,xe(m)}function se(m,b){for(var E=0;0<b--;)E|=ke(m,128)<<b;return E}function q(m,b){var E=se(m,b);return ye(m)?-E:E}function me(m,b,E,O){var B,K=0;for(e(m!=null),e(b!=null),e(4294967288>O),m.Sb=O,m.Ra=0,m.u=0,m.h=0,4<O&&(O=4),B=0;B<O;++B)K+=b[E+B]<<8*B;m.Ra=K,m.bb=O,m.oa=b,m.pa=E}function Ne(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<qo-8>>>0,++m.bb,m.u-=8;ue(m)&&(m.h=1,m.u=0)}function te(m,b){if(e(0<=b),!m.h&&b<=Ma){var E=Z(m)&Fa[b];return m.u+=b,Ne(m),E}return m.h=1,m.u=0}function I(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Y(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Z(m){return m.Ra>>>(m.u&qo-1)>>>0}function ue(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>qo}function ge(m,b){m.u=b,m.h=ue(m)}function le(m){m.u>=Bs&&(e(m.u>=Bs),Ne(m))}function xe(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function ye(m){return se(m,1)}function ke(m,b){var E=m.Ca;0>m.b&&xe(m);var O=m.b,B=E*b>>>8,K=(m.I>>>O>B)+0;for(K?(E-=B,m.I-=B+1<<O>>>0):E=B+1,O=E,B=0;256<=O;)B+=8,O>>=8;return O=7^B+oo[O],m.b-=O,m.Ca=(E<<O)-1,K}function De(m,b,E){m[b+0]=E>>24&255,m[b+1]=E>>16&255,m[b+2]=E>>8&255,m[b+3]=255&E}function He(m,b){return m[b+0]|m[b+1]<<8}function tt(m,b){return He(m,b)|m[b+2]<<16}function Fe(m,b){return He(m,b)|He(m,b+2)<<16}function de(m,b){var E=1<<b;return e(m!=null),e(0<b),m.X=i(E),m.X==null?0:(m.Mb=32-b,m.Xa=b,1)}function zt(m,b){e(m!=null),e(b!=null),e(m.Xa==b.Xa),n(b.X,0,m.X,0,1<<b.Xa)}function wt(){this.X=[],this.Xa=this.Mb=0}function bt(m,b,E,O){e(E!=null),e(O!=null);var B=E[0],K=O[0];return B==0&&(B=(m*K+b/2)/b),K==0&&(K=(b*B+m/2)/m),0>=B||0>=K?0:(E[0]=B,O[0]=K,1)}function Ve(m,b){return m+(1<<b)-1>>>b}function gt(m,b){return((4278255360&m)+(4278255360&b)>>>0&4278255360)+((16711935&m)+(16711935&b)>>>0&16711935)>>>0}function we(m,b){$[b]=function(E,O,B,K,X,ee,re){var ie;for(ie=0;ie<X;++ie){var je=$[m](ee[re+ie-1],B,K+ie);ee[re+ie]=gt(E[O+ie],je)}}}function Je(){this.ud=this.hd=this.jd=0}function V(m,b){return((4278124286&(m^b))>>>1)+(m&b)>>>0}function be(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function oe(m,b){return be(m+(m-b+.5>>1))}function Be(m,b,E){return Math.abs(b-E)-Math.abs(m-E)}function ct(m,b,E,O,B,K,X){for(O=K[X-1],E=0;E<B;++E)K[X+E]=O=gt(m[b+E],O)}function ot(m,b,E,O,B){var K;for(K=0;K<E;++K){var X=m[b+K],ee=X>>8&255,re=16711935&(re=(re=16711935&X)+((ee<<16)+ee));O[B+K]=(4278255360&X)+re>>>0}}function rt(m,b){b.jd=255&m,b.hd=m>>8&255,b.ud=m>>16&255}function Xe(m,b,E,O,B,K){var X;for(X=0;X<O;++X){var ee=b[E+X],re=ee>>>8,ie=ee,je=255&(je=(je=ee>>>16)+((m.jd<<24>>24)*(re<<24>>24)>>>5));ie=255&(ie=(ie+=(m.hd<<24>>24)*(re<<24>>24)>>>5)+((m.ud<<24>>24)*(je<<24>>24)>>>5)),B[K+X]=(4278255360&ee)+(je<<16)+ie}}function Me(m,b,E,O,B){$[b]=function(K,X,ee,re,ie,je,Le,ce,Ee){for(re=Le;re<ce;++re)for(Le=0;Le<Ee;++Le)ie[je++]=B(ee[O(K[X++])])},$[m]=function(K,X,ee,re,ie,je,Le){var ce=8>>K.b,Ee=K.Ea,Oe=K.K[0],$e=K.w;if(8>ce)for(K=(1<<K.b)-1,$e=(1<<ce)-1;X<ee;++X){var Re,Ue=0;for(Re=0;Re<Ee;++Re)Re&K||(Ue=O(re[ie++])),je[Le++]=B(Oe[Ue&$e]),Ue>>=ce}else $["VP8LMapColor"+E](re,ie,Oe,$e,je,Le,X,ee,Ee)}}function Ge(m,b,E,O,B){for(E=b+E;b<E;){var K=m[b++];O[B++]=K>>16&255,O[B++]=K>>8&255,O[B++]=255&K}}function xt(m,b,E,O,B){for(E=b+E;b<E;){var K=m[b++];O[B++]=K>>16&255,O[B++]=K>>8&255,O[B++]=255&K,O[B++]=K>>24&255}}function lt(m,b,E,O,B){for(E=b+E;b<E;){var K=(X=m[b++])>>16&240|X>>12&15,X=240&X|X>>28&15;O[B++]=K,O[B++]=X}}function mt(m,b,E,O,B){for(E=b+E;b<E;){var K=(X=m[b++])>>16&248|X>>13&7,X=X>>5&224|X>>3&31;O[B++]=K,O[B++]=X}}function St(m,b,E,O,B){for(E=b+E;b<E;){var K=m[b++];O[B++]=255&K,O[B++]=K>>8&255,O[B++]=K>>16&255}}function Ze(m,b,E,O,B,K){if(K==0)for(E=b+E;b<E;)De(O,((K=m[b++])[0]>>24|K[1]>>8&65280|K[2]<<8&16711680|K[3]<<24)>>>0),B+=32;else n(O,B,m,b,E)}function Bt(m,b){$[b][0]=$[m+"0"],$[b][1]=$[m+"1"],$[b][2]=$[m+"2"],$[b][3]=$[m+"3"],$[b][4]=$[m+"4"],$[b][5]=$[m+"5"],$[b][6]=$[m+"6"],$[b][7]=$[m+"7"],$[b][8]=$[m+"8"],$[b][9]=$[m+"9"],$[b][10]=$[m+"10"],$[b][11]=$[m+"11"],$[b][12]=$[m+"12"],$[b][13]=$[m+"13"],$[b][14]=$[m+"0"],$[b][15]=$[m+"0"]}function pt(m){return m==El||m==Mi||m==jc||m==Sc}function ar(){this.eb=[],this.size=this.A=this.fb=0}function nr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Qe(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ar,this.f.kb=new nr,this.sd=null}function at(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ne(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function dt(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Tt(m,b){var E=m.T,O=b.ba.f.RGBA,B=O.eb,K=O.fb+m.ka*O.A,X=ya[b.ba.S],ee=m.y,re=m.O,ie=m.f,je=m.N,Le=m.ea,ce=m.W,Ee=b.cc,Oe=b.dc,$e=b.Mc,Re=b.Nc,Ue=m.ka,qe=m.ka+m.T,Ke=m.U,Ye=Ke+1>>1;for(Ue==0?X(ee,re,null,null,ie,je,Le,ce,ie,je,Le,ce,B,K,null,null,Ke):(X(b.ec,b.fc,ee,re,Ee,Oe,$e,Re,ie,je,Le,ce,B,K-O.A,B,K,Ke),++E);Ue+2<qe;Ue+=2)Ee=ie,Oe=je,$e=Le,Re=ce,je+=m.Rc,ce+=m.Rc,K+=2*O.A,X(ee,(re+=2*m.fa)-m.fa,ee,re,Ee,Oe,$e,Re,ie,je,Le,ce,B,K-O.A,B,K,Ke);return re+=m.fa,m.j+qe<m.o?(n(b.ec,b.fc,ee,re,Ke),n(b.cc,b.dc,ie,je,Ye),n(b.Mc,b.Nc,Le,ce,Ye),E--):1&qe||X(ee,re,null,null,ie,je,Le,ce,ie,je,Le,ce,B,K+O.A,null,null,Ke),E}function Kt(m,b,E){var O=m.F,B=[m.J];if(O!=null){var K=m.U,X=b.ba.S,ee=X==Nc||X==jc;b=b.ba.f.RGBA;var re=[0],ie=m.ka;re[0]=m.T,m.Kb&&(ie==0?--re[0]:(--ie,B[0]-=m.width),m.j+m.ka+m.T==m.o&&(re[0]=m.o-m.j-ie));var je=b.eb;ie=b.fb+ie*b.A,m=wc(O,B[0],m.width,K,re,je,ie+(ee?0:3),b.A),e(E==re),m&&pt(X)&&Fi(je,ie,ee,K,re,b.A)}return 0}function dr(m){var b=m.ma,E=b.ba.S,O=11>E,B=E==Ho||E==_c||E==Nc||E==Or||E==12||pt(E);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!bl(b.Oa,m,B?11:12))return 0;if(B&&pt(E)&&fu(),m.da)alert("todo:use_scaling");else{if(O){if(b.Ib=dt,m.Kb){if(E=m.U+1>>1,b.memory=i(m.U+2*E),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+m.U,b.Mc=b.cc,b.Nc=b.dc+E,b.Ib=Tt,fu()}}else alert("todo:EmitYUV");B&&(b.Jb=Kt,O&&Xa())}if(O&&!Gn){for(m=0;256>m;++m)ba[m]=89858*(m-128)+vs>>uo,xa[m]=-22014*(m-128)+vs,Pl[m]=-45773*(m-128),qi[m]=113618*(m-128)+vs>>uo;for(m=Sr;m<kr;++m)b=76283*(m-16)+vs>>uo,wu[m-Sr]=Jr(b,255),$h[m-Sr]=Jr(b+8>>4,15);Gn=1}return 1}function yt(m){var b=m.ma,E=m.U,O=m.T;return e(!(1&m.ka)),0>=E||0>=O?0:(E=b.Ib(m,b),b.Jb!=null&&b.Jb(m,b,E),b.Dc+=E,1)}function fr(m){m.ma.memory=null}function yn(m,b,E,O){return te(m,8)!=47?0:(b[0]=te(m,14)+1,E[0]=te(m,14)+1,O[0]=te(m,1),te(m,3)!=0?0:!m.h)}function Cr(m,b){if(4>m)return m+1;var E=m-2>>1;return(2+(1&m)<<E)+te(b,E)+1}function qr(m,b){return 120<b?b-120:1<=(E=((E=Vp[b-1])>>4)*m+(8-(15&E)))?E:1;var E}function Nr(m,b,E){var O=Z(E),B=m[b+=255&O].g-8;return 0<B&&(ge(E,E.u+8),O=Z(E),b+=m[b].value,b+=O&(1<<B)-1),ge(E,E.u+m[b].g),m[b].value}function jr(m,b,E){return E.g+=m.g,E.value+=m.value<<b>>>0,e(8>=E.g),m.g}function sn(m,b,E){var O=m.xc;return e((b=O==0?0:m.vc[m.md*(E>>O)+(b>>O)])<m.Wb),m.Ya[b]}function Zs(m,b,E,O){var B=m.ab,K=m.c*b,X=m.C;b=X+b;var ee=E,re=O;for(O=m.Ta,E=m.Ua;0<B--;){var ie=m.gc[B],je=X,Le=b,ce=ee,Ee=re,Oe=(re=O,ee=E,ie.Ea);switch(e(je<Le),e(Le<=ie.nc),ie.hc){case 2:cn(ce,Ee,(Le-je)*Oe,re,ee);break;case 0:var $e=je,Re=Le,Ue=re,qe=ee,Ke=(At=ie).Ea;$e==0&&(io(ce,Ee,null,null,1,Ue,qe),ct(ce,Ee+1,0,0,Ke-1,Ue,qe+1),Ee+=Ke,qe+=Ke,++$e);for(var Ye=1<<At.b,It=Ye-1,Nt=Ve(Ke,At.b),Zt=At.K,At=At.w+($e>>At.b)*Nt;$e<Re;){var cr=Zt,Zr=At,er=1;for(Us(ce,Ee,Ue,qe-Ke,1,Ue,qe);er<Ke;){var jt=(er&~It)+Ye;jt>Ke&&(jt=Ke),(0,Ti[cr[Zr++]>>8&15])(ce,Ee+ +er,Ue,qe+er-Ke,jt-er,Ue,qe+er),er=jt}Ee+=Ke,qe+=Ke,++$e&It||(At+=Nt)}Le!=ie.nc&&n(re,ee-Oe,re,ee+(Le-je-1)*Oe,Oe);break;case 1:for(Oe=ce,Re=Ee,Ke=(ce=ie.Ea)-(qe=ce&~(Ue=(Ee=1<<ie.b)-1)),$e=Ve(ce,ie.b),Ye=ie.K,ie=ie.w+(je>>ie.b)*$e;je<Le;){for(It=Ye,Nt=ie,Zt=new Je,At=Re+qe,cr=Re+ce;Re<At;)rt(It[Nt++],Zt),wl(Zt,Oe,Re,Ee,re,ee),Re+=Ee,ee+=Ee;Re<cr&&(rt(It[Nt++],Zt),wl(Zt,Oe,Re,Ke,re,ee),Re+=Ke,ee+=Ke),++je&Ue||(ie+=$e)}break;case 3:if(ce==re&&Ee==ee&&0<ie.b){for(Re=re,ce=Oe=ee+(Le-je)*Oe-(qe=(Le-je)*Ve(ie.Ea,ie.b)),Ee=re,Ue=ee,$e=[],qe=(Ke=qe)-1;0<=qe;--qe)$e[qe]=Ee[Ue+qe];for(qe=Ke-1;0<=qe;--qe)Re[ce+qe]=$e[qe];Oi(ie,je,Le,re,Oe,re,ee)}else Oi(ie,je,Le,ce,Ee,re,ee)}ee=O,re=E}re!=E&&n(O,E,ee,re,K)}function Do(m,b){var E=m.V,O=m.Ba+m.c*m.C,B=b-m.C;if(e(b<=m.l.o),e(16>=B),0<B){var K=m.l,X=m.Ta,ee=m.Ua,re=K.width;if(Zs(m,B,E,O),B=ee=[ee],e((E=m.C)<(O=b)),e(K.v<K.va),O>K.o&&(O=K.o),E<K.j){var ie=K.j-E;E=K.j,B[0]+=ie*re}if(E>=O?E=0:(B[0]+=4*K.v,K.ka=E-K.j,K.U=K.va-K.v,K.T=O-E,E=1),E){if(ee=ee[0],11>(E=m.ca).S){var je=E.f.RGBA,Le=(O=E.S,B=K.U,K=K.T,ie=je.eb,je.A),ce=K;for(je=je.fb+m.Ma*je.A;0<ce--;){var Ee=X,Oe=ee,$e=B,Re=ie,Ue=je;switch(O){case vu:_l(Ee,Oe,$e,Re,Ue);break;case Ho:lo(Ee,Oe,$e,Re,Ue);break;case El:lo(Ee,Oe,$e,Re,Ue),Fi(Re,Ue,0,$e,1,0);break;case Mh:Ri(Ee,Oe,$e,Re,Ue);break;case _c:Ze(Ee,Oe,$e,Re,Ue,1);break;case Mi:Ze(Ee,Oe,$e,Re,Ue,1),Fi(Re,Ue,0,$e,1,0);break;case Nc:Ze(Ee,Oe,$e,Re,Ue,0);break;case jc:Ze(Ee,Oe,$e,Re,Ue,0),Fi(Re,Ue,1,$e,1,0);break;case Or:$o(Ee,Oe,$e,Re,Ue);break;case Sc:$o(Ee,Oe,$e,Re,Ue),Pd(Re,Ue,$e,1,0);break;case yu:Vo(Ee,Oe,$e,Re,Ue);break;default:e(0)}ee+=re,je+=Le}m.Ma+=K}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=E.height)}}m.C=b,e(m.C<=m.i)}function ls(m){var b;if(0<m.ua)return 0;for(b=0;b<m.Wb;++b){var E=m.Ya[b].G,O=m.Ya[b].H;if(0<E[1][O[1]+0].g||0<E[2][O[2]+0].g||0<E[3][O[3]+0].g)return 0}return 1}function Ts(m,b,E,O,B,K){if(m.Z!=0){var X=m.qd,ee=m.rd;for(e(ta[m.Z]!=null);b<E;++b)ta[m.Z](X,ee,O,B,O,B,K),X=O,ee=B,B+=K;m.qd=X,m.rd=ee}}function Wn(m,b){var E=m.l.ma,O=E.Z==0||E.Z==1?m.l.j:m.C;if(O=m.C<O?O:m.C,e(b<=m.l.o),b>O){var B=m.l.width,K=E.ca,X=E.tb+B*O,ee=m.V,re=m.Ba+m.c*O,ie=m.gc;e(m.ab==1),e(ie[0].hc==3),ms(ie[0],O,b,ee,re,K,X),Ts(E,O,b,K,X,B)}m.C=m.Ma=b}function Va(m,b,E,O,B,K,X){var ee=m.$/O,re=m.$%O,ie=m.m,je=m.s,Le=E+m.$,ce=Le;B=E+O*B;var Ee=E+O*K,Oe=280+je.ua,$e=m.Pb?ee:16777216,Re=0<je.ua?je.Wa:null,Ue=je.wc,qe=Le<Ee?sn(je,re,ee):null;e(m.C<K),e(Ee<=B);var Ke=!1;e:for(;;){for(;Ke||Le<Ee;){var Ye=0;if(ee>=$e){var It=Le-E;e(($e=m).Pb),$e.wd=$e.m,$e.xd=It,0<$e.s.ua&&zt($e.s.Wa,$e.s.vb),$e=ee+xu}if(re&Ue||(qe=sn(je,re,ee)),e(qe!=null),qe.Qb&&(b[Le]=qe.qb,Ke=!0),!Ke)if(le(ie),qe.jc){Ye=ie,It=b;var Nt=Le,Zt=qe.pd[Z(Ye)&Qa-1];e(qe.jc),256>Zt.g?(ge(Ye,Ye.u+Zt.g),It[Nt]=Zt.value,Ye=0):(ge(Ye,Ye.u+Zt.g-256),e(256<=Zt.value),Ye=Zt.value),Ye==0&&(Ke=!0)}else Ye=Nr(qe.G[0],qe.H[0],ie);if(ie.h)break;if(Ke||256>Ye){if(!Ke)if(qe.nd)b[Le]=(qe.qb|Ye<<8)>>>0;else{if(le(ie),Ke=Nr(qe.G[1],qe.H[1],ie),le(ie),It=Nr(qe.G[2],qe.H[2],ie),Nt=Nr(qe.G[3],qe.H[3],ie),ie.h)break;b[Le]=(Nt<<24|Ke<<16|Ye<<8|It)>>>0}if(Ke=!1,++Le,++re>=O&&(re=0,++ee,X!=null&&ee<=K&&!(ee%16)&&X(m,ee),Re!=null))for(;ce<Le;)Ye=b[ce++],Re.X[(506832829*Ye&4294967295)>>>Re.Mb]=Ye}else if(280>Ye){if(Ye=Cr(Ye-256,ie),It=Nr(qe.G[4],qe.H[4],ie),le(ie),It=qr(O,It=Cr(It,ie)),ie.h)break;if(Le-E<It||B-Le<Ye)break e;for(Nt=0;Nt<Ye;++Nt)b[Le+Nt]=b[Le+Nt-It];for(Le+=Ye,re+=Ye;re>=O;)re-=O,++ee,X!=null&&ee<=K&&!(ee%16)&&X(m,ee);if(e(Le<=B),re&Ue&&(qe=sn(je,re,ee)),Re!=null)for(;ce<Le;)Ye=b[ce++],Re.X[(506832829*Ye&4294967295)>>>Re.Mb]=Ye}else{if(!(Ye<Oe))break e;for(Ke=Ye-280,e(Re!=null);ce<Le;)Ye=b[ce++],Re.X[(506832829*Ye&4294967295)>>>Re.Mb]=Ye;Ye=Le,e(!(Ke>>>(It=Re).Xa)),b[Ye]=It.X[Ke],Ke=!0}Ke||e(ie.h==ue(ie))}if(m.Pb&&ie.h&&Le<B)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&zt(m.s.vb,m.s.Wa);else{if(ie.h)break e;X?.(m,ee>K?K:ee),m.a=0,m.$=Le-E}return 1}return m.a=3,0}function La(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var b=m.Wa;b!=null&&(b.X=null),m.vb=null,e(m!=null)}function fi(){var m=new Dt;return m==null?null:(m.a=0,m.xb=Al,Bt("Predictor","VP8LPredictors"),Bt("Predictor","VP8LPredictors_C"),Bt("PredictorAdd","VP8LPredictorsAdd"),Bt("PredictorAdd","VP8LPredictorsAdd_C"),cn=ot,wl=Xe,_l=Ge,lo=xt,$o=lt,Vo=mt,Ri=St,$.VP8LMapColor32b=qs,$.VP8LMapColor8b=Li,m)}function cs(m,b,E,O,B){var K=1,X=[m],ee=[b],re=O.m,ie=O.s,je=null,Le=0;e:for(;;){if(E)for(;K&&te(re,1);){var ce=X,Ee=ee,Oe=O,$e=1,Re=Oe.m,Ue=Oe.gc[Oe.ab],qe=te(Re,2);if(Oe.Oc&1<<qe)K=0;else{switch(Oe.Oc|=1<<qe,Ue.hc=qe,Ue.Ea=ce[0],Ue.nc=Ee[0],Ue.K=[null],++Oe.ab,e(4>=Oe.ab),qe){case 0:case 1:Ue.b=te(Re,3)+2,$e=cs(Ve(Ue.Ea,Ue.b),Ve(Ue.nc,Ue.b),0,Oe,Ue.K),Ue.K=Ue.K[0];break;case 3:var Ke,Ye=te(Re,8)+1,It=16<Ye?0:4<Ye?1:2<Ye?2:3;if(ce[0]=Ve(Ue.Ea,It),Ue.b=It,Ke=$e=cs(Ye,1,0,Oe,Ue.K)){var Nt,Zt=Ye,At=Ue,cr=1<<(8>>At.b),Zr=i(cr);if(Zr==null)Ke=0;else{var er=At.K[0],jt=At.w;for(Zr[0]=At.K[0][0],Nt=1;Nt<1*Zt;++Nt)Zr[Nt]=gt(er[jt+Nt],Zr[Nt-1]);for(;Nt<4*cr;++Nt)Zr[Nt]=0;At.K[0]=null,At.K[0]=Zr,Ke=1}}$e=Ke;break;case 2:break;default:e(0)}K=$e}}if(X=X[0],ee=ee[0],K&&te(re,1)&&!(K=1<=(Le=te(re,4))&&11>=Le)){O.a=3;break e}var vt;if(vt=K)t:{var un,Gt,or,Mr=O,Bn=X,_n=ee,Kr=Le,Pn=E,Un=Mr.m,$r=Mr.s,hr=[null],yr=1,Vr=0,br=Bh[Kr];r:for(;;){if(Pn&&te(Un,1)){var en=te(Un,3)+2,tn=Ve(Bn,en),Lr=Ve(_n,en),ra=tn*Lr;if(!cs(tn,Lr,0,Mr,hr))break r;for(hr=hr[0],$r.xc=en,un=0;un<ra;++un){var Pr=hr[un]>>8&65535;hr[un]=Pr,Pr>=yr&&(yr=Pr+1)}}if(Un.h)break r;for(Gt=0;5>Gt;++Gt){var Tr=zi[Gt];!Gt&&0<Kr&&(Tr+=1<<Kr),Vr<Tr&&(Vr=Tr)}var Nn=c(yr*br,P),Kn=yr,wa=c(Kn,fe);if(wa==null)var dn=null;else e(65536>=Kn),dn=wa;var hn=i(Vr);if(dn==null||hn==null||Nn==null){Mr.a=1;break r}var na=Nn;for(un=or=0;un<yr;++un){var Rr=dn[un],aa=Rr.G,ts=Rr.H,ys=0,qn=1,fn=0;for(Gt=0;5>Gt;++Gt){Tr=zi[Gt],aa[Gt]=na,ts[Gt]=or,!Gt&&0<Kr&&(Tr+=1<<Kr);a:{var Yo,fo=Tr,Ol=Mr,Ws=hn,Wh=na,qd=or,Br=0,bs=Ol.m,$d=te(bs,1);if(a(Ws,0,0,fo),$d){var Vd=te(bs,1)+1,_u=te(bs,1),Nu=te(bs,_u==0?1:8);Ws[Nu]=1,Vd==2&&(Ws[Nu=te(bs,8)]=1);var Hs=1}else{var Wr=i(19),jn=te(bs,4)+4;if(19<jn){Ol.a=3;var pn=0;break a}for(Yo=0;Yo<jn;++Yo)Wr[$p[Yo]]=te(bs,3);var Ll=void 0,po=void 0,Tl=Ol,Yp=Wr,On=fo,ju=Ws,Pc=0,Gs=Tl.m,xs=8,za=c(128,P);n:for(;F(za,0,7,Yp,19);){if(te(Gs,1)){var Oc=2+2*te(Gs,3);if((Ll=2+te(Gs,Oc))>On)break n}else Ll=On;for(po=0;po<On&&Ll--;){le(Gs);var Su=za[0+(127&Z(Gs))];ge(Gs,Gs.u+Su.g);var Jo=Su.value;if(16>Jo)ju[po++]=Jo,Jo!=0&&(xs=Jo);else{var Hh=Jo==16,Wd=Jo-16,Gh=bu[Wd],Hd=te(Gs,Ec[Wd])+Gh;if(po+Hd>On)break n;for(var Kh=Hh?xs:0;0<Hd--;)ju[po++]=Kh}}Pc=1;break n}Pc||(Tl.a=3),Hs=Pc}(Hs=Hs&&!bs.h)&&(Br=F(Wh,qd,8,Ws,fo)),Hs&&Br!=0?pn=Br:(Ol.a=3,pn=0)}if(pn==0)break r;if(qn&&zh[Gt]==1&&(qn=na[or].g==0),ys+=na[or].g,or+=pn,3>=Gt){var Rl,Eu=hn[0];for(Rl=1;Rl<Tr;++Rl)hn[Rl]>Eu&&(Eu=hn[Rl]);fn+=Eu}}if(Rr.nd=qn,Rr.Qb=0,qn&&(Rr.qb=(aa[3][ts[3]+0].value<<24|aa[1][ts[1]+0].value<<16|aa[2][ts[2]+0].value)>>>0,ys==0&&256>aa[0][ts[0]+0].value&&(Rr.Qb=1,Rr.qb+=aa[0][ts[0]+0].value<<8)),Rr.jc=!Rr.Qb&&6>fn,Rr.jc){var Lc,Ba=Rr;for(Lc=0;Lc<Qa;++Lc){var mo=Lc,ws=Ba.pd[mo],Vi=Ba.G[0][Ba.H[0]+mo];256<=Vi.value?(ws.g=Vi.g+256,ws.value=Vi.value):(ws.g=0,ws.value=0,mo>>=jr(Vi,8,ws),mo>>=jr(Ba.G[1][Ba.H[1]+mo],16,ws),mo>>=jr(Ba.G[2][Ba.H[2]+mo],0,ws),jr(Ba.G[3][Ba.H[3]+mo],24,ws))}}}$r.vc=hr,$r.Wb=yr,$r.Ya=dn,$r.yc=Nn,vt=1;break t}vt=0}if(!(K=vt)){O.a=3;break e}if(0<Le){if(ie.ua=1<<Le,!de(ie.Wa,Le)){O.a=1,K=0;break e}}else ie.ua=0;var Cu=O,Au=X,Yh=ee,ku=Cu.s,Pu=ku.xc;if(Cu.c=Au,Cu.i=Yh,ku.md=Ve(Au,Pu),ku.wc=Pu==0?-1:(1<<Pu)-1,E){O.xb=Vs;break e}if((je=i(X*ee))==null){O.a=1,K=0;break e}K=(K=Va(O,je,0,X,ee,ee,null))&&!re.h;break e}return K?(B!=null?B[0]=je:(e(je==null),e(E)),O.$=0,E||La(ie)):La(ie),K}function Io(m,b){var E=m.c*m.i,O=E+b+16*b;return e(m.c<=b),m.V=i(O),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+E+b,1)}function pi(m,b){var E=m.C,O=b-E,B=m.V,K=m.Ba+m.c*E;for(e(b<=m.l.o);0<O;){var X=16<O?16:O,ee=m.l.ma,re=m.l.width,ie=re*X,je=ee.ca,Le=ee.tb+re*E,ce=m.Ta,Ee=m.Ua;Zs(m,X,B,K),Od(ce,Ee,je,Le,ie),Ts(ee,E,E+X,je,Le,re),O-=X,B+=X*m.c,E+=X}e(E==b),m.C=m.Ma=b}function mi(){this.ub=this.yd=this.td=this.Rb=0}function ul(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ed(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function zr(){this.Yb=(function(){var m=[];return(function b(E,O,B){for(var K=B[O],X=0;X<K&&(E.push(B.length>O+1?[]:0),!(B.length<O+1));X++)b(E[X],O+1,B)})(m,0,[3,11]),m})()}function au(){this.jb=i(3),this.Wc=u([4,8],zr),this.Xc=u([4,17],zr)}function dl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Ta(){this.ld=this.La=this.dd=this.tc=0}function Fo(){this.Na=this.la=0}function su(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function hl(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function gi(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ta),this.Y=0,this.ya=Array(new hl),this.aa=0,this.l=new Qn}function Ra(){this.y=i(16),this.f=i(8),this.ea=i(8)}function ou(){this.cb=this.a=0,this.sc="",this.m=new I,this.Od=new mi,this.Kc=new ul,this.ed=new dl,this.Qa=new Ed,this.Ic=this.$c=this.Aa=0,this.D=new gi,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,I),this.ia=0,this.pb=c(4,su),this.Pa=new au,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ra),this.Hd=0,this.rb=Array(new Fo),this.sb=0,this.wa=Array(new Ta),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new hl),this.L=this.aa=0,this.gd=u([4,2],Ta),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Qn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Cd(){var m=new ou;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Bi||(Bi=Wa)),m}function bn(m,b,E){return m.a==0&&(m.a=b,m.sc=E,m.cb=0),0}function iu(m,b,E){return 3<=E&&m[b+0]==157&&m[b+1]==1&&m[b+2]==42}function vi(m,b){if(m==null)return 0;if(m.a=0,m.sc="OK",b==null)return bn(m,2,"null VP8Io passed to VP8GetHeaders()");var E=b.data,O=b.w,B=b.ha;if(4>B)return bn(m,7,"Truncated header.");var K=E[O+0]|E[O+1]<<8|E[O+2]<<16,X=m.Od;if(X.Rb=!(1&K),X.td=K>>1&7,X.yd=K>>4&1,X.ub=K>>5,3<X.td)return bn(m,3,"Incorrect keyframe parameters.");if(!X.yd)return bn(m,4,"Frame not displayable.");O+=3,B-=3;var ee=m.Kc;if(X.Rb){if(7>B)return bn(m,7,"cannot parse picture header");if(!iu(E,O,B))return bn(m,3,"Bad code word");ee.c=16383&(E[O+4]<<8|E[O+3]),ee.Td=E[O+4]>>6,ee.i=16383&(E[O+6]<<8|E[O+5]),ee.Ud=E[O+6]>>6,O+=7,B-=7,m.za=ee.c+15>>4,m.Ub=ee.i+15>>4,b.width=ee.c,b.height=ee.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,a((K=m.Pa).jb,0,255,K.jb.length),e((K=m.Qa)!=null),K.Cb=0,K.Bb=0,K.Fb=1,a(K.Zb,0,0,K.Zb.length),a(K.Lb,0,0,K.Lb)}if(X.ub>B)return bn(m,7,"bad partition length");ae(K=m.m,E,O,X.ub),O+=X.ub,B-=X.ub,X.Rb&&(ee.Ld=ye(K),ee.Kd=ye(K)),ee=m.Qa;var re,ie=m.Pa;if(e(K!=null),e(ee!=null),ee.Cb=ye(K),ee.Cb){if(ee.Bb=ye(K),ye(K)){for(ee.Fb=ye(K),re=0;4>re;++re)ee.Zb[re]=ye(K)?q(K,7):0;for(re=0;4>re;++re)ee.Lb[re]=ye(K)?q(K,6):0}if(ee.Bb)for(re=0;3>re;++re)ie.jb[re]=ye(K)?se(K,8):255}else ee.Bb=0;if(K.Ka)return bn(m,3,"cannot parse segment header");if((ee=m.ed).zd=ye(K),ee.Tb=se(K,6),ee.wb=se(K,3),ee.Pc=ye(K),ee.Pc&&ye(K)){for(ie=0;4>ie;++ie)ye(K)&&(ee.vd[ie]=q(K,6));for(ie=0;4>ie;++ie)ye(K)&&(ee.od[ie]=q(K,6))}if(m.L=ee.Tb==0?0:ee.zd?1:2,K.Ka)return bn(m,3,"cannot parse filter header");var je=B;if(B=re=O,O=re+je,ee=je,m.Xb=(1<<se(m.m,2))-1,je<3*(ie=m.Xb))E=7;else{for(re+=3*ie,ee-=3*ie,je=0;je<ie;++je){var Le=E[B+0]|E[B+1]<<8|E[B+2]<<16;Le>ee&&(Le=ee),ae(m.Jc[+je],E,re,Le),re+=Le,ee-=Le,B+=3}ae(m.Jc[+ie],E,re,ee),E=re<O?0:5}if(E!=0)return bn(m,E,"cannot parse partitions");for(E=se(re=m.m,7),B=ye(re)?q(re,4):0,O=ye(re)?q(re,4):0,ee=ye(re)?q(re,4):0,ie=ye(re)?q(re,4):0,re=ye(re)?q(re,4):0,je=m.Qa,Le=0;4>Le;++Le){if(je.Cb){var ce=je.Zb[Le];je.Fb||(ce+=E)}else{if(0<Le){m.pb[Le]=m.pb[0];continue}ce=E}var Ee=m.pb[Le];Ee.Sc[0]=Cl[Jr(ce+B,127)],Ee.Sc[1]=Cc[Jr(ce+0,127)],Ee.Eb[0]=2*Cl[Jr(ce+O,127)],Ee.Eb[1]=101581*Cc[Jr(ce+ee,127)]>>16,8>Ee.Eb[1]&&(Ee.Eb[1]=8),Ee.Qc[0]=Cl[Jr(ce+ie,117)],Ee.Qc[1]=Cc[Jr(ce+re,127)],Ee.lc=ce+re}if(!X.Rb)return bn(m,4,"Not a key frame.");for(ye(K),X=m.Pa,E=0;4>E;++E){for(B=0;8>B;++B)for(O=0;3>O;++O)for(ee=0;11>ee;++ee)ie=ke(K,Hp[E][B][O][ee])?se(K,8):qh[E][B][O][ee],X.Wc[E][B].Yb[O][ee]=ie;for(B=0;17>B;++B)X.Xc[E][B]=X.Wc[E][zd[B]]}return m.kc=ye(K),m.kc&&(m.Bd=se(K,8)),m.cb=1}function Wa(m,b,E,O,B,K,X){var ee=b[B].Yb[E];for(E=0;16>B;++B){if(!ke(m,ee[E+0]))return B;for(;!ke(m,ee[E+1]);)if(ee=b[++B].Yb[0],E=0,B==16)return 16;var re=b[B+1].Yb;if(ke(m,ee[E+2])){var ie=m,je=0;if(ke(ie,(ce=ee)[(Le=E)+3]))if(ke(ie,ce[Le+6])){for(ee=0,Le=2*(je=ke(ie,ce[Le+8]))+(ce=ke(ie,ce[Le+9+je])),je=0,ce=Fd[Le];ce[ee];++ee)je+=je+ke(ie,ce[ee]);je+=3+(8<<Le)}else ke(ie,ce[Le+7])?(je=7+2*ke(ie,165),je+=ke(ie,145)):je=5+ke(ie,159);else je=ke(ie,ce[Le+4])?3+ke(ie,ce[Le+5]):2;ee=re[2]}else je=1,ee=re[1];re=X+Md[B],0>(ie=m).b&&xe(ie);var Le,ce=ie.b,Ee=(Le=ie.Ca>>1)-(ie.I>>ce)>>31;--ie.b,ie.Ca+=Ee,ie.Ca|=1,ie.I-=(Le+1&Ee)<<ce,K[re]=((je^Ee)-Ee)*O[(0<B)+0]}return 16}function us(m){var b=m.rb[m.sb-1];b.la=0,b.Na=0,a(m.zc,0,0,m.zc.length),m.ja=0}function fa(m,b,E,O,B){B=m[b+E+32*O]+(B>>3),m[b+E+32*O]=-256&B?0>B?0:255:B}function yi(m,b,E,O,B,K){fa(m,b,0,E,O+B),fa(m,b,1,E,O+K),fa(m,b,2,E,O-K),fa(m,b,3,E,O-B)}function on(m){return(20091*m>>16)+m}function bi(m,b,E,O){var B,K=0,X=i(16);for(B=0;4>B;++B){var ee=m[b+0]+m[b+8],re=m[b+0]-m[b+8],ie=(35468*m[b+4]>>16)-on(m[b+12]),je=on(m[b+4])+(35468*m[b+12]>>16);X[K+0]=ee+je,X[K+1]=re+ie,X[K+2]=re-ie,X[K+3]=ee-je,K+=4,b++}for(B=K=0;4>B;++B)ee=(m=X[K+0]+4)+X[K+8],re=m-X[K+8],ie=(35468*X[K+4]>>16)-on(X[K+12]),fa(E,O,0,0,ee+(je=on(X[K+4])+(35468*X[K+12]>>16))),fa(E,O,1,0,re+ie),fa(E,O,2,0,re-ie),fa(E,O,3,0,ee-je),K++,O+=32}function lu(m,b,E,O){var B=m[b+0]+4,K=35468*m[b+4]>>16,X=on(m[b+4]),ee=35468*m[b+1]>>16;yi(E,O,0,B+X,m=on(m[b+1]),ee),yi(E,O,1,B+K,m,ee),yi(E,O,2,B-K,m,ee),yi(E,O,3,B-X,m,ee)}function uc(m,b,E,O,B){bi(m,b,E,O),B&&bi(m,b+16,E,O+4)}function xi(m,b,E,O){Di(m,b+0,E,O,1),Di(m,b+32,E,O+128,1)}function Rs(m,b,E,O){var B;for(m=m[b+0]+4,B=0;4>B;++B)for(b=0;4>b;++b)fa(E,O,b,B,m)}function fl(m,b,E,O){m[b+0]&&vr(m,b+0,E,O),m[b+16]&&vr(m,b+16,E,O+4),m[b+32]&&vr(m,b+32,E,O+128),m[b+48]&&vr(m,b+48,E,O+128+4)}function pr(m,b,E,O){var B,K=i(16);for(B=0;4>B;++B){var X=m[b+0+B]+m[b+12+B],ee=m[b+4+B]+m[b+8+B],re=m[b+4+B]-m[b+8+B],ie=m[b+0+B]-m[b+12+B];K[0+B]=X+ee,K[8+B]=X-ee,K[4+B]=ie+re,K[12+B]=ie-re}for(B=0;4>B;++B)X=(m=K[0+4*B]+3)+K[3+4*B],ee=K[1+4*B]+K[2+4*B],re=K[1+4*B]-K[2+4*B],ie=m-K[3+4*B],E[O+0]=X+ee>>3,E[O+16]=ie+re>>3,E[O+32]=X-ee>>3,E[O+48]=ie-re>>3,O+=64}function eo(m,b,E){var O,B=b-32,K=la,X=255-m[B-1];for(O=0;O<E;++O){var ee,re=K,ie=X+m[b-1];for(ee=0;ee<E;++ee)m[b+ee]=re[ie+m[B+ee]];b+=32}}function pl(m,b){eo(m,b,4)}function dc(m,b){eo(m,b,8)}function cu(m,b){eo(m,b,16)}function uu(m,b){var E;for(E=0;16>E;++E)n(m,b+32*E,m,b-32,16)}function ml(m,b){var E;for(E=16;0<E;--E)a(m,b,m[b-1],16),b+=32}function to(m,b,E){var O;for(O=0;16>O;++O)a(b,E+32*O,m,16)}function ds(m,b){var E,O=16;for(E=0;16>E;++E)O+=m[b-1+32*E]+m[b+E-32];to(O>>5,m,b)}function Ds(m,b){var E,O=8;for(E=0;16>E;++E)O+=m[b-1+32*E];to(O>>4,m,b)}function pa(m,b){var E,O=8;for(E=0;16>E;++E)O+=m[b+E-32];to(O>>4,m,b)}function Ha(m,b){to(128,m,b)}function Ht(m,b,E){return m+2*b+E+2>>2}function wi(m,b){var E,O=b-32;for(O=new Uint8Array([Ht(m[O-1],m[O+0],m[O+1]),Ht(m[O+0],m[O+1],m[O+2]),Ht(m[O+1],m[O+2],m[O+3]),Ht(m[O+2],m[O+3],m[O+4])]),E=0;4>E;++E)n(m,b+32*E,O,0,O.length)}function Is(m,b){var E=m[b-1],O=m[b-1+32],B=m[b-1+64],K=m[b-1+96];De(m,b+0,16843009*Ht(m[b-1-32],E,O)),De(m,b+32,16843009*Ht(E,O,B)),De(m,b+64,16843009*Ht(O,B,K)),De(m,b+96,16843009*Ht(B,K,K))}function Ad(m,b){var E,O=4;for(E=0;4>E;++E)O+=m[b+E-32]+m[b-1+32*E];for(O>>=3,E=0;4>E;++E)a(m,b+32*E,O,4)}function du(m,b){var E=m[b-1+0],O=m[b-1+32],B=m[b-1+64],K=m[b-1-32],X=m[b+0-32],ee=m[b+1-32],re=m[b+2-32],ie=m[b+3-32];m[b+0+96]=Ht(O,B,m[b-1+96]),m[b+1+96]=m[b+0+64]=Ht(E,O,B),m[b+2+96]=m[b+1+64]=m[b+0+32]=Ht(K,E,O),m[b+3+96]=m[b+2+64]=m[b+1+32]=m[b+0+0]=Ht(X,K,E),m[b+3+64]=m[b+2+32]=m[b+1+0]=Ht(ee,X,K),m[b+3+32]=m[b+2+0]=Ht(re,ee,X),m[b+3+0]=Ht(ie,re,ee)}function Da(m,b){var E=m[b+1-32],O=m[b+2-32],B=m[b+3-32],K=m[b+4-32],X=m[b+5-32],ee=m[b+6-32],re=m[b+7-32];m[b+0+0]=Ht(m[b+0-32],E,O),m[b+1+0]=m[b+0+32]=Ht(E,O,B),m[b+2+0]=m[b+1+32]=m[b+0+64]=Ht(O,B,K),m[b+3+0]=m[b+2+32]=m[b+1+64]=m[b+0+96]=Ht(B,K,X),m[b+3+32]=m[b+2+64]=m[b+1+96]=Ht(K,X,ee),m[b+3+64]=m[b+2+96]=Ht(X,ee,re),m[b+3+96]=Ht(ee,re,re)}function ro(m,b){var E=m[b-1+0],O=m[b-1+32],B=m[b-1+64],K=m[b-1-32],X=m[b+0-32],ee=m[b+1-32],re=m[b+2-32],ie=m[b+3-32];m[b+0+0]=m[b+1+64]=K+X+1>>1,m[b+1+0]=m[b+2+64]=X+ee+1>>1,m[b+2+0]=m[b+3+64]=ee+re+1>>1,m[b+3+0]=re+ie+1>>1,m[b+0+96]=Ht(B,O,E),m[b+0+64]=Ht(O,E,K),m[b+0+32]=m[b+1+96]=Ht(E,K,X),m[b+1+32]=m[b+2+96]=Ht(K,X,ee),m[b+2+32]=m[b+3+96]=Ht(X,ee,re),m[b+3+32]=Ht(ee,re,ie)}function hu(m,b){var E=m[b+0-32],O=m[b+1-32],B=m[b+2-32],K=m[b+3-32],X=m[b+4-32],ee=m[b+5-32],re=m[b+6-32],ie=m[b+7-32];m[b+0+0]=E+O+1>>1,m[b+1+0]=m[b+0+64]=O+B+1>>1,m[b+2+0]=m[b+1+64]=B+K+1>>1,m[b+3+0]=m[b+2+64]=K+X+1>>1,m[b+0+32]=Ht(E,O,B),m[b+1+32]=m[b+0+96]=Ht(O,B,K),m[b+2+32]=m[b+1+96]=Ht(B,K,X),m[b+3+32]=m[b+2+96]=Ht(K,X,ee),m[b+3+64]=Ht(X,ee,re),m[b+3+96]=Ht(ee,re,ie)}function gl(m,b){var E=m[b-1+0],O=m[b-1+32],B=m[b-1+64],K=m[b-1+96];m[b+0+0]=E+O+1>>1,m[b+2+0]=m[b+0+32]=O+B+1>>1,m[b+2+32]=m[b+0+64]=B+K+1>>1,m[b+1+0]=Ht(E,O,B),m[b+3+0]=m[b+1+32]=Ht(O,B,K),m[b+3+32]=m[b+1+64]=Ht(B,K,K),m[b+3+64]=m[b+2+64]=m[b+0+96]=m[b+1+96]=m[b+2+96]=m[b+3+96]=K}function _i(m,b){var E=m[b-1+0],O=m[b-1+32],B=m[b-1+64],K=m[b-1+96],X=m[b-1-32],ee=m[b+0-32],re=m[b+1-32],ie=m[b+2-32];m[b+0+0]=m[b+2+32]=E+X+1>>1,m[b+0+32]=m[b+2+64]=O+E+1>>1,m[b+0+64]=m[b+2+96]=B+O+1>>1,m[b+0+96]=K+B+1>>1,m[b+3+0]=Ht(ee,re,ie),m[b+2+0]=Ht(X,ee,re),m[b+1+0]=m[b+3+32]=Ht(E,X,ee),m[b+1+32]=m[b+3+64]=Ht(O,E,X),m[b+1+64]=m[b+3+96]=Ht(B,O,E),m[b+1+96]=Ht(K,B,O)}function hc(m,b){var E;for(E=0;8>E;++E)n(m,b+32*E,m,b-32,8)}function hs(m,b){var E;for(E=0;8>E;++E)a(m,b,m[b-1],8),b+=32}function Fs(m,b,E){var O;for(O=0;8>O;++O)a(b,E+32*O,m,8)}function fs(m,b){var E,O=8;for(E=0;8>E;++E)O+=m[b+E-32]+m[b-1+32*E];Fs(O>>4,m,b)}function vl(m,b){var E,O=4;for(E=0;8>E;++E)O+=m[b+E-32];Fs(O>>3,m,b)}function fc(m,b){var E,O=4;for(E=0;8>E;++E)O+=m[b-1+32*E];Fs(O>>3,m,b)}function pc(m,b){Fs(128,m,b)}function no(m,b,E){var O=m[b-E],B=m[b+0],K=3*(B-O)+$s[1020+m[b-2*E]-m[b+E]],X=Sl[112+(K+4>>3)];m[b-E]=la[255+O+Sl[112+(K+3>>3)]],m[b+0]=la[255+B-X]}function Ms(m,b,E,O){var B=m[b+0],K=m[b+E];return Za[255+m[b-2*E]-m[b-E]]>O||Za[255+K-B]>O}function Ni(m,b,E,O){return 4*Za[255+m[b-E]-m[b+0]]+Za[255+m[b-2*E]-m[b+E]]<=O}function ji(m,b,E,O,B){var K=m[b-3*E],X=m[b-2*E],ee=m[b-E],re=m[b+0],ie=m[b+E],je=m[b+2*E],Le=m[b+3*E];return 4*Za[255+ee-re]+Za[255+X-ie]>O?0:Za[255+m[b-4*E]-K]<=B&&Za[255+K-X]<=B&&Za[255+X-ee]<=B&&Za[255+Le-je]<=B&&Za[255+je-ie]<=B&&Za[255+ie-re]<=B}function Ga(m,b,E,O){var B=2*O+1;for(O=0;16>O;++O)Ni(m,b+O,E,B)&&no(m,b+O,E)}function ao(m,b,E,O){var B=2*O+1;for(O=0;16>O;++O)Ni(m,b+O*E,1,B)&&no(m,b+O*E,1)}function Si(m,b,E,O){var B;for(B=3;0<B;--B)Ga(m,b+=4*E,E,O)}function mc(m,b,E,O){var B;for(B=3;0<B;--B)ao(m,b+=4,E,O)}function Ka(m,b,E,O,B,K,X,ee){for(K=2*K+1;0<B--;){if(ji(m,b,E,K,X))if(Ms(m,b,E,ee))no(m,b,E);else{var re=m,ie=b,je=E,Le=re[ie-2*je],ce=re[ie-je],Ee=re[ie+0],Oe=re[ie+je],$e=re[ie+2*je],Re=27*(qe=$s[1020+3*(Ee-ce)+$s[1020+Le-Oe]])+63>>7,Ue=18*qe+63>>7,qe=9*qe+63>>7;re[ie-3*je]=la[255+re[ie-3*je]+qe],re[ie-2*je]=la[255+Le+Ue],re[ie-je]=la[255+ce+Re],re[ie+0]=la[255+Ee-Re],re[ie+je]=la[255+Oe-Ue],re[ie+2*je]=la[255+$e-qe]}b+=O}}function Ya(m,b,E,O,B,K,X,ee){for(K=2*K+1;0<B--;){if(ji(m,b,E,K,X))if(Ms(m,b,E,ee))no(m,b,E);else{var re=m,ie=b,je=E,Le=re[ie-je],ce=re[ie+0],Ee=re[ie+je],Oe=Sl[112+(4+($e=3*(ce-Le))>>3)],$e=Sl[112+($e+3>>3)],Re=Oe+1>>1;re[ie-2*je]=la[255+re[ie-2*je]+Re],re[ie-je]=la[255+Le+$e],re[ie+0]=la[255+ce-Oe],re[ie+je]=la[255+Ee-Re]}b+=O}}function gc(m,b,E,O,B,K){Ka(m,b,E,1,16,O,B,K)}function Zn(m,b,E,O,B,K){Ka(m,b,1,E,16,O,B,K)}function Ja(m,b,E,O,B,K){var X;for(X=3;0<X;--X)Ya(m,b+=4*E,E,1,16,O,B,K)}function yl(m,b,E,O,B,K){var X;for(X=3;0<X;--X)Ya(m,b+=4,1,E,16,O,B,K)}function N(m,b,E,O,B,K,X,ee){Ka(m,b,B,1,8,K,X,ee),Ka(E,O,B,1,8,K,X,ee)}function U(m,b,E,O,B,K,X,ee){Ka(m,b,1,B,8,K,X,ee),Ka(E,O,1,B,8,K,X,ee)}function he(m,b,E,O,B,K,X,ee){Ya(m,b+4*B,B,1,8,K,X,ee),Ya(E,O+4*B,B,1,8,K,X,ee)}function _e(m,b,E,O,B,K,X,ee){Ya(m,b+4,1,B,8,K,X,ee),Ya(E,O+4,1,B,8,K,X,ee)}function Ae(){this.ba=new Qe,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ne,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function We(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function et(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ct(){this.ua=0,this.Wa=new wt,this.vb=new wt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new fe,this.yc=new P}function Dt(){this.xb=this.a=0,this.l=new Qn,this.ca=new Qe,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Y,this.Pb=0,this.wd=new Y,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ct,this.ab=0,this.gc=c(4,et),this.Oc=0}function Yt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Qn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Jt(m,b,E,O,B,K,X){for(m=m==null?0:m[b+0],b=0;b<X;++b)B[K+b]=m+E[O+b]&255,m=B[K+b]}function gr(m,b,E,O,B,K,X){var ee;if(m==null)Jt(null,null,E,O,B,K,X);else for(ee=0;ee<X;++ee)B[K+ee]=m[b+ee]+E[O+ee]&255}function Gr(m,b,E,O,B,K,X){if(m==null)Jt(null,null,E,O,B,K,X);else{var ee,re=m[b+0],ie=re,je=re;for(ee=0;ee<X;++ee)ie=je+(re=m[b+ee])-ie,je=E[O+ee]+(-256&ie?0>ie?0:255:ie)&255,ie=re,B[K+ee]=je}}function xn(m,b,E,O){var B=b.width,K=b.o;if(e(m!=null&&b!=null),0>E||0>=O||E+O>K)return null;if(!m.Cc){if(m.ga==null){var X;if(m.ga=new Yt,(X=m.ga==null)||(X=b.width*b.o,e(m.Gb.length==0),m.Gb=i(X),m.Uc=0,m.Gb==null?X=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,X=1),X=!X),!X){X=m.ga;var ee=m.Fa,re=m.P,ie=m.qc,je=m.mb,Le=m.nb,ce=re+1,Ee=ie-1,Oe=X.l;if(e(ee!=null&&je!=null&&b!=null),ta[0]=null,ta[1]=Jt,ta[2]=gr,ta[3]=Gr,X.ca=je,X.tb=Le,X.c=b.width,X.i=b.height,e(0<X.c&&0<X.i),1>=ie)b=0;else if(X.$a=3&ee[re+0],X.Z=ee[re+0]>>2&3,X.Lc=ee[re+0]>>4&3,re=ee[re+0]>>6&3,0>X.$a||1<X.$a||4<=X.Z||1<X.Lc||re)b=0;else if(Oe.put=yt,Oe.ac=dr,Oe.bc=fr,Oe.ma=X,Oe.width=b.width,Oe.height=b.height,Oe.Da=b.Da,Oe.v=b.v,Oe.va=b.va,Oe.j=b.j,Oe.o=b.o,X.$a)e:{e(X.$a==1),b=fi();t:for(;;){if(b==null){b=0;break e}if(e(X!=null),X.mc=b,b.c=X.c,b.i=X.i,b.l=X.l,b.l.ma=X,b.l.width=X.c,b.l.height=X.i,b.a=0,me(b.m,ee,ce,Ee),!cs(X.c,X.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&ls(b.s)?(X.ic=1,ee=b.c*b.i,b.Ta=null,b.Ua=0,b.V=i(ee),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(X.ic=0,b=Io(b,X.c)),!b))break t;b=1;break e}X.mc=null,b=0}else b=Ee>=X.c*X.i;X=!b}if(X)return null;m.ga.Lc!=1?m.Ga=0:O=K-E}e(m.ga!=null),e(E+O<=K);e:{if(b=(ee=m.ga).c,K=ee.l.o,ee.$a==0){if(ce=m.rc,Ee=m.Vc,Oe=m.Fa,re=m.P+1+E*b,ie=m.mb,je=m.nb+E*b,e(re<=m.P+m.qc),ee.Z!=0)for(e(ta[ee.Z]!=null),X=0;X<O;++X)ta[ee.Z](ce,Ee,Oe,re,ie,je,b),ce=ie,Ee=je,je+=b,re+=b;else for(X=0;X<O;++X)n(ie,je,Oe,re,b),ce=ie,Ee=je,je+=b,re+=b;m.rc=ce,m.Vc=Ee}else{if(e(ee.mc!=null),b=E+O,e((X=ee.mc)!=null),e(b<=X.i),X.C>=b)b=1;else if(ee.ic||Xa(),ee.ic){ee=X.V,ce=X.Ba,Ee=X.c;var $e=X.i,Re=(Oe=1,re=X.$/Ee,ie=X.$%Ee,je=X.m,Le=X.s,X.$),Ue=Ee*$e,qe=Ee*b,Ke=Le.wc,Ye=Re<qe?sn(Le,ie,re):null;e(Re<=Ue),e(b<=$e),e(ls(Le));t:for(;;){for(;!je.h&&Re<qe;){if(ie&Ke||(Ye=sn(Le,ie,re)),e(Ye!=null),le(je),256>($e=Nr(Ye.G[0],Ye.H[0],je)))ee[ce+Re]=$e,++Re,++ie>=Ee&&(ie=0,++re<=b&&!(re%16)&&Wn(X,re));else{if(!(280>$e)){Oe=0;break t}$e=Cr($e-256,je);var It,Nt=Nr(Ye.G[4],Ye.H[4],je);if(le(je),!(Re>=(Nt=qr(Ee,Nt=Cr(Nt,je)))&&Ue-Re>=$e)){Oe=0;break t}for(It=0;It<$e;++It)ee[ce+Re+It]=ee[ce+Re+It-Nt];for(Re+=$e,ie+=$e;ie>=Ee;)ie-=Ee,++re<=b&&!(re%16)&&Wn(X,re);Re<qe&&ie&Ke&&(Ye=sn(Le,ie,re))}e(je.h==ue(je))}Wn(X,re>b?b:re);break t}!Oe||je.h&&Re<Ue?(Oe=0,X.a=je.h?5:3):X.$=Re,b=Oe}else b=Va(X,X.V,X.Ba,X.c,X.i,b,pi);if(!b){O=0;break e}}E+O>=K&&(m.Cc=1),O=1}if(!O)return null;if(m.Cc&&((O=m.ga)!=null&&(O.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+E*B}function Fr(m,b,E,O,B,K){for(;0<B--;){var X,ee=m,re=b+(E?1:0),ie=m,je=b+(E?0:3);for(X=0;X<O;++X){var Le=ie[je+4*X];Le!=255&&(Le*=32897,ee[re+4*X+0]=ee[re+4*X+0]*Le>>23,ee[re+4*X+1]=ee[re+4*X+1]*Le>>23,ee[re+4*X+2]=ee[re+4*X+2]*Le>>23)}b+=K}}function kn(m,b,E,O,B){for(;0<O--;){var K;for(K=0;K<E;++K){var X=m[b+2*K+0],ee=15&(ie=m[b+2*K+1]),re=4369*ee,ie=(240&ie|ie>>4)*re>>16;m[b+2*K+0]=(240&X|X>>4)*re>>16&240|(15&X|X<<4)*re>>16>>4&15,m[b+2*K+1]=240&ie|ee}b+=B}}function ln(m,b,E,O,B,K,X,ee){var re,ie,je=255;for(ie=0;ie<B;++ie){for(re=0;re<O;++re){var Le=m[b+re];K[X+4*re]=Le,je&=Le}b+=E,X+=ee}return je!=255}function Hn(m,b,E,O,B){var K;for(K=0;K<B;++K)E[O+K]=m[b+K]>>8}function Xa(){Fi=Fr,Pd=kn,wc=ln,Od=Hn}function ma(m,b,E){$[m]=function(O,B,K,X,ee,re,ie,je,Le,ce,Ee,Oe,$e,Re,Ue,qe,Ke){var Ye,It=Ke-1>>1,Nt=ee[re+0]|ie[je+0]<<16,Zt=Le[ce+0]|Ee[Oe+0]<<16;e(O!=null);var At=3*Nt+Zt+131074>>2;for(b(O[B+0],255&At,At>>16,$e,Re),K!=null&&(At=3*Zt+Nt+131074>>2,b(K[X+0],255&At,At>>16,Ue,qe)),Ye=1;Ye<=It;++Ye){var cr=ee[re+Ye]|ie[je+Ye]<<16,Zr=Le[ce+Ye]|Ee[Oe+Ye]<<16,er=Nt+cr+Zt+Zr+524296,jt=er+2*(cr+Zt)>>3;At=jt+Nt>>1,Nt=(er=er+2*(Nt+Zr)>>3)+cr>>1,b(O[B+2*Ye-1],255&At,At>>16,$e,Re+(2*Ye-1)*E),b(O[B+2*Ye-0],255&Nt,Nt>>16,$e,Re+(2*Ye-0)*E),K!=null&&(At=er+Zt>>1,Nt=jt+Zr>>1,b(K[X+2*Ye-1],255&At,At>>16,Ue,qe+(2*Ye-1)*E),b(K[X+2*Ye+0],255&Nt,Nt>>16,Ue,qe+(2*Ye+0)*E)),Nt=cr,Zt=Zr}1&Ke||(At=3*Nt+Zt+131074>>2,b(O[B+Ke-1],255&At,At>>16,$e,Re+(Ke-1)*E),K!=null&&(At=3*Zt+Nt+131074>>2,b(K[X+Ke-1],255&At,At>>16,Ue,qe+(Ke-1)*E)))}}function fu(){ya[vu]=Gp,ya[Ho]=Go,ya[Mh]=Kp,ya[_c]=kl,ya[Nc]=Ui,ya[Or]=Ac,ya[yu]=Bd,ya[El]=Go,ya[Mi]=kl,ya[jc]=Ui,ya[Sc]=Ac}function Mo(m){return m&-16384?0>m?0:255:m>>Ko}function Ei(m,b){return Mo((19077*m>>8)+(26149*b>>8)-14234)}function zo(m,b,E){return Mo((19077*m>>8)-(6419*b>>8)-(13320*E>>8)+8708)}function Ci(m,b){return Mo((19077*m>>8)+(33050*b>>8)-17685)}function Bo(m,b,E,O,B){O[B+0]=Ei(m,E),O[B+1]=zo(m,b,E),O[B+2]=Ci(m,b)}function Ai(m,b,E,O,B){O[B+0]=Ci(m,b),O[B+1]=zo(m,b,E),O[B+2]=Ei(m,E)}function ea(m,b,E,O,B){var K=zo(m,b,E);b=K<<3&224|Ci(m,b)>>3,O[B+0]=248&Ei(m,E)|K>>5,O[B+1]=b}function ki(m,b,E,O,B){var K=240&Ci(m,b)|15;O[B+0]=240&Ei(m,E)|zo(m,b,E)>>4,O[B+1]=K}function Pi(m,b,E,O,B){O[B+0]=255,Bo(m,b,E,O,B+1)}function vc(m,b,E,O,B){Ai(m,b,E,O,B),O[B+3]=255}function yc(m,b,E,O,B){Bo(m,b,E,O,B),O[B+3]=255}function Jr(m,b){return 0>m?0:m>b?b:m}function ps(m,b,E){$[m]=function(O,B,K,X,ee,re,ie,je,Le){for(var ce=je+(-2&Le)*E;je!=ce;)b(O[B+0],K[X+0],ee[re+0],ie,je),b(O[B+1],K[X+0],ee[re+0],ie,je+E),B+=2,++X,++re,je+=2*E;1&Le&&b(O[B+0],K[X+0],ee[re+0],ie,je)}}function zs(m,b,E){return E==0?m==0?b==0?6:5:b==0?4:0:E}function pu(m,b,E,O,B){switch(m>>>30){case 3:Di(b,E,O,B,0);break;case 2:Xr(b,E,O,B);break;case 1:vr(b,E,O,B)}}function Ia(m,b){var E,O,B=b.M,K=b.Nb,X=m.oc,ee=m.pc+40,re=m.oc,ie=m.pc+584,je=m.oc,Le=m.pc+600;for(E=0;16>E;++E)X[ee+32*E-1]=129;for(E=0;8>E;++E)re[ie+32*E-1]=129,je[Le+32*E-1]=129;for(0<B?X[ee-1-32]=re[ie-1-32]=je[Le-1-32]=129:(a(X,ee-32-1,127,21),a(re,ie-32-1,127,9),a(je,Le-32-1,127,9)),O=0;O<m.za;++O){var ce=b.ya[b.aa+O];if(0<O){for(E=-1;16>E;++E)n(X,ee+32*E-4,X,ee+32*E+12,4);for(E=-1;8>E;++E)n(re,ie+32*E-4,re,ie+32*E+4,4),n(je,Le+32*E-4,je,Le+32*E+4,4)}var Ee=m.Gd,Oe=m.Hd+O,$e=ce.ad,Re=ce.Hc;if(0<B&&(n(X,ee-32,Ee[Oe].y,0,16),n(re,ie-32,Ee[Oe].f,0,8),n(je,Le-32,Ee[Oe].ea,0,8)),ce.Za){var Ue=X,qe=ee-32+16;for(0<B&&(O>=m.za-1?a(Ue,qe,Ee[Oe].y[15],4):n(Ue,qe,Ee[Oe+1].y,0,4)),E=0;4>E;E++)Ue[qe+128+E]=Ue[qe+256+E]=Ue[qe+384+E]=Ue[qe+0+E];for(E=0;16>E;++E,Re<<=2)Ue=X,qe=ee+Ud[E],es[ce.Ob[E]](Ue,qe),pu(Re,$e,16*+E,Ue,qe)}else if(Ue=zs(O,B,ce.Ob[0]),ca[Ue](X,ee),Re!=0)for(E=0;16>E;++E,Re<<=2)pu(Re,$e,16*+E,X,ee+Ud[E]);for(E=ce.Gc,Ue=zs(O,B,ce.Dd),va[Ue](re,ie),va[Ue](je,Le),Re=$e,Ue=re,qe=ie,255&(ce=0|E)&&(170&ce?ga(Re,256,Ue,qe):Ar(Re,256,Ue,qe)),ce=je,Re=Le,255&(E>>=8)&&(170&E?ga($e,320,ce,Re):Ar($e,320,ce,Re)),B<m.Ub-1&&(n(Ee[Oe].y,0,X,ee+480,16),n(Ee[Oe].f,0,re,ie+224,8),n(Ee[Oe].ea,0,je,Le+224,8)),E=8*K*m.B,Ee=m.sa,Oe=m.ta+16*O+16*K*m.R,$e=m.qa,ce=m.ra+8*O+E,Re=m.Ha,Ue=m.Ia+8*O+E,E=0;16>E;++E)n(Ee,Oe+E*m.R,X,ee+32*E,16);for(E=0;8>E;++E)n($e,ce+E*m.B,re,ie+32*E,8),n(Re,Ue+E*m.B,je,Le+32*E,8)}}function Uo(m,b,E,O,B,K,X,ee,re){var ie=[0],je=[0],Le=0,ce=re!=null?re.kd:0,Ee=re??new We;if(m==null||12>E)return 7;Ee.data=m,Ee.w=b,Ee.ha=E,b=[b],E=[E],Ee.gb=[Ee.gb];e:{var Oe=b,$e=E,Re=Ee.gb;if(e(m!=null),e($e!=null),e(Re!=null),Re[0]=0,12<=$e[0]&&!r(m,Oe[0],"RIFF")){if(r(m,Oe[0]+8,"WEBP")){Re=3;break e}var Ue=Fe(m,Oe[0]+4);if(12>Ue||4294967286<Ue){Re=3;break e}if(ce&&Ue>$e[0]-8){Re=7;break e}Re[0]=Ue,Oe[0]+=12,$e[0]-=12}Re=0}if(Re!=0)return Re;for(Ue=0<Ee.gb[0],E=E[0];;){e:{var qe=m;$e=b,Re=E;var Ke=ie,Ye=je,It=Oe=[0];if((At=Le=[Le])[0]=0,8>Re[0])Re=7;else{if(!r(qe,$e[0],"VP8X")){if(Fe(qe,$e[0]+4)!=10){Re=3;break e}if(18>Re[0]){Re=7;break e}var Nt=Fe(qe,$e[0]+8),Zt=1+tt(qe,$e[0]+12);if(2147483648<=Zt*(qe=1+tt(qe,$e[0]+15))){Re=3;break e}It!=null&&(It[0]=Nt),Ke!=null&&(Ke[0]=Zt),Ye!=null&&(Ye[0]=qe),$e[0]+=18,Re[0]-=18,At[0]=1}Re=0}}if(Le=Le[0],Oe=Oe[0],Re!=0)return Re;if($e=!!(2&Oe),!Ue&&Le)return 3;if(K!=null&&(K[0]=!!(16&Oe)),X!=null&&(X[0]=$e),ee!=null&&(ee[0]=0),X=ie[0],Oe=je[0],Le&&$e&&re==null){Re=0;break}if(4>E){Re=7;break}if(Ue&&Le||!Ue&&!Le&&!r(m,b[0],"ALPH")){E=[E],Ee.na=[Ee.na],Ee.P=[Ee.P],Ee.Sa=[Ee.Sa];e:{Nt=m,Re=b,Ue=E;var At=Ee.gb;Ke=Ee.na,Ye=Ee.P,It=Ee.Sa,Zt=22,e(Nt!=null),e(Ue!=null),qe=Re[0];var cr=Ue[0];for(e(Ke!=null),e(It!=null),Ke[0]=null,Ye[0]=null,It[0]=0;;){if(Re[0]=qe,Ue[0]=cr,8>cr){Re=7;break e}var Zr=Fe(Nt,qe+4);if(4294967286<Zr){Re=3;break e}var er=8+Zr+1&-2;if(Zt+=er,0<At&&Zt>At){Re=3;break e}if(!r(Nt,qe,"VP8 ")||!r(Nt,qe,"VP8L")){Re=0;break e}if(cr[0]<er){Re=7;break e}r(Nt,qe,"ALPH")||(Ke[0]=Nt,Ye[0]=qe+8,It[0]=Zr),qe+=er,cr-=er}}if(E=E[0],Ee.na=Ee.na[0],Ee.P=Ee.P[0],Ee.Sa=Ee.Sa[0],Re!=0)break}E=[E],Ee.Ja=[Ee.Ja],Ee.xa=[Ee.xa];e:if(At=m,Re=b,Ue=E,Ke=Ee.gb[0],Ye=Ee.Ja,It=Ee.xa,Nt=Re[0],qe=!r(At,Nt,"VP8 "),Zt=!r(At,Nt,"VP8L"),e(At!=null),e(Ue!=null),e(Ye!=null),e(It!=null),8>Ue[0])Re=7;else{if(qe||Zt){if(At=Fe(At,Nt+4),12<=Ke&&At>Ke-12){Re=3;break e}if(ce&&At>Ue[0]-8){Re=7;break e}Ye[0]=At,Re[0]+=8,Ue[0]-=8,It[0]=Zt}else It[0]=5<=Ue[0]&&At[Nt+0]==47&&!(At[Nt+4]>>5),Ye[0]=Ue[0];Re=0}if(E=E[0],Ee.Ja=Ee.Ja[0],Ee.xa=Ee.xa[0],b=b[0],Re!=0)break;if(4294967286<Ee.Ja)return 3;if(ee==null||$e||(ee[0]=Ee.xa?2:1),X=[X],Oe=[Oe],Ee.xa){if(5>E){Re=7;break}ee=X,ce=Oe,$e=K,m==null||5>E?m=0:5<=E&&m[b+0]==47&&!(m[b+4]>>5)?(Ue=[0],At=[0],Ke=[0],me(Ye=new Y,m,b,E),yn(Ye,Ue,At,Ke)?(ee!=null&&(ee[0]=Ue[0]),ce!=null&&(ce[0]=At[0]),$e!=null&&($e[0]=Ke[0]),m=1):m=0):m=0}else{if(10>E){Re=7;break}ee=Oe,m==null||10>E||!iu(m,b+3,E-3)?m=0:(ce=m[b+0]|m[b+1]<<8|m[b+2]<<16,$e=16383&(m[b+7]<<8|m[b+6]),m=16383&(m[b+9]<<8|m[b+8]),1&ce||3<(ce>>1&7)||!(ce>>4&1)||ce>>5>=Ee.Ja||!$e||!m?m=0:(X&&(X[0]=$e),ee&&(ee[0]=m),m=1))}if(!m||(X=X[0],Oe=Oe[0],Le&&(ie[0]!=X||je[0]!=Oe)))return 3;re!=null&&(re[0]=Ee,re.offset=b-re.w,e(4294967286>b-re.w),e(re.offset==re.ha-E));break}return Re==0||Re==7&&Le&&re==null?(K!=null&&(K[0]|=Ee.na!=null&&0<Ee.na.length),O!=null&&(O[0]=X),B!=null&&(B[0]=Oe),0):Re}function bl(m,b,E){var O=b.width,B=b.height,K=0,X=0,ee=O,re=B;if(b.Da=m!=null&&0<m.Da,b.Da&&(ee=m.cd,re=m.bd,K=m.v,X=m.j,11>E||(K&=-2,X&=-2),0>K||0>X||0>=ee||0>=re||K+ee>O||X+re>B))return 0;if(b.v=K,b.j=X,b.va=K+ee,b.o=X+re,b.U=ee,b.T=re,b.da=m!=null&&0<m.da,b.da){if(!bt(ee,re,E=[m.ib],K=[m.hb]))return 0;b.ib=E[0],b.hb=K[0]}return b.ob=m!=null&&m.ob,b.Kb=m==null||!m.Sd,b.da&&(b.ob=b.ib<3*O/4&&b.hb<3*B/4,b.Kb=0),1}function xl(m){if(m==null)return 2;if(11>m.S){var b=m.f.RGBA;b.fb+=(m.height-1)*b.A,b.A=-b.A}else b=m.f.kb,m=m.height,b.O+=(m-1)*b.fa,b.fa=-b.fa,b.N+=(m-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(m-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(m-1)*b.lb,b.lb=-b.lb);return 0}function so(m,b,E,O){if(O==null||0>=m||0>=b)return 2;if(E!=null){if(E.Da){var B=E.cd,K=E.bd,X=-2&E.v,ee=-2&E.j;if(0>X||0>ee||0>=B||0>=K||X+B>m||ee+K>b)return 2;m=B,b=K}if(E.da){if(!bt(m,b,B=[E.ib],K=[E.hb]))return 2;m=B[0],b=K[0]}}O.width=m,O.height=b;e:{var re=O.width,ie=O.height;if(m=O.S,0>=re||0>=ie||!(m>=vu&&13>m))m=2;else{if(0>=O.Rd&&O.sd==null){X=K=B=b=0;var je=(ee=re*kc[m])*ie;if(11>m||(K=(ie+1)/2*(b=(re+1)/2),m==12&&(X=(B=re)*ie)),(ie=i(je+2*K+X))==null){m=1;break e}O.sd=ie,11>m?((re=O.f.RGBA).eb=ie,re.fb=0,re.A=ee,re.size=je):((re=O.f.kb).y=ie,re.O=0,re.fa=ee,re.Fd=je,re.f=ie,re.N=0+je,re.Ab=b,re.Cd=K,re.ea=ie,re.W=0+je+K,re.Db=b,re.Ed=K,m==12&&(re.F=ie,re.J=0+je+2*K),re.Tc=X,re.lb=B)}if(b=1,B=O.S,K=O.width,X=O.height,B>=vu&&13>B)if(11>B)m=O.f.RGBA,b&=(ee=Math.abs(m.A))*(X-1)+K<=m.size,b&=ee>=K*kc[B],b&=m.eb!=null;else{m=O.f.kb,ee=(K+1)/2,je=(X+1)/2,re=Math.abs(m.fa),ie=Math.abs(m.Ab);var Le=Math.abs(m.Db),ce=Math.abs(m.lb),Ee=ce*(X-1)+K;b&=re*(X-1)+K<=m.Fd,b&=ie*(je-1)+ee<=m.Cd,b=(b&=Le*(je-1)+ee<=m.Ed)&re>=K&ie>=ee&Le>=ee,b&=m.y!=null,b&=m.f!=null,b&=m.ea!=null,B==12&&(b&=ce>=K,b&=Ee<=m.Tc,b&=m.F!=null)}else b=0;m=b?0:2}}return m!=0||E!=null&&E.fd&&(m=xl(O)),m}var Qa=64,Fa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ma=24,qo=32,Bs=8,oo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];we("Predictor0","PredictorAdd0"),$.Predictor0=function(){return 4278190080},$.Predictor1=function(m){return m},$.Predictor2=function(m,b,E){return b[E+0]},$.Predictor3=function(m,b,E){return b[E+1]},$.Predictor4=function(m,b,E){return b[E-1]},$.Predictor5=function(m,b,E){return V(V(m,b[E+1]),b[E+0])},$.Predictor6=function(m,b,E){return V(m,b[E-1])},$.Predictor7=function(m,b,E){return V(m,b[E+0])},$.Predictor8=function(m,b,E){return V(b[E-1],b[E+0])},$.Predictor9=function(m,b,E){return V(b[E+0],b[E+1])},$.Predictor10=function(m,b,E){return V(V(m,b[E-1]),V(b[E+0],b[E+1]))},$.Predictor11=function(m,b,E){var O=b[E+0];return 0>=Be(O>>24&255,m>>24&255,(b=b[E-1])>>24&255)+Be(O>>16&255,m>>16&255,b>>16&255)+Be(O>>8&255,m>>8&255,b>>8&255)+Be(255&O,255&m,255&b)?O:m},$.Predictor12=function(m,b,E){var O=b[E+0];return(be((m>>24&255)+(O>>24&255)-((b=b[E-1])>>24&255))<<24|be((m>>16&255)+(O>>16&255)-(b>>16&255))<<16|be((m>>8&255)+(O>>8&255)-(b>>8&255))<<8|be((255&m)+(255&O)-(255&b)))>>>0},$.Predictor13=function(m,b,E){var O=b[E-1];return(oe((m=V(m,b[E+0]))>>24&255,O>>24&255)<<24|oe(m>>16&255,O>>16&255)<<16|oe(m>>8&255,O>>8&255)<<8|oe(255&m,255&O))>>>0};var io=$.PredictorAdd0;$.PredictorAdd1=ct,we("Predictor2","PredictorAdd2"),we("Predictor3","PredictorAdd3"),we("Predictor4","PredictorAdd4"),we("Predictor5","PredictorAdd5"),we("Predictor6","PredictorAdd6"),we("Predictor7","PredictorAdd7"),we("Predictor8","PredictorAdd8"),we("Predictor9","PredictorAdd9"),we("Predictor10","PredictorAdd10"),we("Predictor11","PredictorAdd11"),we("Predictor12","PredictorAdd12"),we("Predictor13","PredictorAdd13");var Us=$.PredictorAdd2;Me("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),Me("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var cn,Oi=$.ColorIndexInverseTransform,qs=$.MapARGB,ms=$.VP8LColorIndexInverseTransformAlpha,Li=$.MapAlpha,Ti=$.VP8LPredictorsAdd=[];Ti.length=16,($.VP8LPredictors=[]).length=16,($.VP8LPredictorsAdd_C=[]).length=16,($.VP8LPredictors_C=[]).length=16;var wl,_l,lo,$o,Vo,Ri,Wo,Di,Xr,ga,vr,Ar,Qr,wn,gs,bc,Nl,co,mu,jl,gu,kd,xc,Ii,Fi,Pd,wc,Od,Ld=i(511),Td=i(2041),Rd=i(225),Dd=i(767),Id=0,$s=Td,Sl=Rd,la=Dd,Za=Ld,vu=0,Ho=1,Mh=2,_c=3,Nc=4,Or=5,yu=6,El=7,Mi=8,jc=9,Sc=10,Ec=[2,3,7],bu=[3,3,11],zi=[280,256,256,256,40],zh=[0,1,1,1,0],$p=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Vp=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Bh=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],xu=8,Cl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Cc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Bi=null,Fd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Md=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Uh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],qh=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Wp=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Hp=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],zd=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ca=[],es=[],va=[],Vs=1,Al=2,ta=[],ya=[];ma("UpsampleRgbLinePair",Bo,3),ma("UpsampleBgrLinePair",Ai,3),ma("UpsampleRgbaLinePair",yc,4),ma("UpsampleBgraLinePair",vc,4),ma("UpsampleArgbLinePair",Pi,4),ma("UpsampleRgba4444LinePair",ki,2),ma("UpsampleRgb565LinePair",ea,2);var Gp=$.UpsampleRgbLinePair,Kp=$.UpsampleBgrLinePair,Go=$.UpsampleRgbaLinePair,kl=$.UpsampleBgraLinePair,Ui=$.UpsampleArgbLinePair,Ac=$.UpsampleRgba4444LinePair,Bd=$.UpsampleRgb565LinePair,uo=16,vs=1<<uo-1,Sr=-227,kr=482,Ko=6,Gn=0,ba=i(256),qi=i(256),Pl=i(256),xa=i(256),wu=i(kr-Sr),$h=i(kr-Sr);ps("YuvToRgbRow",Bo,3),ps("YuvToBgrRow",Ai,3),ps("YuvToRgbaRow",yc,4),ps("YuvToBgraRow",vc,4),ps("YuvToArgbRow",Pi,4),ps("YuvToRgba4444Row",ki,2),ps("YuvToRgb565Row",ea,2);var Ud=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],$i=[0,2,8],Vh=[8,7,6,4,4,2,2,2,1,1,1,1],ho=1;this.WebPDecodeRGBA=function(m,b,E,O,B){var K=Ho,X=new Ae,ee=new Qe;X.ba=ee,ee.S=K,ee.width=[ee.width],ee.height=[ee.height];var re=ee.width,ie=ee.height,je=new at;if(je==null||m==null)var Le=2;else e(je!=null),Le=Uo(m,b,E,je.width,je.height,je.Pd,je.Qd,je.format,null);if(Le!=0?re=0:(re!=null&&(re[0]=je.width[0]),ie!=null&&(ie[0]=je.height[0]),re=1),re){ee.width=ee.width[0],ee.height=ee.height[0],O!=null&&(O[0]=ee.width),B!=null&&(B[0]=ee.height);e:{if(O=new Qn,(B=new We).data=m,B.w=b,B.ha=E,B.kd=1,b=[0],e(B!=null),((m=Uo(B.data,B.w,B.ha,null,null,null,b,null,B))==0||m==7)&&b[0]&&(m=4),(b=m)==0){if(e(X!=null),O.data=B.data,O.w=B.w+B.offset,O.ha=B.ha-B.offset,O.put=yt,O.ac=dr,O.bc=fr,O.ma=X,B.xa){if((m=fi())==null){X=1;break e}if((function(ce,Ee){var Oe=[0],$e=[0],Re=[0];t:for(;;){if(ce==null)return 0;if(Ee==null)return ce.a=2,0;if(ce.l=Ee,ce.a=0,me(ce.m,Ee.data,Ee.w,Ee.ha),!yn(ce.m,Oe,$e,Re)){ce.a=3;break t}if(ce.xb=Al,Ee.width=Oe[0],Ee.height=$e[0],!cs(Oe[0],$e[0],1,ce,null))break t;return 1}return e(ce.a!=0),0})(m,O)){if(O=(b=so(O.width,O.height,X.Oa,X.ba))==0){t:{O=m;r:for(;;){if(O==null){O=0;break t}if(e(O.s.yc!=null),e(O.s.Ya!=null),e(0<O.s.Wb),e((E=O.l)!=null),e((B=E.ma)!=null),O.xb!=0){if(O.ca=B.ba,O.tb=B.tb,e(O.ca!=null),!bl(B.Oa,E,_c)){O.a=2;break r}if(!Io(O,E.width)||E.da)break r;if((E.da||pt(O.ca.S))&&Xa(),11>O.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),O.ca.f.kb.F!=null&&Xa()),O.Pb&&0<O.s.ua&&O.s.vb.X==null&&!de(O.s.vb,O.s.Wa.Xa)){O.a=1;break r}O.xb=0}if(!Va(O,O.V,O.Ba,O.c,O.i,E.o,Do))break r;B.Dc=O.Ma,O=1;break t}e(O.a!=0),O=0}O=!O}O&&(b=m.a)}else b=m.a}else{if((m=new Cd)==null){X=1;break e}if(m.Fa=B.na,m.P=B.P,m.qc=B.Sa,vi(m,O)){if((b=so(O.width,O.height,X.Oa,X.ba))==0){if(m.Aa=0,E=X.Oa,e((B=m)!=null),E!=null){if(0<(re=0>(re=E.Md)?0:100<re?255:255*re/100)){for(ie=je=0;4>ie;++ie)12>(Le=B.pb[ie]).lc&&(Le.ia=re*Vh[0>Le.lc?0:Le.lc]>>3),je|=Le.ia;je&&(alert("todo:VP8InitRandom"),B.ia=1)}B.Ga=E.Id,100<B.Ga?B.Ga=100:0>B.Ga&&(B.Ga=0)}(function(ce,Ee){if(ce==null)return 0;if(Ee==null)return bn(ce,2,"NULL VP8Io parameter in VP8Decode().");if(!ce.cb&&!vi(ce,Ee))return 0;if(e(ce.cb),Ee.ac==null||Ee.ac(Ee)){Ee.ob&&(ce.L=0);var Oe=$i[ce.L];if(ce.L==2?(ce.yb=0,ce.zb=0):(ce.yb=Ee.v-Oe>>4,ce.zb=Ee.j-Oe>>4,0>ce.yb&&(ce.yb=0),0>ce.zb&&(ce.zb=0)),ce.Va=Ee.o+15+Oe>>4,ce.Hb=Ee.va+15+Oe>>4,ce.Hb>ce.za&&(ce.Hb=ce.za),ce.Va>ce.Ub&&(ce.Va=ce.Ub),0<ce.L){var $e=ce.ed;for(Oe=0;4>Oe;++Oe){var Re;if(ce.Qa.Cb){var Ue=ce.Qa.Lb[Oe];ce.Qa.Fb||(Ue+=$e.Tb)}else Ue=$e.Tb;for(Re=0;1>=Re;++Re){var qe=ce.gd[Oe][Re],Ke=Ue;if($e.Pc&&(Ke+=$e.vd[0],Re&&(Ke+=$e.od[0])),0<(Ke=0>Ke?0:63<Ke?63:Ke)){var Ye=Ke;0<$e.wb&&(Ye=4<$e.wb?Ye>>2:Ye>>1)>9-$e.wb&&(Ye=9-$e.wb),1>Ye&&(Ye=1),qe.dd=Ye,qe.tc=2*Ke+Ye,qe.ld=40<=Ke?2:15<=Ke?1:0}else qe.tc=0;qe.La=Re}}}Oe=0}else bn(ce,6,"Frame setup failed"),Oe=ce.a;if(Oe=Oe==0){if(Oe){ce.$c=0,0<ce.Aa||(ce.Ic=ho);t:{Oe=ce.Ic,$e=4*(Ye=ce.za);var It=32*Ye,Nt=Ye+1,Zt=0<ce.L?Ye*(0<ce.Aa?2:1):0,At=(ce.Aa==2?2:1)*Ye;if((qe=$e+832+(Re=3*(16*Oe+$i[ce.L])/2*It)+(Ue=ce.Fa!=null&&0<ce.Fa.length?ce.Kc.c*ce.Kc.i:0))!=qe)Oe=0;else{if(qe>ce.Vb){if(ce.Vb=0,ce.Ec=i(qe),ce.Fc=0,ce.Ec==null){Oe=bn(ce,1,"no memory during frame initialization.");break t}ce.Vb=qe}qe=ce.Ec,Ke=ce.Fc,ce.Ac=qe,ce.Bc=Ke,Ke+=$e,ce.Gd=c(It,Ra),ce.Hd=0,ce.rb=c(Nt+1,Fo),ce.sb=1,ce.wa=Zt?c(Zt,Ta):null,ce.Y=0,ce.D.Nb=0,ce.D.wa=ce.wa,ce.D.Y=ce.Y,0<ce.Aa&&(ce.D.Y+=Ye),e(!0),ce.oc=qe,ce.pc=Ke,Ke+=832,ce.ya=c(At,hl),ce.aa=0,ce.D.ya=ce.ya,ce.D.aa=ce.aa,ce.Aa==2&&(ce.D.aa+=Ye),ce.R=16*Ye,ce.B=8*Ye,Ye=(It=$i[ce.L])*ce.R,It=It/2*ce.B,ce.sa=qe,ce.ta=Ke+Ye,ce.qa=ce.sa,ce.ra=ce.ta+16*Oe*ce.R+It,ce.Ha=ce.qa,ce.Ia=ce.ra+8*Oe*ce.B+It,ce.$c=0,Ke+=Re,ce.mb=Ue?qe:null,ce.nb=Ue?Ke:null,e(Ke+Ue<=ce.Fc+ce.Vb),us(ce),a(ce.Ac,ce.Bc,0,$e),Oe=1}}if(Oe){if(Ee.ka=0,Ee.y=ce.sa,Ee.O=ce.ta,Ee.f=ce.qa,Ee.N=ce.ra,Ee.ea=ce.Ha,Ee.Vd=ce.Ia,Ee.fa=ce.R,Ee.Rc=ce.B,Ee.F=null,Ee.J=0,!Id){for(Oe=-255;255>=Oe;++Oe)Ld[255+Oe]=0>Oe?-Oe:Oe;for(Oe=-1020;1020>=Oe;++Oe)Td[1020+Oe]=-128>Oe?-128:127<Oe?127:Oe;for(Oe=-112;112>=Oe;++Oe)Rd[112+Oe]=-16>Oe?-16:15<Oe?15:Oe;for(Oe=-255;510>=Oe;++Oe)Dd[255+Oe]=0>Oe?0:255<Oe?255:Oe;Id=1}Wo=pr,Di=uc,ga=xi,vr=Rs,Ar=fl,Xr=lu,Qr=gc,wn=Zn,gs=N,bc=U,Nl=Ja,co=yl,mu=he,jl=_e,gu=Ga,kd=ao,xc=Si,Ii=mc,es[0]=Ad,es[1]=pl,es[2]=wi,es[3]=Is,es[4]=du,es[5]=ro,es[6]=Da,es[7]=hu,es[8]=_i,es[9]=gl,ca[0]=ds,ca[1]=cu,ca[2]=uu,ca[3]=ml,ca[4]=Ds,ca[5]=pa,ca[6]=Ha,va[0]=fs,va[1]=dc,va[2]=hc,va[3]=hs,va[4]=fc,va[5]=vl,va[6]=pc,Oe=1}else Oe=0}Oe&&(Oe=(function(cr,Zr){for(cr.M=0;cr.M<cr.Va;++cr.M){var er,jt=cr.Jc[cr.M&cr.Xb],vt=cr.m,un=cr;for(er=0;er<un.za;++er){var Gt=vt,or=un,Mr=or.Ac,Bn=or.Bc+4*er,_n=or.zc,Kr=or.ya[or.aa+er];if(or.Qa.Bb?Kr.$b=ke(Gt,or.Pa.jb[0])?2+ke(Gt,or.Pa.jb[2]):ke(Gt,or.Pa.jb[1]):Kr.$b=0,or.kc&&(Kr.Ad=ke(Gt,or.Bd)),Kr.Za=!ke(Gt,145)+0,Kr.Za){var Pn=Kr.Ob,Un=0;for(or=0;4>or;++or){var $r,hr=_n[0+or];for($r=0;4>$r;++$r){hr=Wp[Mr[Bn+$r]][hr];for(var yr=Uh[ke(Gt,hr[0])];0<yr;)yr=Uh[2*yr+ke(Gt,hr[yr])];hr=-yr,Mr[Bn+$r]=hr}n(Pn,Un,Mr,Bn,4),Un+=4,_n[0+or]=hr}}else hr=ke(Gt,156)?ke(Gt,128)?1:3:ke(Gt,163)?2:0,Kr.Ob[0]=hr,a(Mr,Bn,hr,4),a(_n,0,hr,4);Kr.Dd=ke(Gt,142)?ke(Gt,114)?ke(Gt,183)?1:3:2:0}if(un.m.Ka)return bn(cr,7,"Premature end-of-partition0 encountered.");for(;cr.ja<cr.za;++cr.ja){if(un=jt,Gt=(vt=cr).rb[vt.sb-1],Mr=vt.rb[vt.sb+vt.ja],er=vt.ya[vt.aa+vt.ja],Bn=vt.kc?er.Ad:0)Gt.la=Mr.la=0,er.Za||(Gt.Na=Mr.Na=0),er.Hc=0,er.Gc=0,er.ia=0;else{var Vr,br;if(Gt=Mr,Mr=un,Bn=vt.Pa.Xc,_n=vt.ya[vt.aa+vt.ja],Kr=vt.pb[_n.$b],or=_n.ad,Pn=0,Un=vt.rb[vt.sb-1],hr=$r=0,a(or,Pn,0,384),_n.Za)var en=0,tn=Bn[3];else{yr=i(16);var Lr=Gt.Na+Un.Na;if(Lr=Bi(Mr,Bn[1],Lr,Kr.Eb,0,yr,0),Gt.Na=Un.Na=(0<Lr)+0,1<Lr)Wo(yr,0,or,Pn);else{var ra=yr[0]+3>>3;for(yr=0;256>yr;yr+=16)or[Pn+yr]=ra}en=1,tn=Bn[0]}var Pr=15&Gt.la,Tr=15&Un.la;for(yr=0;4>yr;++yr){var Nn=1&Tr;for(ra=br=0;4>ra;++ra)Pr=Pr>>1|(Nn=(Lr=Bi(Mr,tn,Lr=Nn+(1&Pr),Kr.Sc,en,or,Pn))>en)<<7,br=br<<2|(3<Lr?3:1<Lr?2:or[Pn+0]!=0),Pn+=16;Pr>>=4,Tr=Tr>>1|Nn<<7,$r=($r<<8|br)>>>0}for(tn=Pr,en=Tr>>4,Vr=0;4>Vr;Vr+=2){for(br=0,Pr=Gt.la>>4+Vr,Tr=Un.la>>4+Vr,yr=0;2>yr;++yr){for(Nn=1&Tr,ra=0;2>ra;++ra)Lr=Nn+(1&Pr),Pr=Pr>>1|(Nn=0<(Lr=Bi(Mr,Bn[2],Lr,Kr.Qc,0,or,Pn)))<<3,br=br<<2|(3<Lr?3:1<Lr?2:or[Pn+0]!=0),Pn+=16;Pr>>=2,Tr=Tr>>1|Nn<<5}hr|=br<<4*Vr,tn|=Pr<<4<<Vr,en|=(240&Tr)<<Vr}Gt.la=tn,Un.la=en,_n.Hc=$r,_n.Gc=hr,_n.ia=43690&hr?0:Kr.ia,Bn=!($r|hr)}if(0<vt.L&&(vt.wa[vt.Y+vt.ja]=vt.gd[er.$b][er.Za],vt.wa[vt.Y+vt.ja].La|=!Bn),un.Ka)return bn(cr,7,"Premature end-of-file encountered.")}if(us(cr),vt=Zr,un=1,er=(jt=cr).D,Gt=0<jt.L&&jt.M>=jt.zb&&jt.M<=jt.Va,jt.Aa==0)t:{if(er.M=jt.M,er.uc=Gt,Ia(jt,er),un=1,er=(br=jt.D).Nb,Gt=(hr=$i[jt.L])*jt.R,Mr=hr/2*jt.B,yr=16*er*jt.R,ra=8*er*jt.B,Bn=jt.sa,_n=jt.ta-Gt+yr,Kr=jt.qa,or=jt.ra-Mr+ra,Pn=jt.Ha,Un=jt.Ia-Mr+ra,Tr=(Pr=br.M)==0,$r=Pr>=jt.Va-1,jt.Aa==2&&Ia(jt,br),br.uc)for(Nn=(Lr=jt).D.M,e(Lr.D.uc),br=Lr.yb;br<Lr.Hb;++br){en=br,tn=Nn;var Kn=(wa=(fn=Lr).D).Nb;Vr=fn.R;var wa=wa.wa[wa.Y+en],dn=fn.sa,hn=fn.ta+16*Kn*Vr+16*en,na=wa.dd,Rr=wa.tc;if(Rr!=0)if(e(3<=Rr),fn.L==1)0<en&&kd(dn,hn,Vr,Rr+4),wa.La&&Ii(dn,hn,Vr,Rr),0<tn&&gu(dn,hn,Vr,Rr+4),wa.La&&xc(dn,hn,Vr,Rr);else{var aa=fn.B,ts=fn.qa,ys=fn.ra+8*Kn*aa+8*en,qn=fn.Ha,fn=fn.Ia+8*Kn*aa+8*en;Kn=wa.ld,0<en&&(wn(dn,hn,Vr,Rr+4,na,Kn),bc(ts,ys,qn,fn,aa,Rr+4,na,Kn)),wa.La&&(co(dn,hn,Vr,Rr,na,Kn),jl(ts,ys,qn,fn,aa,Rr,na,Kn)),0<tn&&(Qr(dn,hn,Vr,Rr+4,na,Kn),gs(ts,ys,qn,fn,aa,Rr+4,na,Kn)),wa.La&&(Nl(dn,hn,Vr,Rr,na,Kn),mu(ts,ys,qn,fn,aa,Rr,na,Kn))}}if(jt.ia&&alert("todo:DitherRow"),vt.put!=null){if(br=16*Pr,Pr=16*(Pr+1),Tr?(vt.y=jt.sa,vt.O=jt.ta+yr,vt.f=jt.qa,vt.N=jt.ra+ra,vt.ea=jt.Ha,vt.W=jt.Ia+ra):(br-=hr,vt.y=Bn,vt.O=_n,vt.f=Kr,vt.N=or,vt.ea=Pn,vt.W=Un),$r||(Pr-=hr),Pr>vt.o&&(Pr=vt.o),vt.F=null,vt.J=null,jt.Fa!=null&&0<jt.Fa.length&&br<Pr&&(vt.J=xn(jt,vt,br,Pr-br),vt.F=jt.mb,vt.F==null&&vt.F.length==0)){un=bn(jt,3,"Could not decode alpha data.");break t}br<vt.j&&(hr=vt.j-br,br=vt.j,e(!(1&hr)),vt.O+=jt.R*hr,vt.N+=jt.B*(hr>>1),vt.W+=jt.B*(hr>>1),vt.F!=null&&(vt.J+=vt.width*hr)),br<Pr&&(vt.O+=vt.v,vt.N+=vt.v>>1,vt.W+=vt.v>>1,vt.F!=null&&(vt.J+=vt.v),vt.ka=br-vt.j,vt.U=vt.va-vt.v,vt.T=Pr-br,un=vt.put(vt))}er+1!=jt.Ic||$r||(n(jt.sa,jt.ta-Gt,Bn,_n+16*jt.R,Gt),n(jt.qa,jt.ra-Mr,Kr,or+8*jt.B,Mr),n(jt.Ha,jt.Ia-Mr,Pn,Un+8*jt.B,Mr))}if(!un)return bn(cr,6,"Output aborted.")}return 1})(ce,Ee)),Ee.bc!=null&&Ee.bc(Ee),Oe&=1}return Oe?(ce.cb=0,Oe):0})(m,O)||(b=m.a)}}else b=m.a}b==0&&X.Oa!=null&&X.Oa.fd&&(b=xl(X.ba))}X=b}K=X!=0?null:11>K?ee.f.RGBA.eb:ee.f.kb.y}else K=null;return K};var kc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h($,G){for(var z="",F=0;F<4;F++)z+=String.fromCharCode($[G++]);return z}function p($,G){return $[G+0]|$[G+1]<<8}function g($,G){return($[G+0]|$[G+1]<<8|$[G+2]<<16)>>>0}function w($,G){return($[G+0]|$[G+1]<<8|$[G+2]<<16|$[G+3]<<24)>>>0}new d;var v=[0],S=[0],x=[],_=new d,C=t,L=(function($,G){var z={},F=0,P=!1,M=0,fe=0;if(z.frames=[],!(function(I,Y){for(var Z=0;Z<4;Z++)if(I[Y+Z]!="RIFF".charCodeAt(Z))return!0;return!1})($,G)){for(w($,G+=4),G+=8;G<$.length;){var ae=h($,G),se=w($,G+=4);G+=4;var q=se+(1&se);switch(ae){case"VP8 ":case"VP8L":z.frames[F]===void 0&&(z.frames[F]={}),(te=z.frames[F]).src_off=P?fe:G-8,te.src_size=M+se+8,F++,P&&(P=!1,M=0,fe=0);break;case"VP8X":(te=z.header={}).feature_flags=$[G];var me=G+4;te.canvas_width=1+g($,me),me+=3,te.canvas_height=1+g($,me),me+=3;break;case"ALPH":P=!0,M=q+8,fe=G-8;break;case"ANIM":(te=z.header).bgcolor=w($,G),me=G+4,te.loop_count=p($,me),me+=2;break;case"ANMF":var Ne,te;(te=z.frames[F]={}).offset_x=2*g($,G),G+=3,te.offset_y=2*g($,G),G+=3,te.width=1+g($,G),G+=3,te.height=1+g($,G),G+=3,te.duration=g($,G),G+=3,Ne=$[G++],te.dispose=1&Ne,te.blend=Ne>>1&1}ae!="ANMF"&&(G+=q)}return z}})(C,0);L.response=C,L.rgbaoutput=!0,L.dataurl=!1;var T=L.header?L.header:null,R=L.frames?L.frames:null;if(T){T.loop_counter=T.loop_count,v=[T.canvas_height],S=[T.canvas_width];for(var H=0;H<R.length&&R[H].blend!=0;H++);}var J=R[0],Q=_.WebPDecodeRGBA(C,J.src_off,J.src_size,S,v);J.rgba=Q,J.imgwidth=S[0],J.imgheight=v[0];for(var D=0;D<S[0]*v[0]*4;D++)x[D]=Q[D];return this.width=S,this.height=v,this.data=x,this}(function(t){var e,r,n,a,i,c,u,d,h,p=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new d,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new c,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new c,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new g(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,c=this.internal.Point,u=this.internal.Rectangle,d=this.internal.Matrix,h=new p}]);var g=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=I;Object.defineProperty(this,"pdf",{get:function(){return Y}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(Fe){Z=!!Fe}});var ue=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ue},set:function(Fe){ue=!!Fe}});var ge=0;Object.defineProperty(this,"posX",{get:function(){return ge},set:function(Fe){isNaN(Fe)||(ge=Fe)}});var le=0;Object.defineProperty(this,"posY",{get:function(){return le},set:function(Fe){isNaN(Fe)||(le=Fe)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(Fe){var de;typeof Fe=="number"?de=[Fe,Fe,Fe,Fe]:((de=new Array(4))[0]=Fe[0],de[1]=Fe.length>=2?Fe[1]:de[0],de[2]=Fe.length>=3?Fe[2]:de[0],de[3]=Fe.length>=4?Fe[3]:de[1]),h.margin=de}});var xe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return xe},set:function(Fe){xe=Fe}});var ye=0;Object.defineProperty(this,"lastBreak",{get:function(){return ye},set:function(Fe){ye=Fe}});var ke=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ke},set:function(Fe){ke=Fe}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(Fe){Fe instanceof p&&(h=Fe)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(Fe){h.path=Fe}});var De=[];Object.defineProperty(this,"ctxStack",{get:function(){return De},set:function(Fe){De=Fe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Fe){var de;de=w(Fe),this.ctx.fillStyle=de.style,this.ctx.isFillTransparent=de.a===0,this.ctx.fillOpacity=de.a,this.pdf.setFillColor(de.r,de.g,de.b,{a:de.a}),this.pdf.setTextColor(de.r,de.g,de.b,{a:de.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Fe){var de=w(Fe);this.ctx.strokeStyle=de.style,this.ctx.isStrokeTransparent=de.a===0,this.ctx.strokeOpacity=de.a,de.a===0?this.pdf.setDrawColor(255,255,255):(de.a,this.pdf.setDrawColor(de.r,de.g,de.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Fe){["butt","round","square"].indexOf(Fe)!==-1&&(this.ctx.lineCap=Fe,this.pdf.setLineCap(Fe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Fe){isNaN(Fe)||(this.ctx.lineWidth=Fe,this.pdf.setLineWidth(Fe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Fe){["bevel","round","miter"].indexOf(Fe)!==-1&&(this.ctx.lineJoin=Fe,this.pdf.setLineJoin(Fe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Fe){isNaN(Fe)||(this.ctx.miterLimit=Fe,this.pdf.setMiterLimit(Fe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Fe){this.ctx.textBaseline=Fe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Fe){["right","end","center","left","start"].indexOf(Fe)!==-1&&(this.ctx.textAlign=Fe)}});var He=null,tt=null;Object.defineProperty(this,"fontFaces",{get:function(){return tt},set:function(Fe){He=null,tt=Fe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Fe){var de;if(this.ctx.font=Fe,(de=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Fe))!==null){var zt=de[1];de[2];var wt=de[3],bt=de[4];de[5];var Ve=de[6],gt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(bt)[2];bt=Math.floor(gt==="px"?parseFloat(bt)*this.pdf.internal.scaleFactor:gt==="em"?parseFloat(bt)*this.pdf.getFontSize():parseFloat(bt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(bt);var we=(function(Xe){var Me,Ge,xt=[],lt=Xe.trim();if(lt==="")return wg;if(lt in zy)return[zy[lt]];for(;lt!=="";){switch(Ge=null,Me=(lt=Uy(lt)).charAt(0)){case'"':case"'":Ge=mT(lt.substring(1),Me);break;default:Ge=gT(lt)}if(Ge===null||(xt.push(Ge[0]),(lt=Uy(Ge[1]))!==""&&lt.charAt(0)!==","))return wg;lt=lt.replace(/^,/,"")}return xt})(Ve);if(this.fontFaces){var Je=(function(Xe,Me){if(He===null){var Ge=(function(xt){var lt=[];return Object.keys(xt).forEach(function(mt){xt[mt].forEach(function(St){var Ze=null;switch(St){case"bold":Ze={family:mt,weight:"bold"};break;case"italic":Ze={family:mt,style:"italic"};break;case"bolditalic":Ze={family:mt,weight:"bold",style:"italic"};break;case"":case"normal":Ze={family:mt}}Ze!==null&&(Ze.ref={name:mt,style:St},lt.push(Ze))})}),lt})(Xe.getFontList());He=(function(xt){for(var lt={},mt=0;mt<xt.length;++mt){var St=xg(xt[mt]),Ze=St.family,Bt=St.stretch,pt=St.style,ar=St.weight;lt[Ze]=lt[Ze]||{},lt[Ze][Bt]=lt[Ze][Bt]||{},lt[Ze][Bt][pt]=lt[Ze][Bt][pt]||{},lt[Ze][Bt][pt][ar]=St}return lt})(Ge.concat(Me))}return He})(this.pdf,this.fontFaces),V=we.map(function(Xe){return{family:Xe,stretch:"normal",weight:wt,style:zt}}),be=(function(Xe,Me,Ge){for(var xt=(Ge=Ge||{}).defaultFontFamily||"times",lt=Object.assign({},pT,Ge.genericFontFamilies||{}),mt=null,St=null,Ze=0;Ze<Me.length;++Ze)if(lt[(mt=xg(Me[Ze])).family]&&(mt.family=lt[mt.family]),Xe.hasOwnProperty(mt.family)){St=Xe[mt.family];break}if(!(St=St||Xe[xt]))throw new Error("Could not find a font-family for the rule '"+By(mt)+"' and default family '"+xt+"'.");if(St=(function(Bt,pt){if(pt[Bt])return pt[Bt];var ar=mv[Bt],nr=ar<=mv.normal?-1:1,Qe=My(pt,N_,ar,nr);if(!Qe)throw new Error("Could not find a matching font-stretch value for "+Bt);return Qe})(mt.stretch,St),St=(function(Bt,pt){if(pt[Bt])return pt[Bt];for(var ar=__[Bt],nr=0;nr<ar.length;++nr)if(pt[ar[nr]])return pt[ar[nr]];throw new Error("Could not find a matching font-style for "+Bt)})(mt.style,St),!(St=(function(Bt,pt){if(pt[Bt])return pt[Bt];if(Bt===400&&pt[500])return pt[500];if(Bt===500&&pt[400])return pt[400];var ar=fT[Bt],nr=My(pt,j_,ar,Bt<400?-1:1);if(!nr)throw new Error("Could not find a matching font-weight for value "+Bt);return nr})(mt.weight,St)))throw new Error("Failed to resolve a font for the rule '"+By(mt)+"'.");return St})(Je,V);this.pdf.setFont(be.ref.name,be.ref.style)}else{var oe="";(wt==="bold"||parseInt(wt,10)>=700||zt==="bold")&&(oe="bold"),zt==="italic"&&(oe+="italic"),oe.length===0&&(oe="normal");for(var Be="",ct={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ot=0;ot<we.length;ot++){if(this.pdf.internal.getFont(we[ot],oe,{noFallback:!0,disableWarning:!0})!==void 0){Be=we[ot];break}if(oe==="bolditalic"&&this.pdf.internal.getFont(we[ot],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Be=we[ot],oe="bold";else if(this.pdf.internal.getFont(we[ot],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Be=we[ot],oe="normal";break}}if(Be===""){for(var rt=0;rt<we.length;rt++)if(ct[we[rt]]){Be=ct[we[rt]];break}}Be=Be===""?"Times":Be,this.pdf.setFont(Be,oe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Fe){this.ctx.globalCompositeOperation=Fe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Fe){this.ctx.globalAlpha=Fe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Fe){this.ctx.lineDashOffset=Fe,te.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Fe){this.ctx.lineDash=Fe,te.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Fe){this.ctx.ignoreClearRect=!!Fe}})};g.prototype.setLineDash=function(I){this.lineDash=I},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){R.call(this,"fill",!1)},g.prototype.stroke=function(){R.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(I,Y){if(isNaN(I)||isNaN(Y))throw Ur.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new c(I,Y));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new c(I,Y)},g.prototype.closePath=function(){var I=new c(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&Ir(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){I=new c(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(I.x,I.y)},g.prototype.lineTo=function(I,Y){if(isNaN(I)||isNaN(Y))throw Ur.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new c(I,Y));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new c(Z.x,Z.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},g.prototype.quadraticCurveTo=function(I,Y,Z,ue){if(isNaN(Z)||isNaN(ue)||isNaN(I)||isNaN(Y))throw Ur.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ge=this.ctx.transform.applyToPoint(new c(Z,ue)),le=this.ctx.transform.applyToPoint(new c(I,Y));this.path.push({type:"qct",x1:le.x,y1:le.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new c(ge.x,ge.y)},g.prototype.bezierCurveTo=function(I,Y,Z,ue,ge,le){if(isNaN(ge)||isNaN(le)||isNaN(I)||isNaN(Y)||isNaN(Z)||isNaN(ue))throw Ur.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var xe=this.ctx.transform.applyToPoint(new c(ge,le)),ye=this.ctx.transform.applyToPoint(new c(I,Y)),ke=this.ctx.transform.applyToPoint(new c(Z,ue));this.path.push({type:"bct",x1:ye.x,y1:ye.y,x2:ke.x,y2:ke.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new c(xe.x,xe.y)},g.prototype.arc=function(I,Y,Z,ue,ge,le){if(isNaN(I)||isNaN(Y)||isNaN(Z)||isNaN(ue)||isNaN(ge))throw Ur.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(le=!!le,!this.ctx.transform.isIdentity){var xe=this.ctx.transform.applyToPoint(new c(I,Y));I=xe.x,Y=xe.y;var ye=this.ctx.transform.applyToPoint(new c(0,Z)),ke=this.ctx.transform.applyToPoint(new c(0,0));Z=Math.sqrt(Math.pow(ye.x-ke.x,2)+Math.pow(ye.y-ke.y,2))}Math.abs(ge-ue)>=2*Math.PI&&(ue=0,ge=2*Math.PI),this.path.push({type:"arc",x:I,y:Y,radius:Z,startAngle:ue,endAngle:ge,counterclockwise:le})},g.prototype.arcTo=function(I,Y,Z,ue,ge){throw new Error("arcTo not implemented.")},g.prototype.rect=function(I,Y,Z,ue){if(isNaN(I)||isNaN(Y)||isNaN(Z)||isNaN(ue))throw Ur.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,Y),this.lineTo(I+Z,Y),this.lineTo(I+Z,Y+ue),this.lineTo(I,Y+ue),this.lineTo(I,Y),this.lineTo(I+Z,Y),this.lineTo(I,Y)},g.prototype.fillRect=function(I,Y,Z,ue){if(isNaN(I)||isNaN(Y)||isNaN(Z)||isNaN(ue))throw Ur.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!v.call(this)){var ge={};this.lineCap!=="butt"&&(ge.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ge.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,Y,Z,ue),this.fill(),ge.hasOwnProperty("lineCap")&&(this.lineCap=ge.lineCap),ge.hasOwnProperty("lineJoin")&&(this.lineJoin=ge.lineJoin)}},g.prototype.strokeRect=function(I,Y,Z,ue){if(isNaN(I)||isNaN(Y)||isNaN(Z)||isNaN(ue))throw Ur.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(I,Y,Z,ue),this.stroke())},g.prototype.clearRect=function(I,Y,Z,ue){if(isNaN(I)||isNaN(Y)||isNaN(Z)||isNaN(ue))throw Ur.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,Y,Z,ue))},g.prototype.save=function(I){I=typeof I!="boolean"||I;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var ue=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ue}},g.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(I){var Y,Z,ue,ge;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))Y=0,Z=0,ue=0,ge=0;else{var le=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(le!==null)Y=parseInt(le[1]),Z=parseInt(le[2]),ue=parseInt(le[3]),ge=1;else if((le=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)Y=parseInt(le[1]),Z=parseInt(le[2]),ue=parseInt(le[3]),ge=parseFloat(le[4]);else{if(ge=1,typeof I=="string"&&I.charAt(0)!=="#"){var xe=new m_(I);I=xe.ok?xe.toHex():"#000000"}I.length===4?(Y=I.substring(1,2),Y+=Y,Z=I.substring(2,3),Z+=Z,ue=I.substring(3,4),ue+=ue):(Y=I.substring(1,3),Z=I.substring(3,5),ue=I.substring(5,7)),Y=parseInt(Y,16),Z=parseInt(Z,16),ue=parseInt(ue,16)}}return{r:Y,g:Z,b:ue,a:ge,style:I}},v=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(I,Y,Z,ue){if(isNaN(Y)||isNaN(Z)||typeof I!="string")throw Ur.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ue=isNaN(ue)?void 0:ue,!v.call(this)){var ge=q(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;F.call(this,{text:I,x:Y,y:Z,scale:le,angle:ge,align:this.textAlign,maxWidth:ue})}},g.prototype.strokeText=function(I,Y,Z,ue){if(isNaN(Y)||isNaN(Z)||typeof I!="string")throw Ur.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){ue=isNaN(ue)?void 0:ue;var ge=q(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;F.call(this,{text:I,x:Y,y:Z,scale:le,renderingMode:"stroke",angle:ge,align:this.textAlign,maxWidth:ue})}},g.prototype.measureText=function(I){if(typeof I!="string")throw Ur.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,Z=this.pdf.internal.scaleFactor,ue=Y.internal.getFontSize(),ge=Y.getStringUnitWidth(I)*ue/Y.internal.scaleFactor;return new function(le){var xe=(le=le||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return xe}}),this}({width:ge*=Math.round(96*Z/72*1e4)/1e4})},g.prototype.scale=function(I,Y){if(isNaN(I)||isNaN(Y))throw Ur.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new d(I,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},g.prototype.rotate=function(I){if(isNaN(I))throw Ur.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new d(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},g.prototype.translate=function(I,Y){if(isNaN(I)||isNaN(Y))throw Ur.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new d(1,0,0,1,I,Y);this.ctx.transform=this.ctx.transform.multiply(Z)},g.prototype.transform=function(I,Y,Z,ue,ge,le){if(isNaN(I)||isNaN(Y)||isNaN(Z)||isNaN(ue)||isNaN(ge)||isNaN(le))throw Ur.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var xe=new d(I,Y,Z,ue,ge,le);this.ctx.transform=this.ctx.transform.multiply(xe)},g.prototype.setTransform=function(I,Y,Z,ue,ge,le){I=isNaN(I)?1:I,Y=isNaN(Y)?0:Y,Z=isNaN(Z)?0:Z,ue=isNaN(ue)?1:ue,ge=isNaN(ge)?0:ge,le=isNaN(le)?0:le,this.ctx.transform=new d(I,Y,Z,ue,ge,le)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(I,Y,Z,ue,ge,le,xe,ye,ke){var De=this.pdf.getImageProperties(I),He=1,tt=1,Fe=1,de=1;ue!==void 0&&ye!==void 0&&(Fe=ye/ue,de=ke/ge,He=De.width/ue*ye/ue,tt=De.height/ge*ke/ge),le===void 0&&(le=Y,xe=Z,Y=0,Z=0),ue!==void 0&&ye===void 0&&(ye=ue,ke=ge),ue===void 0&&ye===void 0&&(ye=De.width,ke=De.height);for(var zt,wt=this.ctx.transform.decompose(),bt=q(wt.rotate.shx),Ve=new d,gt=(Ve=(Ve=(Ve=Ve.multiply(wt.translate)).multiply(wt.skew)).multiply(wt.scale)).applyToRectangle(new u(le-Y*Fe,xe-Z*de,ue*He,ge*tt)),we=_.call(this,gt),Je=[],V=0;V<we.length;V+=1)Je.indexOf(we[V])===-1&&Je.push(we[V]);if(T(Je),this.autoPaging)for(var be=Je[0],oe=Je[Je.length-1],Be=be;Be<oe+1;Be++){this.pdf.setPage(Be);var ct=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ot=Be===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Me=Be===1?0:rt+(Be-2)*Xe;if(this.ctx.clip_path.length!==0){var Ge=this.path;zt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(zt,this.posX+this.margin[3],-Me+ot+this.ctx.prevPageLastElemOffset),H.call(this,"fill",!0),this.path=Ge}var xt=JSON.parse(JSON.stringify(gt));xt=L([xt],this.posX+this.margin[3],-Me+ot+this.ctx.prevPageLastElemOffset)[0];var lt=(Be>be||Be<oe)&&x.call(this);lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,Xe,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",xt.x,xt.y,xt.w,xt.h,null,null,bt),lt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(I,"JPEG",gt.x,gt.y,gt.w,gt.h,null,null,bt)};var _=function(I,Y,Z){var ue=[];Y=Y||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ge=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":ue.push(Math.floor((I.y+ge)/Z)+1);break;case"arc":ue.push(Math.floor((I.y+ge-I.radius)/Z)+1),ue.push(Math.floor((I.y+ge+I.radius)/Z)+1);break;case"qct":var le=me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);ue.push(Math.floor((le.y+ge)/Z)+1),ue.push(Math.floor((le.y+le.h+ge)/Z)+1);break;case"bct":var xe=Ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);ue.push(Math.floor((xe.y+ge)/Z)+1),ue.push(Math.floor((xe.y+xe.h+ge)/Z)+1);break;case"rect":ue.push(Math.floor((I.y+ge)/Z)+1),ue.push(Math.floor((I.y+I.h+ge)/Z)+1)}for(var ye=0;ye<ue.length;ye+=1)for(;this.pdf.internal.getNumberOfPages()<ue[ye];)C.call(this);return ue},C=function(){var I=this.fillStyle,Y=this.strokeStyle,Z=this.font,ue=this.lineCap,ge=this.lineWidth,le=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=Y,this.font=Z,this.lineCap=ue,this.lineWidth=ge,this.lineJoin=le},L=function(I,Y,Z){for(var ue=0;ue<I.length;ue++)switch(I[ue].type){case"bct":I[ue].x2+=Y,I[ue].y2+=Z;case"qct":I[ue].x1+=Y,I[ue].y1+=Z;default:I[ue].x+=Y,I[ue].y+=Z}return I},T=function(I){return I.sort(function(Y,Z){return Y-Z})},R=function(I,Y){for(var Z,ue,ge=this.fillStyle,le=this.strokeStyle,xe=this.lineCap,ye=this.lineWidth,ke=Math.abs(ye*this.ctx.transform.scaleX),De=this.lineJoin,He=JSON.parse(JSON.stringify(this.path)),tt=JSON.parse(JSON.stringify(this.path)),Fe=[],de=0;de<tt.length;de++)if(tt[de].x!==void 0)for(var zt=_.call(this,tt[de]),wt=0;wt<zt.length;wt+=1)Fe.indexOf(zt[wt])===-1&&Fe.push(zt[wt]);for(var bt=0;bt<Fe.length;bt++)for(;this.pdf.internal.getNumberOfPages()<Fe[bt];)C.call(this);if(T(Fe),this.autoPaging)for(var Ve=Fe[0],gt=Fe[Fe.length-1],we=Ve;we<gt+1;we++){this.pdf.setPage(we),this.fillStyle=ge,this.strokeStyle=le,this.lineCap=xe,this.lineWidth=ke,this.lineJoin=De;var Je=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],V=we===1?this.posY+this.margin[0]:this.margin[0],be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],oe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Be=we===1?0:be+(we-2)*oe;if(this.ctx.clip_path.length!==0){var ct=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(Z,this.posX+this.margin[3],-Be+V+this.ctx.prevPageLastElemOffset),H.call(this,I,!0),this.path=ct}if(ue=JSON.parse(JSON.stringify(He)),this.path=L(ue,this.posX+this.margin[3],-Be+V+this.ctx.prevPageLastElemOffset),Y===!1||we===0){var ot=(we>Ve||we<gt)&&x.call(this);ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Je,oe,null).clip().discardPath()),H.call(this,I,Y),ot&&this.pdf.restoreGraphicsState()}this.lineWidth=ye}else this.lineWidth=ke,H.call(this,I,Y),this.lineWidth=ye;this.path=He},H=function(I,Y){if((I!=="stroke"||Y||!S.call(this))&&(I==="stroke"||Y||!v.call(this))){for(var Z,ue,ge=[],le=this.path,xe=0;xe<le.length;xe++){var ye=le[xe];switch(ye.type){case"begin":ge.push({begin:!0});break;case"close":ge.push({close:!0});break;case"mt":ge.push({start:ye,deltas:[],abs:[]});break;case"lt":var ke=ge.length;if(le[xe-1]&&!isNaN(le[xe-1].x)&&(Z=[ye.x-le[xe-1].x,ye.y-le[xe-1].y],ke>0)){for(;ke>=0;ke--)if(ge[ke-1].close!==!0&&ge[ke-1].begin!==!0){ge[ke-1].deltas.push(Z),ge[ke-1].abs.push(ye);break}}break;case"bct":Z=[ye.x1-le[xe-1].x,ye.y1-le[xe-1].y,ye.x2-le[xe-1].x,ye.y2-le[xe-1].y,ye.x-le[xe-1].x,ye.y-le[xe-1].y],ge[ge.length-1].deltas.push(Z);break;case"qct":var De=le[xe-1].x+2/3*(ye.x1-le[xe-1].x),He=le[xe-1].y+2/3*(ye.y1-le[xe-1].y),tt=ye.x+2/3*(ye.x1-ye.x),Fe=ye.y+2/3*(ye.y1-ye.y),de=ye.x,zt=ye.y;Z=[De-le[xe-1].x,He-le[xe-1].y,tt-le[xe-1].x,Fe-le[xe-1].y,de-le[xe-1].x,zt-le[xe-1].y],ge[ge.length-1].deltas.push(Z);break;case"arc":ge.push({deltas:[],abs:[],arc:!0}),Array.isArray(ge[ge.length-1].abs)&&ge[ge.length-1].abs.push(ye)}}ue=Y?null:I==="stroke"?"stroke":"fill";for(var wt=!1,bt=0;bt<ge.length;bt++)if(ge[bt].arc)for(var Ve=ge[bt].abs,gt=0;gt<Ve.length;gt++){var we=Ve[gt];we.type==="arc"?D.call(this,we.x,we.y,we.radius,we.startAngle,we.endAngle,we.counterclockwise,void 0,Y,!wt):P.call(this,we.x,we.y),wt=!0}else if(ge[bt].close===!0)this.pdf.internal.out("h"),wt=!1;else if(ge[bt].begin!==!0){var Je=ge[bt].start.x,V=ge[bt].start.y;M.call(this,ge[bt].deltas,Je,V),wt=!0}ue&&$.call(this,ue),Y&&G.call(this)}},J=function(I){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-Z;case"top":return I+Y-Z;case"hanging":return I+Y-2*Z;case"middle":return I+Y/2-Z;default:return I}},Q=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(Y,Z){this.colorStops.push([Y,Z])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(I,Y,Z,ue,ge,le,xe,ye,ke){for(var De=ae.call(this,Z,ue,ge,le),He=0;He<De.length;He++){var tt=De[He];He===0&&(ke?z.call(this,tt.x1+I,tt.y1+Y):P.call(this,tt.x1+I,tt.y1+Y)),fe.call(this,I,Y,tt.x2,tt.y2,tt.x3,tt.y3,tt.x4,tt.y4)}ye?G.call(this):$.call(this,xe)},$=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},z=function(I,Y){this.pdf.internal.out(r(I)+" "+n(Y)+" m")},F=function(I){var Y;switch(I.align){case"right":case"end":Y="right";break;case"center":Y="center";break;default:Y="left"}var Z=this.pdf.getTextDimensions(I.text),ue=J.call(this,I.y),ge=Q.call(this,ue)-Z.h,le=this.ctx.transform.applyToPoint(new c(I.x,ue)),xe=this.ctx.transform.decompose(),ye=new d;ye=(ye=(ye=ye.multiply(xe.translate)).multiply(xe.skew)).multiply(xe.scale);for(var ke,De,He,tt=this.ctx.transform.applyToRectangle(new u(I.x,ue,Z.w,Z.h)),Fe=ye.applyToRectangle(new u(I.x,ge,Z.w,Z.h)),de=_.call(this,Fe),zt=[],wt=0;wt<de.length;wt+=1)zt.indexOf(de[wt])===-1&&zt.push(de[wt]);if(T(zt),this.autoPaging)for(var bt=zt[0],Ve=zt[zt.length-1],gt=bt;gt<Ve+1;gt++){this.pdf.setPage(gt);var we=gt===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],V=this.pdf.internal.pageSize.height-this.margin[2],be=V-this.margin[0],oe=this.pdf.internal.pageSize.width-this.margin[1],Be=oe-this.margin[3],ct=gt===1?0:Je+(gt-2)*be;if(this.ctx.clip_path.length!==0){var ot=this.path;ke=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(ke,this.posX+this.margin[3],-1*ct+we),H.call(this,"fill",!0),this.path=ot}var rt=L([JSON.parse(JSON.stringify(Fe))],this.posX+this.margin[3],-ct+we+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*I.scale),He=this.lineWidth,this.lineWidth=He*I.scale);var Xe=this.autoPaging!=="text";if(Xe||rt.y+rt.h<=V){if(Xe||rt.y>=we&&rt.x<=oe){var Me=Xe?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||oe-rt.x)[0],Ge=L([JSON.parse(JSON.stringify(tt))],this.posX+this.margin[3],-ct+we+this.ctx.prevPageLastElemOffset)[0],xt=Xe&&(gt>bt||gt<Ve)&&x.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Be,be,null).clip().discardPath()),this.pdf.text(Me,Ge.x,Ge.y,{angle:I.angle,align:Y,renderingMode:I.renderingMode}),xt&&this.pdf.restoreGraphicsState()}}else rt.y<V&&(this.ctx.prevPageLastElemOffset+=V-rt.y);I.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=He)}else I.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*I.scale),He=this.lineWidth,this.lineWidth=He*I.scale),this.pdf.text(I.text,le.x+this.posX,le.y+this.posY,{angle:I.angle,align:Y,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=He)},P=function(I,Y,Z,ue){Z=Z||0,ue=ue||0,this.pdf.internal.out(r(I+Z)+" "+n(Y+ue)+" l")},M=function(I,Y,Z){return this.pdf.lines(I,Y,Z,null,null)},fe=function(I,Y,Z,ue,ge,le,xe,ye){this.pdf.internal.out([e(a(Z+I)),e(i(ue+Y)),e(a(ge+I)),e(i(le+Y)),e(a(xe+I)),e(i(ye+Y)),"c"].join(" "))},ae=function(I,Y,Z,ue){for(var ge=2*Math.PI,le=Math.PI/2;Y>Z;)Y-=ge;var xe=Math.abs(Z-Y);xe<ge&&ue&&(xe=ge-xe);for(var ye=[],ke=ue?-1:1,De=Y;xe>1e-5;){var He=De+ke*Math.min(xe,le);ye.push(se.call(this,I,De,He)),xe-=Math.abs(He-De),De=He}return ye},se=function(I,Y,Z){var ue=(Z-Y)/2,ge=I*Math.cos(ue),le=I*Math.sin(ue),xe=ge,ye=-le,ke=xe*xe+ye*ye,De=ke+xe*ge+ye*le,He=4/3*(Math.sqrt(2*ke*De)-De)/(xe*le-ye*ge),tt=xe-He*ye,Fe=ye+He*xe,de=tt,zt=-Fe,wt=ue+Y,bt=Math.cos(wt),Ve=Math.sin(wt);return{x1:I*Math.cos(Y),y1:I*Math.sin(Y),x2:tt*bt-Fe*Ve,y2:tt*Ve+Fe*bt,x3:de*bt-zt*Ve,y3:de*Ve+zt*bt,x4:I*Math.cos(Z),y4:I*Math.sin(Z)}},q=function(I){return 180*I/Math.PI},me=function(I,Y,Z,ue,ge,le){var xe=I+.5*(Z-I),ye=Y+.5*(ue-Y),ke=ge+.5*(Z-ge),De=le+.5*(ue-le),He=Math.min(I,ge,xe,ke),tt=Math.max(I,ge,xe,ke),Fe=Math.min(Y,le,ye,De),de=Math.max(Y,le,ye,De);return new u(He,Fe,tt-He,de-Fe)},Ne=function(I,Y,Z,ue,ge,le,xe,ye){var ke,De,He,tt,Fe,de,zt,wt,bt,Ve,gt,we,Je,V,be=Z-I,oe=ue-Y,Be=ge-Z,ct=le-ue,ot=xe-ge,rt=ye-le;for(De=0;De<41;De++)bt=(zt=(He=I+(ke=De/40)*be)+ke*((Fe=Z+ke*Be)-He))+ke*(Fe+ke*(ge+ke*ot-Fe)-zt),Ve=(wt=(tt=Y+ke*oe)+ke*((de=ue+ke*ct)-tt))+ke*(de+ke*(le+ke*rt-de)-wt),De==0?(gt=bt,we=Ve,Je=bt,V=Ve):(gt=Math.min(gt,bt),we=Math.min(we,Ve),Je=Math.max(Je,bt),V=Math.max(V,Ve));return new u(Math.round(gt),Math.round(we),Math.round(Je-gt),Math.round(V-we))},te=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,Y,Z=(I=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:Y}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(Ft.API),(function(t){var e=function(c){var u,d,h,p,g,w,v,S,x,_;for(d=[],h=0,p=(c+=u="\0\0\0\0".slice(c.length%4||4)).length;p>h;h+=4)(g=(c.charCodeAt(h)<<24)+(c.charCodeAt(h+1)<<16)+(c.charCodeAt(h+2)<<8)+c.charCodeAt(h+3))!==0?(w=(g=((g=((g=((g=(g-(_=g%85))/85)-(x=g%85))/85)-(S=g%85))/85)-(v=g%85))/85)%85,d.push(w+33,v+33,S+33,x+33,_+33)):d.push(122);return(function(C,L){for(var T=L;T>0;T--)C.pop()})(d,u.length),String.fromCharCode.apply(String,d)+"~>"},r=function(c){var u,d,h,p,g,w=String,v="length",S=255,x="charCodeAt",_="slice",C="replace";for(c[_](-2),c=c[_](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),h=[],p=0,g=(c+=u="uuuuu"[_](c[v]%5||5))[v];g>p;p+=5)d=52200625*(c[x](p)-33)+614125*(c[x](p+1)-33)+7225*(c[x](p+2)-33)+85*(c[x](p+3)-33)+(c[x](p+4)-33),h.push(S&d>>24,S&d>>16,S&d>>8,S&d);return(function(L,T){for(var R=T;R>0;R--)L.pop()})(h,u[v]),w.fromCharCode.apply(w,h)},n=function(c){return c.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(c){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),u.test(c)===!1)return"";for(var d="",h=0;h<c.length;h+=2)d+=String.fromCharCode("0x"+(c[h]+c[h+1]));return d},i=function(c){for(var u=new Uint8Array(c.length),d=c.length;d--;)u[d]=c.charCodeAt(d);return(u=lv(u)).reduce(function(h,p){return h+String.fromCharCode(p)},"")};t.processDataByFilters=function(c,u){var d=0,h=c||"",p=[];for(typeof(u=u||[])=="string"&&(u=[u]),d=0;d<u.length;d+=1)switch(u[d]){case"ASCII85Decode":case"/ASCII85Decode":h=r(h),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=a(h),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=n(h),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=i(h),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[d]+'" is not implemented')}return{data:h,reverseChain:p.reverse().join(" ")}}})(Ft.API),(function(t){t.loadFile=function(e,r,n){return(function(a,i,c){i=i!==!1,c=typeof c=="function"?c:function(){};var u=void 0;try{u=(function(d,h,p){var g=new XMLHttpRequest,w=0,v=function(S){var x=S.length,_=[],C=String.fromCharCode;for(w=0;w<x;w+=1)_.push(C(255&S.charCodeAt(w)));return _.join("")};if(g.open("GET",d,!h),g.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(g.onload=function(){g.status===200?p(v(this.responseText)):p(void 0)}),g.send(null),h&&g.status===200)return v(g.responseText)})(a,i,c)}catch{}return u})(e,r,n)},t.loadImageFile=t.loadFile})(Ft.API),(function(t){function e(){return(Qt.html2canvas?Promise.resolve(Qt.html2canvas):oi(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function r(){return(Qt.DOMPurify?Promise.resolve(Qt.DOMPurify):oi(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var n=function(u){var d=Ir(u);return d==="undefined"?"undefined":d==="string"||u instanceof String?"string":d==="number"||u instanceof Number?"number":d==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":d==="object"?"object":"unknown"},a=function(u,d){var h=document.createElement(u);for(var p in d.className&&(h.className=d.className),d.innerHTML&&d.dompurify&&(h.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)h.style[p]=d.style[p];return h},i=function u(d,h){for(var p=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),g=d.firstChild;g;g=g.nextSibling)h!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||p.appendChild(u(g,h));return d.nodeType===1&&(d.nodeName==="CANVAS"?(p.width=d.width,p.height=d.height,p.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(p.value=d.value),p.addEventListener("load",function(){p.scrollTop=d.scrollTop,p.scrollLeft=d.scrollLeft},!0)),p},c=function u(d){var h=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),p=u.convert(Promise.resolve(),h);return(p=p.setProgress(1,u,1,[u])).set(d)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(u,d){return u.__proto__=d||c.prototype,u},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(u,d){return this.then(function(){switch(d=d||(function(h){switch(n(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(u),d){case"string":return this.then(r).then(function(h){return this.set({src:a("div",{innerHTML:u,dompurify:h})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},c.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(d){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,d(this.prop.container,h)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(d){var h=this.opt.jsPDF,p=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,w=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete w.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=p,p)for(var v=0;v<p.length;++v){var S=p[v],x=S.src.find(function(_){return _.format==="truetype"});x&&h.addFont(x.url,S.ref.name,S.ref.style)}return w.windowHeight=w.windowHeight||0,w.windowHeight=w.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):w.windowHeight,h.context2d.save(!0),d(this.prop.container,w)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(u,d,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(u,d):this.outputPdf(u,d)},c.prototype.outputPdf=function(u,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,d)})},c.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},c.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(u){if(n(u)!=="object")return this;var d=Object.keys(u||{}).map(function(h){if(h in c.template.prop)return function(){this.prop[h]=u[h]};switch(h){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[h]=u[h]}}},this);return this.then(function(){return this.thenList(d)})},c.prototype.get=function(u,d){return this.then(function(){var h=u in c.template.prop?this.prop[u]:this.opt[u];return d?d(h):h})},c.prototype.setMargin=function(u){return this.then(function(){switch(n(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},c.prototype.setPageSize=function(u){function d(h,p){return Math.floor(h*p/72*96)}return this.then(function(){(u=u||Ft.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:d(u.inner.width,u.k),height:d(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},c.prototype.setProgress=function(u,d,h,p){return u!=null&&(this.progress.val=u),d!=null&&(this.progress.state=d),h!=null&&(this.progress.n=h),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(u,d,h,p){return this.setProgress(u?this.progress.val+u:null,d||null,h?this.progress.n+h:null,p?this.progress.stack.concat(p):null)},c.prototype.then=function(u,d){var h=this;return this.thenCore(u,d,function(p,g){return h.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(w){return h.updateProgress(null,p),w}).then(p,g).then(function(w){return h.updateProgress(1),w})})},c.prototype.thenCore=function(u,d,h){h=h||Promise.prototype.then;var p=this;u&&(u=u.bind(p)),d&&(d=d.bind(p));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:c.convert(Object.assign({},p),Promise.prototype),w=h.call(g,u,d);return c.convert(w,p.__proto__)},c.prototype.thenExternal=function(u,d){return Promise.prototype.then.call(this,u,d)},c.prototype.thenList=function(u){var d=this;return u.forEach(function(h){d=d.thenCore(h)}),d},c.prototype.catch=function(u){u&&(u=u.bind(this));var d=Promise.prototype.catch.call(this,u);return c.convert(d,this)},c.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},c.prototype.error=function(u){return this.then(function(){throw new Error(u)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,Ft.getPageSize=function(u,d,h){if(Ir(u)==="object"){var p=u;u=p.orientation,d=p.unit||d,h=p.format||h}d=d||"mm",h=h||"a4",u=(""+(u||"P")).toLowerCase();var g,w=(""+h).toLowerCase(),v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+d}var S,x=0,_=0;if(v.hasOwnProperty(w))x=v[w][1]/g,_=v[w][0]/g;else try{x=h[1],_=h[0]}catch{throw new Error("Invalid format: "+h)}if(u==="p"||u==="portrait")u="p",_>x&&(S=_,_=x,x=S);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",x>_&&(S=_,_=x,x=S)}return{width:_,height:x,unit:d,k:g,orientation:u}},t.html=function(u,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(xg):null;var h=new c(d);return d.worker?h:h.from(u).doCallback()}})(Ft.API),Ft.API.addJS=function(t){return $y=t,this.internal.events.subscribe("postPutResources",function(){Hf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Hf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),qy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+$y+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Hf!==void 0&&qy!==void 0&&this.internal.out("/Names <</JavaScript "+Hf+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var c=a[i],u=n.exec(c);if(u!=null){var d=u[1];r.internal.newObjectDeferredBegin(d,!1)}r.internal.write(c)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,p=[];for(i=0;i<h;i++){var g=r.internal.newObject();p.push(g);var w=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var v=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<p.length;i++)r.internal.write("(page_"+(i+1)+")"+p[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+v+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var c={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(c),c},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var c=n.children[i];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var u=this.count=this.count_r({count:0},c);if(u>0&&this.line("/Count "+u),c.options&&c.options.pageNumber){var d=r.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var h=0;h<n.children.length;h++)this.renderItems(n.children[h])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])})(Ft.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,i,c,u){var d,h=this.decode.DCT_DECODE,p=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=c||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,d=(function(g){for(var w,v=256*g.charCodeAt(4)+g.charCodeAt(5),S=g.length,x={width:0,height:0,numcomponents:1},_=4;_<S;_+=2){if(_+=v,e.indexOf(g.charCodeAt(_+1))!==-1){w=256*g.charCodeAt(_+5)+g.charCodeAt(_+6),x={width:256*g.charCodeAt(_+7)+g.charCodeAt(_+8),height:w,numcomponents:g.charCodeAt(_+9)};break}v=256*g.charCodeAt(_+2)+g.charCodeAt(_+3)}return x})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),d.numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}p={data:r,width:d.width,height:d.height,colorSpace:u,bitsPerComponent:8,filter:h,index:n,alias:a}}return p}})(Ft.API),Ft.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var a,i=ZL(t,{checkCrc:!0}),c=i.width,u=i.height,d=i.channels,h=i.palette,p=i.depth;a=h&&d===1?(function(D){for(var $=D.width,G=D.height,z=D.data,F=D.palette,P=D.depth,M=!1,fe=[],ae=[],se=void 0,q=!1,me=0,Ne=0;Ne<F.length;Ne++){var te=G2(F[Ne],4),I=te[0],Y=te[1],Z=te[2],ue=te[3];fe.push(I,Y,Z),ue!=null&&(ue===0?(me++,ae.length<1&&ae.push(Ne)):ue<255&&(q=!0))}if(q||me>1){M=!0,ae=void 0;var ge=$*G;se=new Uint8Array(ge);for(var le=new DataView(z.buffer),xe=0;xe<ge;xe++){var ye=_g(le,xe,P),ke=G2(F[ye],4)[3];se[xe]=ke}}else me===0&&(ae=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:M?8:void 0,colorBytes:z,alphaBytes:se,needSMask:M,palette:fe,mask:ae}})(i):d===2||d===4?(function(D){for(var $=D.data,G=D.width,z=D.height,F=D.channels,P=D.depth,M=F===2?"DeviceGray":"DeviceRGB",fe=F-1,ae=G*z,se=fe,q=ae*se,me=1*ae,Ne=Math.ceil(q*P/8),te=Math.ceil(me*P/8),I=new Uint8Array(Ne),Y=new Uint8Array(te),Z=new DataView($.buffer),ue=new DataView(I.buffer),ge=new DataView(Y.buffer),le=!1,xe=0;xe<ae;xe++){for(var ye=xe*F,ke=0;ke<se;ke++)Qy(ue,_g(Z,ye+ke,P),xe*se+ke,P);var De=_g(Z,ye+se,P);De<(1<<P)-1&&(le=!0),Qy(ge,De,1*xe,P)}return{colorSpace:M,colorsPerPixel:fe,sMaskBitsPerComponent:le?P:void 0,colorBytes:I,alphaBytes:Y,needSMask:le}})(i):(function(D){var $=D.data,G=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:G,colorsPerPixel:G==="DeviceGray"?1:3,colorBytes:$ instanceof Uint16Array?(function(z){for(var F=z.length,P=new Uint8Array(2*F),M=new DataView(P.buffer,P.byteOffset,P.byteLength),fe=0;fe<F;fe++)M.setUint16(2*fe,z[fe],!1);return P})($):$,needSMask:!1}})(i);var g,w,v,S=a,x=S.colorSpace,_=S.colorsPerPixel,C=S.sMaskBitsPerComponent,L=S.colorBytes,T=S.alphaBytes,R=S.needSMask,H=S.palette,J=S.mask,Q=null;return n!==Ft.API.image_compression.NONE&&typeof lv=="function"?(Q=(function(D){var $;switch(D){case Ft.API.image_compression.FAST:$=11;break;case Ft.API.image_compression.MEDIUM:$=13;break;case Ft.API.image_compression.SLOW:$=14;break;default:$=12}return $})(n),g=this.decode.FLATE_DECODE,w="/Predictor ".concat(Q," /Colors ").concat(_," /BitsPerComponent ").concat(p," /Columns ").concat(c),t=Gy(L,Math.ceil(c*_*p/8),_,p,n),R&&(v=Gy(T,Math.ceil(c*C/8),1,C,n))):(g=void 0,w=void 0,t=L,R&&(v=T)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(v&&this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v))&&(v=this.__addimage__.arrayBufferToBinaryString(v)),{alias:r,data:t,index:e,filter:g,decodeParameters:w,transparency:J,palette:H,sMask:v,predictor:Q,width:c,height:u,bitsPerComponent:p,sMaskBitsPerComponent:C,colorSpace:x}}},(function(t){t.processGIF89A=function(e,r,n,a){var i=new xT(e),c=i.width,u=i.height,d=[];i.decodeAndBlitFrameRGBA(0,d);var h={data:d,width:c,height:u},p=new Ng(100).encode(h,100);return t.processJPEG.call(this,p,r,n,a)},t.processGIF87A=t.processGIF89A})(Ft.API),xo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},xo.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Ur.log("bit decode error:"+r)}},xo.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),c=n*this.width*4+8*a*4,u=0;u<8&&8*a+u<this.width;u++){var d=this.palette[i>>7-u&1];this.data[c+4*u]=d.blue,this.data[c+4*u+1]=d.green,this.data[c+4*u+2]=d.red,this.data[c+4*u+3]=255}r!==0&&(this.pos+=4-r)}},xo.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var i=this.datav.getUint8(this.pos++,!0),c=n*this.width*4+2*a*4,u=i>>4,d=15&i,h=this.palette[u];if(this.data[c]=h.blue,this.data[c+1]=h.green,this.data[c+2]=h.red,this.data[c+3]=255,2*a+1>=this.width)break;h=this.palette[d],this.data[c+4]=h.blue,this.data[c+4+1]=h.green,this.data[c+4+2]=h.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},xo.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var c=this.palette[a];this.data[i]=c.red,this.data[i+1]=c.green,this.data[i+2]=c.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},xo.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(i&e)/e*255|0,u=(i>>5&e)/e*255|0,d=(i>>10&e)/e*255|0,h=i>>15?255:0,p=n*this.width*4+4*a;this.data[p]=d,this.data[p+1]=u,this.data[p+2]=c,this.data[p+3]=h}this.pos+=t}},xo.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(c&e)/e*255|0,d=(c>>5&r)/r*255|0,h=(c>>11)/e*255|0,p=a*this.width*4+4*i;this.data[p]=h,this.data[p+1]=d,this.data[p+2]=u,this.data[p+3]=255}this.pos+=t}},xo.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*r;this.data[c]=i,this.data[c+1]=a,this.data[c+2]=n,this.data[c+3]=255}this.pos+=this.width%4}},xo.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*r;this.data[u]=i,this.data[u+1]=a,this.data[u+2]=n,this.data[u+3]=c}},xo.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,a){var i=new xo(e,!1),c=i.width,u=i.height,d={data:i.getData(),width:c,height:u},h=new Ng(100).encode(d,100);return t.processJPEG.call(this,h,r,n,a)}})(Ft.API),eb.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,a){var i=new eb(e),c=i.width,u=i.height,d={data:i.getData(),width:c,height:u},h=new Ng(100).encode(d,100);return t.processJPEG.call(this,h,r,n,a)}})(Ft.API),Ft.API.processRGBA=function(t,e,r){for(var n=t.data,a=n.length,i=new Uint8Array(a/4*3),c=new Uint8Array(a/4),u=0,d=0,h=0;h<a;h+=4){var p=n[h],g=n[h+1],w=n[h+2],v=n[h+3];i[u++]=p,i[u++]=g,i[u++]=w,c[d++]=v}var S=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:S,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Ft.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Gu=Ft.API,Gf=Gu.getCharWidthsArray=function(t,e){var r,n,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:a.metadata.Unicode.widths,d=u.fof?u.fof:1,h=e.kerning?e.kerning:a.metadata.Unicode.kerning,p=h.fof?h.fof:1,g=e.doKerning!==!1,w=0,v=t.length,S=0,x=u[0]||d,_=[];for(r=0;r<v;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?_.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+c*(1e3/i)||0)/1e3):(w=g&&Ir(h[n])==="object"&&!isNaN(parseInt(h[n][S],10))?h[n][S]/p:0,_.push((u[n]||x)/d+w)),S=n;return _},Vy=Gu.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return Gu.processArabic&&(t=Gu.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:Gf.apply(this,arguments).reduce(function(i,c){return i+c},0)},Wy=function(t,e,r,n){for(var a=[],i=0,c=t.length,u=0;i!==c&&u+e[i]<r;)u+=e[i],i++;a.push(t.slice(0,i));var d=i;for(u=0;i!==c;)u+e[i]>n&&(a.push(t.slice(d,i)),u=0,d=i),u+=e[i],i++;return d!==i&&a.push(t.slice(d,i)),a},Hy=function(t,e,r){r||(r={});var n,a,i,c,u,d,h,p=[],g=[p],w=r.textIndent||0,v=0,S=0,x=t.split(" "),_=Gf.apply(this,[" ",r])[0];if(d=r.lineIndent===-1?x[0].length+2:r.lineIndent||0){var C=Array(d).join(" "),L=[];x.map(function(R){(R=R.split(/\s*\n/)).length>1?L=L.concat(R.map(function(H,J){return(J&&H.length?`
`:"")+H})):L.push(R[0])}),x=L,d=Vy.apply(this,[C,r])}for(i=0,c=x.length;i<c;i++){var T=0;if(n=x[i],d&&n[0]==`
`&&(n=n.substr(1),T=1),w+v+(S=(a=Gf.apply(this,[n,r])).reduce(function(R,H){return R+H},0))>e||T){if(S>e){for(u=Wy.apply(this,[n,a,e-(w+v),e]),p.push(u.shift()),p=[u.pop()];u.length;)g.push([u.shift()]);S=a.slice(n.length-(p[0]?p[0].length:0)).reduce(function(R,H){return R+H},0)}else p=[n];g.push(p),w=S+d,v=_}else p.push(n),w+=v+S,v=_}return h=d?function(R,H){return(H?C:"")+R.join(" ")}:function(R){return R.join(" ")},g.map(h)},Gu.splitTextToSize=function(t,e,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var g=this.internal.getFont(p.fontName,p.fontStyle),w="Unicode";return g.metadata[w]?{widths:g.metadata[w].widths||{0:1},kerning:g.metadata[w].kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var u,d,h=[];for(u=0,d=n.length;u<d;u++)h=h.concat(Hy.apply(this,[n[u],c,i]));return h},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},i=0;i<16;i++)n[r[i]]=e[i],a[e[i]]=r[i];var c=function(w){return"0x"+parseInt(w,10).toString(16)},u=t.__fontmetrics__.compress=function(w){var v,S,x,_,C=["{"];for(var L in w){if(v=w[L],isNaN(parseInt(L,10))?S="'"+L+"'":(L=parseInt(L,10),S=(S=c(L).slice(2)).slice(0,-1)+a[S.slice(-1)]),typeof v=="number")v<0?(x=c(v).slice(3),_="-"):(x=c(v).slice(2),_=""),x=_+x.slice(0,-1)+a[x.slice(-1)];else{if(Ir(v)!=="object")throw new Error("Don't know what to do with value type "+Ir(v)+".");x=u(v)}C.push(S+x)}return C.push("}"),C.join("")},d=t.__fontmetrics__.uncompress=function(w){if(typeof w!="string")throw new Error("Invalid argument passed to uncompress.");for(var v,S,x,_,C={},L=1,T=C,R=[],H="",J="",Q=w.length-1,D=1;D<Q;D+=1)(_=w[D])=="'"?v?(x=v.join(""),v=void 0):v=[]:v?v.push(_):_=="{"?(R.push([T,x]),T={},x=void 0):_=="}"?((S=R.pop())[0][S[1]]=T,x=void 0,T=S[0]):_=="-"?L=-1:x===void 0?n.hasOwnProperty(_)?(H+=n[_],x=parseInt(H,16)*L,L=1,H=""):H+=_:n.hasOwnProperty(_)?(J+=n[_],T[x]=parseInt(J,16)*L,L=1,x=void 0,J=""):J+=_;return C},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},g={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(w){var v=w.font,S=g.Unicode[v.postScriptName];S&&(v.metadata.Unicode={},v.metadata.Unicode.widths=S.widths,v.metadata.Unicode.kerning=S.kerning);var x=p.Unicode[v.postScriptName];x&&(v.metadata.Unicode.encoding=x,v.encoding=x.codePages[0])}])})(Ft.API),(function(t){var e=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(c,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e(tp(u)),c.metadata=t.API.TTFFont.open(u),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(a,n)}}])})(Ft),Ft.API.addSvgAsImage=function(t,e,r,n,a,i,c,u){if(isNaN(e)||isNaN(r))throw Ur.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw Ur.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=n,d.height=a;var h=d.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,d.width,d.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return(Qt.canvg?Promise.resolve(Qt.canvg):oi(()=>import("./index.es-B4_d2NV4.js"),[])).catch(function(w){return Promise.reject(new Error("Could not load canvg: "+w))}).then(function(w){return w.default?w.default:w}).then(function(w){return w.fromString(h,t,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(p)}).then(function(){g.addImage(d.toDataURL("image/jpeg",1),e,r,n,a,c,u)})},Ft.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,r);return this},Ft.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,a,i,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(c),d=[],h=0,p=0,g=0;function w(S,x){var _,C=!1;for(_=0;_<S.length;_+=1)S[_]===x&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var v=u.length;for(g=0;g<v;g+=1)r[u[g]].value=r[u[g]].defaultValue,r[u[g]].explicitSet=!1}if(Ir(t)==="object"){for(a in t)if(i=t[a],w(u,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&w(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(h=0;h<i.length;h+=1)if(n=!0,i[h].length===1&&typeof i[h][0]=="number")d.push(String(i[h]-1));else if(i[h].length>1){for(p=0;p<i[h].length;p+=1)typeof i[h][p]!="number"&&(n=!1);n===!0&&d.push([i[h][0]-1,i[h][1]-1].join(" "))}r[a].value="["+d.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var S,x=[];for(S in r)r[S].explicitSet===!0&&(r[S].type==="name"?x.push("/"+S+" /"+r[S].value):x.push("/"+S+" "+r[S].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),h=i.length+c.length+u.length+a.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(a+i+c+u+d),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(Ft.API),(function(t){var e=t.API,r=e.pdfEscape16=function(i,c){for(var u,d=c.metadata.Unicode.widths,h=["","0","00","000","0000"],p=[""],g=0,w=i.length;g<w;++g){if(u=c.metadata.characterToGlyph(i.charCodeAt(g)),c.metadata.glyIdsUsed.push(u),c.metadata.toUnicode[u]=i.charCodeAt(g),d.indexOf(u)==-1&&(d.push(u),d.push([parseInt(c.metadata.widthOfGlyph(u),10)])),u=="0")return p.join("");u=u.toString(16),p.push(h[4-u.length],u)}return p.join("")},n=function(i){var c,u,d,h,p,g,w;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],g=0,w=(u=Object.keys(i).sort(function(v,S){return v-S})).length;g<w;g++)c=u[g],d.length>=100&&(p+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),i[c]!==void 0&&i[c]!==null&&typeof i[c].toString=="function"&&(h=("0000"+i[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),d.push("<"+c+"><"+h+">"));return d.length&&(p+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(c){var u=c.font,d=c.out,h=c.newObject,p=c.putStream;if(u.metadata instanceof t.API.TTFFont&&u.encoding==="Identity-H"){for(var g=u.metadata.Unicode.widths,w=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),v="",S=0;S<w.length;S++)v+=String.fromCharCode(w[S]);var x=h();p({data:v,addLength1:!0,objectId:x}),d("endobj");var _=h();p({data:n(u.metadata.toUnicode),addLength1:!0,objectId:_}),d("endobj");var C=h();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+Xu(u.fontName)),d("/FontFile2 "+x+" 0 R"),d("/FontBBox "+t.API.PDFObject.convert(u.metadata.bbox)),d("/Flags "+u.metadata.flags),d("/StemV "+u.metadata.stemV),d("/ItalicAngle "+u.metadata.italicAngle),d("/Ascent "+u.metadata.ascender),d("/Descent "+u.metadata.decender),d("/CapHeight "+u.metadata.capHeight),d(">>"),d("endobj");var L=h();d("<<"),d("/Type /Font"),d("/BaseFont /"+Xu(u.fontName)),d("/FontDescriptor "+C+" 0 R"),d("/W "+t.API.PDFObject.convert(g)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+u.encoding+")"),d(">>"),d(">>"),d("endobj"),u.objectNumber=h(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+_+" 0 R"),d("/BaseFont /"+Xu(u.fontName)),d("/Encoding /"+u.encoding),d("/DescendantFonts ["+L+" 0 R]"),d(">>"),d("endobj"),u.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(c){var u=c.font,d=c.out,h=c.newObject,p=c.putStream;if(u.metadata instanceof t.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var g=u.metadata.rawData,w="",v=0;v<g.length;v++)w+=String.fromCharCode(g[v]);var S=h();p({data:w,addLength1:!0,objectId:S}),d("endobj");var x=h();p({data:n(u.metadata.toUnicode),addLength1:!0,objectId:x}),d("endobj");var _=h();d("<<"),d("/Descent "+u.metadata.decender),d("/CapHeight "+u.metadata.capHeight),d("/StemV "+u.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+S+" 0 R"),d("/Flags 96"),d("/FontBBox "+t.API.PDFObject.convert(u.metadata.bbox)),d("/FontName /"+Xu(u.fontName)),d("/ItalicAngle "+u.metadata.italicAngle),d("/Ascent "+u.metadata.ascender),d(">>"),d("endobj"),u.objectNumber=h();for(var C=0;C<u.metadata.hmtx.widths.length;C++)u.metadata.hmtx.widths[C]=parseInt(u.metadata.hmtx.widths[C]*(1e3/u.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+Xu(u.fontName)+"/FontDescriptor "+_+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),d("endobj"),u.isAlreadyPutted=!0}})(i)}]);var a=function(i){var c,u=i.text||"",d=i.x,h=i.y,p=i.options||{},g=i.mutex||{},w=g.pdfEscape,v=g.activeFontKey,S=g.fonts,x=v,_="",C=0,L="",T=S[x].encoding;if(S[x].encoding!=="Identity-H")return{text:u,x:d,y:h,options:p,mutex:g};for(L=u,x=v,Array.isArray(u)&&(L=u[0]),C=0;C<L.length;C+=1)S[x].metadata.hasOwnProperty("cmap")&&(c=S[x].metadata.cmap.unicode.codeMap[L[C].charCodeAt(0)]),c||L[C].charCodeAt(0)<256&&S[x].metadata.hasOwnProperty("Unicode")?_+=L[C]:_+="";var R="";return parseInt(x.slice(1))<14||T==="WinAnsiEncoding"?R=w(_,x).split("").map(function(H){return H.charCodeAt(0).toString(16)}).join(""):T==="Identity-H"&&(R=r(_,S[x])),g.isHex=!0,{text:R,x:d,y:h,options:p,mutex:g}};e.events.push(["postProcessText",function(i){var c=i.text||"",u=[],d={text:c,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(c)){var h=0;for(h=0;h<c.length;h+=1)Array.isArray(c[h])&&c[h].length===3?u.push([a(Object.assign({},d,{text:c[h][0]})).text,c[h][1],c[h][2]]):u.push(a(Object.assign({},d,{text:c[h]})).text);i.text=u}else i.text=a(Object.assign({},d,{text:c})).text}])})(Ft),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Ft.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,i,c,u,d,h,p,g=e,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],v=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},_=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),L=!1,T=0;this.__bidiEngine__={};var R=function(z){var F=z.charCodeAt(),P=F>>8,M=x[P];return M!==void 0?g[256*M+(255&F)]:P===252||P===253?"AL":C.test(P)?"L":P===8?"R":"N"},H=function(z){for(var F,P=0;P<z.length;P++){if((F=R(z.charAt(P)))==="L")return!1;if(F==="R")return!0}return!1},J=function(z,F,P,M){var fe,ae,se,q,me=F[M];switch(me){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":L=!1;break;case"N":case"AN":break;case"EN":L&&(me="AN");break;case"AL":L=!0,me="R";break;case"WS":case"BN":me="N";break;case"CS":M<1||M+1>=F.length||(fe=P[M-1])!=="EN"&&fe!=="AN"||(ae=F[M+1])!=="EN"&&ae!=="AN"?me="N":L&&(ae="AN"),me=ae===fe?ae:"N";break;case"ES":me=(fe=M>0?P[M-1]:"B")==="EN"&&M+1<F.length&&F[M+1]==="EN"?"EN":"N";break;case"ET":if(M>0&&P[M-1]==="EN"){me="EN";break}if(L){me="N";break}for(se=M+1,q=F.length;se<q&&F[se]==="ET";)se++;me=se<q&&F[se]==="EN"?"EN":"N";break;case"NSM":if(c&&!u){for(q=F.length,se=M+1;se<q&&F[se]==="NSM";)se++;if(se<q){var Ne=z[M],te=Ne>=1425&&Ne<=2303||Ne===64286;if(fe=F[se],te&&(fe==="R"||fe==="AL")){me="R";break}}}me=M<1||(fe=F[M-1])==="B"?"N":P[M-1];break;case"B":L=!1,a=!0,me=T;break;case"S":i=!0,me="N"}return me},Q=function(z,F,P){var M=z.split("");return P&&D(M,P,{hiLevel:T}),M.reverse(),F&&F.reverse(),M.join("")},D=function(z,F,P){var M,fe,ae,se,q,me=-1,Ne=z.length,te=0,I=[],Y=T?v:w,Z=[];for(L=!1,a=!1,i=!1,fe=0;fe<Ne;fe++)Z[fe]=R(z[fe]);for(ae=0;ae<Ne;ae++){if(q=te,I[ae]=J(z,Z,I,ae),M=240&(te=Y[q][S[I[ae]]]),te&=15,F[ae]=se=Y[te][5],M>0)if(M===16){for(fe=me;fe<ae;fe++)F[fe]=1;me=-1}else me=-1;if(Y[te][6])me===-1&&(me=ae);else if(me>-1){for(fe=me;fe<ae;fe++)F[fe]=se;me=-1}Z[ae]==="B"&&(F[ae]=0),P.hiLevel|=se}i&&(function(ue,ge,le){for(var xe=0;xe<le;xe++)if(ue[xe]==="S"){ge[xe]=T;for(var ye=xe-1;ye>=0&&ue[ye]==="WS";ye--)ge[ye]=T}})(Z,F,Ne)},$=function(z,F,P,M,fe){if(!(fe.hiLevel<z)){if(z===1&&T===1&&!a)return F.reverse(),void(P&&P.reverse());for(var ae,se,q,me,Ne=F.length,te=0;te<Ne;){if(M[te]>=z){for(q=te+1;q<Ne&&M[q]>=z;)q++;for(me=te,se=q-1;me<se;me++,se--)ae=F[me],F[me]=F[se],F[se]=ae,P&&(ae=P[me],P[me]=P[se],P[se]=ae);te=q}te++}}},G=function(z,F,P){var M=z.split(""),fe={hiLevel:T};return P||(P=[]),D(M,P,fe),(function(ae,se,q){if(q.hiLevel!==0&&p)for(var me,Ne=0;Ne<ae.length;Ne++)se[Ne]===1&&(me=_.indexOf(ae[Ne]))>=0&&(ae[Ne]=_[me+1])})(M,P,fe),$(2,M,F,P,fe),$(1,M,F,P,fe),M.join("")};return this.__bidiEngine__.doBidiReorder=function(z,F,P){if((function(fe,ae){if(ae)for(var se=0;se<fe.length;se++)ae[se]=se;u===void 0&&(u=H(fe)),h===void 0&&(h=H(fe))})(z,F),c||!d||h)if(c&&d&&u^h)T=u?1:0,z=Q(z,F,P);else if(!c&&d&&h)T=u?1:0,z=G(z,F,P),z=Q(z,F);else if(!c||u||d||h){if(c&&!d&&u^h)z=Q(z,F),u?(T=0,z=G(z,F,P)):(T=1,z=G(z,F,P),z=Q(z,F));else if(c&&u&&!d&&h)T=1,z=G(z,F,P),z=Q(z,F);else if(!c&&!d&&u^h){var M=p;u?(T=1,z=G(z,F,P),T=0,p=!1,z=G(z,F,P),p=M):(T=0,z=G(z,F,P),z=Q(z,F),T=1,p=!1,z=G(z,F,P),p=M,z=Q(z,F))}}else T=0,z=G(z,F,P);else T=u?1:0,z=G(z,F,P);return z},this.__bidiEngine__.setOptions=function(z){z&&(c=z.isInputVisual,d=z.isOutputVisual,u=z.isInputRtl,h=z.isOutputRtl,p=z.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var c=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var u=0;for(c=[],u=0;u<a.length;u+=1)Object.prototype.toString.call(a[u])==="[object Array]"?c.push([r.doBidiReorder(a[u][0]),a[u][1],a[u][2]]):c.push([r.doBidiReorder(a[u])]);n.text=c}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(Ft),Ft.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new sc(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new DT(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new wT(this.contents),this.head=new NT(this),this.name=new AT(this),this.cmap=new E_(this),this.toUnicode={},this.hhea=new jT(this),this.maxp=new kT(this),this.hmtx=new PT(this),this.post=new ET(this),this.os2=new ST(this),this.loca=new RT(this),this.glyf=new OT(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var c,u,d,h;for(h=[],c=0,u=(d=this.bbox).length;c<u;c++)e=d[c],h.push(Math.round(e*this.scaleFactor));return h}.call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var a,i,c,u;for(c=0,i=0,u=(e=""+e).length;0<=u?i<u:i>u;i=0<=u?++i:--i)a=e.charCodeAt(i),c+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return c*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var Ro,sc=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,a;for(a=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,a,i,c,u,d;return e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),c=this.readByte(),u=this.readByte(),d=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^c)+256*(255^u)+(255^d)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*c+256*u+d},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,a,i;for(i=[],n=0,a=e.length;n<a;n++)r=e[n],i.push(this.writeByte(r));return i},t})(),wT=(function(){var t;function e(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,a,i,c,u,d,h,p,g,w,v,S,x;for(x in v=Object.keys(r).length,d=Math.log(2),g=16*Math.floor(Math.log(v)/d),c=Math.floor(g/d),p=16*v-g,(a=new sc).writeInt(this.scalarType),a.writeShort(v),a.writeShort(g),a.writeShort(c),a.writeShort(p),i=16*v,h=a.pos+i,u=null,S=[],r)for(w=r[x],a.writeString(x),a.writeInt(t(w)),a.writeInt(h),a.writeInt(w.length),S=S.concat(w),x==="head"&&(u=h),h+=w.length;h%4;)S.push(0),h++;return a.write(S),n=2981146554-t(a.data),a.pos=u+8,a.writeUInt32(n),a.data},t=function(r){var n,a,i,c;for(r=C_.call(r);r.length%4;)r.push(0);for(i=new sc(r),a=0,n=0,c=r.length;n<c;n=n+=4)a+=i.readUInt32();return 4294967295&a},e})(),_T={}.hasOwnProperty,hi=function(t,e){for(var r in e)_T.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Ro=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var NT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return hi(t,Ro),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new sc).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),tb=(function(){function t(e,r){var n,a,i,c,u,d,h,p,g,w,v,S,x,_,C,L,T;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),g=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=e.readByte();break;case 4:for(v=e.readUInt16(),w=v/2,e.pos+=6,i=(function(){var R,H;for(H=[],d=R=0;0<=w?R<w:R>w;d=0<=w?++R:--R)H.push(e.readUInt16());return H})(),e.pos+=2,x=(function(){var R,H;for(H=[],d=R=0;0<=w?R<w:R>w;d=0<=w?++R:--R)H.push(e.readUInt16());return H})(),h=(function(){var R,H;for(H=[],d=R=0;0<=w?R<w:R>w;d=0<=w?++R:--R)H.push(e.readUInt16());return H})(),p=(function(){var R,H;for(H=[],d=R=0;0<=w?R<w:R>w;d=0<=w?++R:--R)H.push(e.readUInt16());return H})(),a=(this.length-e.pos+this.offset)/2,u=(function(){var R,H;for(H=[],d=R=0;0<=a?R<a:R>a;d=0<=a?++R:--R)H.push(e.readUInt16());return H})(),d=C=0,T=i.length;C<T;d=++C)for(_=i[d],n=L=S=x[d];S<=_?L<=_:L>=_;n=S<=_?++L:--L)p[d]===0?c=n+h[d]:(c=u[p[d]/2+(n-S)-(w-d)]||0)!==0&&(c+=h[d]),this.codeMap[n]=65535&c}e.pos=g}return t.encode=function(e,r){var n,a,i,c,u,d,h,p,g,w,v,S,x,_,C,L,T,R,H,J,Q,D,$,G,z,F,P,M,fe,ae,se,q,me,Ne,te,I,Y,Z,ue,ge,le,xe,ye,ke,De,He;switch(M=new sc,c=Object.keys(e).sort(function(tt,Fe){return tt-Fe}),r){case"macroman":for(x=0,_=(function(){var tt=[];for(S=0;S<256;++S)tt.push(0);return tt})(),L={0:0},i={},fe=0,me=c.length;fe<me;fe++)L[ye=e[a=c[fe]]]==null&&(L[ye]=++x),i[a]={old:e[a],new:L[e[a]]},_[a]=L[e[a]];return M.writeUInt16(1),M.writeUInt16(0),M.writeUInt32(12),M.writeUInt16(0),M.writeUInt16(262),M.writeUInt16(0),M.write(_),{charMap:i,subtable:M.data,maxGlyphID:x+1};case"unicode":for(F=[],g=[],T=0,L={},n={},C=h=null,ae=0,Ne=c.length;ae<Ne;ae++)L[H=e[a=c[ae]]]==null&&(L[H]=++T),n[a]={old:H,new:L[H]},u=L[H]-a,C!=null&&u===h||(C&&g.push(C),F.push(a),h=u),C=a;for(C&&g.push(C),g.push(65535),F.push(65535),G=2*($=F.length),D=2*Math.pow(Math.log($)/Math.LN2,2),w=Math.log(D/2)/Math.LN2,Q=2*$-D,d=[],J=[],v=[],S=se=0,te=F.length;se<te;S=++se){if(z=F[S],p=g[S],z===65535){d.push(0),J.push(0);break}if(z-(P=n[z].new)>=32768)for(d.push(0),J.push(2*(v.length+$-S)),a=q=z;z<=p?q<=p:q>=p;a=z<=p?++q:--q)v.push(n[a].new);else d.push(P-z),J.push(0)}for(M.writeUInt16(3),M.writeUInt16(1),M.writeUInt32(12),M.writeUInt16(4),M.writeUInt16(16+8*$+2*v.length),M.writeUInt16(0),M.writeUInt16(G),M.writeUInt16(D),M.writeUInt16(w),M.writeUInt16(Q),le=0,I=g.length;le<I;le++)a=g[le],M.writeUInt16(a);for(M.writeUInt16(0),xe=0,Y=F.length;xe<Y;xe++)a=F[xe],M.writeUInt16(a);for(ke=0,Z=d.length;ke<Z;ke++)u=d[ke],M.writeUInt16(u);for(De=0,ue=J.length;De<ue;De++)R=J[De],M.writeUInt16(R);for(He=0,ge=v.length;He<ge;He++)x=v[He],M.writeUInt16(x);return{charMap:n,subtable:M.data,maxGlyphID:T+1}}},t})(),E_=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return hi(t,Ro),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new tb(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,a;return r==null&&(r="macroman"),n=tb.encode(e,r),(a=new sc).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},t})(),jT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return hi(t,Ro),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),ST=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return hi(t,Ro),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),ET=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return hi(t,Ro),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)r=e.readByte(),a.push(this.names.push(e.readString(r)));return a;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=function(){var c,u,d;for(d=[],i=c=0,u=this.file.maxp.numGlyphs;0<=u?c<u:c>u;i=0<=u?++c:--c)d.push(e.readUInt32());return d}.call(this)}},t})(),CT=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},AT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return hi(t,Ro),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,a,i,c,u,d,h,p,g,w;for(e.pos=this.offset,e.readShort(),r=e.readShort(),u=e.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+u+e.readShort()});for(d={},i=p=0,g=n.length;p<g;i=++p)a=n[i],e.pos=a.offset,h=e.readString(a.length),c=new CT(h,a),d[w=a.nameID]==null&&(d[w]=[]),d[a.nameID].push(c);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},t})(),kT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return hi(t,Ro),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),PT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return hi(t,Ro),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,a,i,c,u,d;for(e.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var h,p;for(p=[],r=h=0;0<=a?h<a:h>a;r=0<=a?++h:--h)p.push(e.readInt16());return p})(),this.widths=function(){var h,p,g,w;for(w=[],h=0,p=(g=this.metrics).length;h<p;h++)i=g[h],w.push(i.advance);return w}.call(this),n=this.widths[this.widths.length-1],d=[],r=c=0;0<=a?c<a:c>a;r=0<=a?++c:--c)d.push(this.widths.push(n));return d},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),C_=[].slice,OT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return hi(t,Ro),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,a,i,c,u,d,h,p,g;return e in this.cache?this.cache[e]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(e),(a=i.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,c=(u=new sc(r.read(a))).readShort(),h=u.readShort(),g=u.readShort(),d=u.readShort(),p=u.readShort(),this.cache[e]=c===-1?new TT(u,h,g,d,p):new LT(u,c,h,g,d,p),this.cache[e]))},t.prototype.encode=function(e,r,n){var a,i,c,u,d;for(c=[],i=[],u=0,d=r.length;u<d;u++)a=e[r[u]],i.push(c.length),a&&(c=c.concat(a.encode(n)));return i.push(c.length),{table:c,offsets:i}},t})(),LT=(function(){function t(e,r,n,a,i,c){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=c,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),TT=(function(){function t(e,r,n,a,i){var c,u;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;u=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&u;)c.pos+=1&u?4:2,128&u?c.pos+=8:64&u?c.pos+=4:8&u&&(c.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new sc(C_.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),RT=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return hi(t,Ro),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=2)i.push(2*e.readUInt16());return i}.call(this):function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=4)i.push(e.readUInt32());return i}.call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),a=0,i=0,c=0;c<n.length;++c)if(n[c]=a,i<r.length&&r[i]==c){++i,n[c]=a;var u=this.offsets[c],d=this.offsets[c+1]-u;d>0&&(a+=d)}for(var h=new Array(4*n.length),p=0;p<n.length;++p)h[4*p+3]=255&n[p],h[4*p+2]=(65280&n[p])>>8,h[4*p+1]=(16711680&n[p])>>16,h[4*p]=(4278190080&n[p])>>24;return h},t})(),DT=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=a[n];return e},t.prototype.glyphsFor=function(e){var r,n,a,i,c,u,d;for(a={},c=0,u=e.length;c<u;c++)a[i=e[c]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in d=this.glyphsFor(r))n=d[i],a[i]=n;return a},t.prototype.encode=function(e,r){var n,a,i,c,u,d,h,p,g,w,v,S,x,_,C;for(a in n=E_.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),v={0:0},C=n.charMap)v[(d=C[a]).old]=d.new;for(S in w=n.maxGlyphID,c)S in v||(v[S]=w++);return p=(function(L){var T,R;for(T in R={},L)R[L[T]]=T;return R})(v),g=Object.keys(p).sort(function(L,T){return L-T}),x=(function(){var L,T,R;for(R=[],L=0,T=g.length;L<T;L++)u=g[L],R.push(p[u]);return R})(),i=this.font.glyf.encode(c,x,v),h=this.font.loca.encode(i.offsets,x),_={cmap:this.font.cmap.raw(),glyf:i.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(_["OS/2"]=this.font.os2.raw()),this.font.directory.encode(_)},t})();Ft.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,a,i,c;if(Array.isArray(r))return"["+(function(){var u,d,h;for(h=[],u=0,d=r.length;u<d;u++)n=r[u],h.push(e.convert(n));return h})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)c=r[a],i.push("/"+a+" "+e.convert(c));return i.push(">>"),i.join(`
`)}return""+r},e})();const rb=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),IT=async(t,e)=>{console.log("downloadPDFMobile iniciado (Obras)",{isMobile:rb()});try{if(rb()){console.log("Dispositivo mobile detectado");const r=t.output("blob");console.log("PDF gerado como blob",{size:r.size});const n=new File([r],e,{type:"application/pdf"});if(console.log("File criado",{name:n.name,type:n.type,size:n.size}),navigator.share){console.log("Web Share API disponvel");try{await navigator.share({files:[n],title:"Relatrio de Obra",text:"Relatrio de gastos gerado pelo sistema PEPERAIO"}),console.log("Compartilhamento bem-sucedido"),pe.success("PDF compartilhado com sucesso!")}catch(a){console.error("Erro no compartilhamento:",a),a.name!=="AbortError"?pe.error("Erro ao compartilhar PDF"):console.log("Usurio cancelou o compartilhamento")}}else{console.log("Web Share API no disponvel, usando fallback");const a=URL.createObjectURL(r);if(window.open(a,"_blank"))pe.info("PDF aberto em nova aba"),setTimeout(()=>URL.revokeObjectURL(a),6e4);else{console.log("Popup bloqueado, tentando download");const c=document.createElement("a");c.href=a,c.download=e,document.body.appendChild(c),c.click(),document.body.removeChild(c),pe.success("PDF baixado"),setTimeout(()=>URL.revokeObjectURL(a),6e4)}}}else console.log("Desktop detectado, usando download padro"),t.save(e),pe.success("PDF exportado com sucesso!")}catch(r){console.error("Erro fatal ao exportar PDF:",r),pe.error("Erro ao exportar PDF. Tente novamente.")}};function FT(){const{canEdit:t,canDelete:e,canCreate:r,isAdmin:n}=ui(),[a,i]=k.useState([]),[c,u]=k.useState(!0),[d,h]=k.useState(!1),[p,g]=k.useState(!1),[w,v]=k.useState(!1),[S,x]=k.useState(null),[_,C]=k.useState(null),[L,T]=k.useState(null),[R,H]=k.useState({nome:"",orcamento:""}),[J,Q]=k.useState({categoria:"",descricao:"",valor:""}),[D,$]=k.useState(""),{transferirVerba:G}=Bv(),[z,F]=k.useState(!1),[P,M]=k.useState(null),[fe,ae]=k.useState(""),[se,q]=k.useState(!1),[me,Ne]=k.useState(null),[te,I]=k.useState(""),[Y,Z]=k.useState("obras"),[ue,ge]=k.useState(null),[le,xe]=k.useState(null);k.useEffect(()=>{ye()},[]);const ye=async()=>{u(!0);const{data:be,error:oe}=await Pe.from("obras").select("*, gastos_obra(*)");if(oe){pe.error("Erro ao buscar obras!"),u(!1);return}const Be=(be||[]).map(ct=>({...ct,gastos:ct.gastos_obra||[],cardVinculado:null}));try{const ct=Be.map(ot=>ot.nome).filter(Boolean);if(ct.length>0){const{data:ot,error:rt}=await Pe.from("cards_de_obra").select("*").in("titulo",ct);if(rt)throw rt;const Xe=new Map,Me=new Map;(ot||[]).forEach(xt=>{if(!xt.titulo)return;const lt=xt.titulo,mt=Xe.get(lt)||[];mt.push(xt),Xe.set(lt,mt),Me.set(xt.id_card,lt)}),Be.forEach(xt=>{const lt=Xe.get(xt.nome)||[];if(lt.length>0){const mt=lt.find(St=>St.status!=="FINALIZADO"&&St.status!=="CANCELADO")||lt[0];xt.cardVinculado=mt}});const Ge=Array.from(Me.keys());if(Ge.length>0){const{data:xt,error:lt}=await Pe.from("despesas_de_obra").select("id, id_card, descricao, valor, data, status, categorias_de_gasto(nome), url_comprovante").in("id_card",Ge).eq("status","APROVADO");if(lt)throw lt;const mt=new Map;(xt||[]).forEach(St=>{const Ze=Me.get(St.id_card);if(!Ze)return;const Bt=mt.get(Ze)||[];Bt.push({id:St.id,obra_id:"",categoria:St.categorias_de_gasto?.nome||"Despesa",descricao:St.descricao,valor:Number(St.valor)||0,data:St.data,url_comprovante:St.url_comprovante}),mt.set(Ze,Bt)}),Be.forEach(St=>{const Ze=mt.get(St.nome)||[];St.gastos=[...St.gastos||[],...Ze]})}}}catch(ct){console.warn("Aviso: no foi possvel integrar despesas dos cards na pgina Obras:",ct)}i(Be),u(!1)},ke=async()=>{if(!e||!ue)return;const{error:be}=await Pe.from("obras").delete().eq("id",ue);be?pe.error("Erro ao apagar obra!"):(i(oe=>oe.filter(Be=>Be.id!==ue)),pe.success("Obra apagada com sucesso!"),ge(null),xe(null))},De=async be=>{if(be.preventDefault(),!P?.card)return;const oe=fe.replace(",","."),Be=parseFloat(oe);if(isNaN(Be)||Be<=0){pe.error("Informe um valor vlido para enviar a verba");return}try{await G(P.card,Be),F(!1),M(null),ae(""),await ye()}catch(ct){console.error("Erro ao enviar verba:",ct),pe.error("Erro ao enviar verba")}},He=async be=>{if(be.preventDefault(),!r)return;const{data:oe,error:Be}=await Pe.from("obras").insert({nome:R.nome,orcamento:parseFloat(R.orcamento),lucro:0,finalizada:!1}).select();!Be&&oe&&oe[0]?(ye(),pe.success("Obra adicionada com sucesso!"),H({nome:"",orcamento:""}),h(!1)):pe.error("Erro ao adicionar obra!")},tt=async be=>{if(be.preventDefault(),!r||!S)return;const oe=parseFloat(J.valor);if(isNaN(oe)||oe<=0){pe.error("Por favor, insira um valor numrico vlido e positivo.");return}if(L){L.gasto.valor;const{error:Be}=await Pe.from("gastos_obra").update({categoria:J.categoria,descricao:J.descricao,valor:oe}).eq("id",L.gasto.id);Be?pe.error("Erro ao atualizar gasto!"):(ye(),pe.success("Gasto atualizado com sucesso!"),T(null))}else{const Be=new Date().toISOString().split("T")[0],{error:ct}=await Pe.from("gastos_obra").insert({obra_id:S,categoria:J.categoria,descricao:J.descricao,valor:oe,data:Be});if(ct)pe.error("Erro ao adicionar gasto!");else{const ot=a.find(Me=>Me.id===S),rt=ot?ot.nome:"Obra",{error:Xe}=await Pe.from("transacoes").insert({tipo:"saida",valor:oe,origem:`${rt} - ${J.categoria}`,data:Be,observacao:J.descricao});Xe&&(console.error("Erro ao registrar no caixa:",Xe),pe.warning("Gasto adicionado, mas no foi registrado no caixa")),ye(),pe.success("Gasto adicionado e registrado no caixa!")}}Q({categoria:"",descricao:"",valor:""}),g(!1),x(null)},Fe=(be,oe)=>{t&&(T({obraId:be,gasto:oe}),x(be),Q({categoria:oe.categoria,descricao:oe.descricao,valor:oe.valor.toString()}),g(!0))},de=async(be,oe)=>{if(!e)return;const Be=a.find(rt=>rt.id===be),ct=Be?.gastos.find(rt=>rt.id===oe),{error:ot}=await Pe.from("gastos_obra").delete().eq("id",oe);if(ot)pe.error("Erro ao remover gasto!");else{if(ct&&Be){const{error:rt}=await Pe.from("transacoes").delete().eq("tipo","saida").eq("origem",`${Be.nome} - ${ct.categoria}`).eq("valor",ct.valor).eq("data",ct.data);rt&&(console.error("Erro ao remover do caixa:",rt),pe.warning("Gasto removido da obra, mas no foi removido do caixa"))}ye(),pe.success("Gasto removido da obra e do caixa!")}},zt=async be=>{if(be.preventDefault(),!r||!_)return;const oe=parseFloat(D);if(isNaN(oe)||oe<=0){pe.error("Por favor, insira um valor vlido");return}const ct=(_.valor_recebido||0)+oe;if(ct>_.orcamento){pe.error("O valor total de pagamentos no pode exceder o oramento!");return}const{error:ot}=await Pe.from("obras").update({valor_recebido:ct}).eq("id",_.id);if(ot){pe.error("Erro ao registrar pagamento");return}const{error:rt}=await Pe.from("transacoes").insert({tipo:"entrada",valor:oe,origem:`Recebimento Obra - ${_.nome}`,data:new Date().toISOString().split("T")[0],observacao:"Pagamento parcial da obra"});if(rt){pe.error("Erro ao registrar entrada no caixa");return}if(await ye(),_){const Xe=(_.valor_recebido||0)+oe,Me=_.orcamento-Xe;C({..._,valor_recebido:Xe}),pe.success(`Pagamento registrado! Falta receber: ${ft(Me)}`)}else pe.success("Pagamento registrado com sucesso!");$(""),v(!1),C(null)},wt=async be=>{t&&(Ne(be),q(!0))},bt=async be=>{if(be.preventDefault(),!me)return;const oe=te.replace(",","."),Be=parseFloat(oe);if(isNaN(Be)||Be<0){pe.error("Informe um valor vlido (pode ser 0 se j recebeu tudo)");return}const ct=me,ot=ct.gastos.reduce((Ge,xt)=>Ge+xt.valor,0),rt=(ct.valor_recebido||0)+Be,Xe=rt-ot,{error:Me}=await Pe.from("obras").update({finalizada:!0,lucro:Xe,valor_recebido:rt}).eq("id",ct.id);Me?pe.error("Erro ao finalizar obra!"):(Be>0&&await Pe.from("transacoes").insert({tipo:"entrada",valor:Be,origem:`Obra Finalizada - ${ct.nome}`,data:new Date().toISOString().split("T")[0],observacao:"Pagamento final da obra",categoria:"Servios Prestados"}),ye(),pe.success(`Obra finalizada! Lucro total: ${ft(Xe)}${Be>0?` | Entrada no caixa: ${ft(Be)}`:""}`),q(!1),I(""),Ne(null))},Ve=async be=>{const oe=new Ft,Be=oe.internal.pageSize.getWidth(),ct=oe.internal.pageSize.getHeight(),ot=be.gastos.reduce((at,ne)=>at+ne.valor,0),Xe=(be.valor_recebido||0)-ot;be.orcamento-ot;const Me=be.orcamento>0?ot/be.orcamento*100:0;oe.setFillColor(15,23,42),oe.rect(0,0,Be,ct,"F"),oe.setFillColor(7,16,41),oe.rect(0,0,210,35,"F"),oe.setFillColor(96,165,250),oe.rect(0,0,210,3,"F"),oe.setFontSize(24),oe.setFont("helvetica","bold"),oe.setTextColor(230,238,248),oe.text("PEPERAIO",105,15,{align:"center"}),oe.setFontSize(16),oe.setFont("helvetica","normal"),oe.text("Comunicao Visual",105,23,{align:"center"}),oe.setFontSize(10),oe.setTextColor(148,163,184),oe.text("RELATRIO DE GASTOS DA OBRA",105,30,{align:"center"});let Ge=45;oe.setFillColor(21,26,46),oe.setDrawColor(35,42,69),oe.setLineWidth(.5),oe.roundedRect(15,Ge,180,50,3,3,"FD"),Ge+=8,oe.setFontSize(14),oe.setFont("helvetica","bold"),oe.setTextColor(96,165,250),oe.text(`Obra: ${be.nome}`,20,Ge),Ge+=7,oe.setFontSize(9),oe.setFont("helvetica","normal"),oe.setTextColor(148,163,184),oe.text(`Data de Gerao: ${new Date().toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"})} s ${new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}`,20,Ge),Ge+=10;const xt=54,lt=22,mt=6;oe.setFillColor(21,26,46),oe.setDrawColor(96,165,250),oe.setLineWidth(1),oe.roundedRect(20,Ge,xt,lt,2,2,"FD"),oe.setFontSize(8),oe.setTextColor(96,165,250),oe.text("ORAMENTO TOTAL",22,Ge+5),oe.setFontSize(12),oe.setFont("helvetica","bold"),oe.setTextColor(230,238,248),oe.text(ft(be.orcamento),22,Ge+12),oe.setFontSize(7),oe.setFont("helvetica","normal"),oe.setTextColor(148,163,184),oe.text("Valor inicial aprovado",22,Ge+18),oe.setFillColor(21,26,46),oe.setDrawColor(248,113,113),oe.roundedRect(20+xt+mt,Ge,xt,lt,2,2,"FD"),oe.setFontSize(8),oe.setTextColor(248,113,113),oe.text("TOTAL GASTO",22+xt+mt,Ge+5),oe.setFontSize(12),oe.setFont("helvetica","bold"),oe.setTextColor(248,113,113),oe.text(ft(ot),22+xt+mt,Ge+12),oe.setFontSize(7),oe.setFont("helvetica","normal"),oe.setTextColor(148,163,184),oe.text(`${Me.toFixed(1)}% do oramento`,22+xt+mt,Ge+18);const St=Xe>=0?[52,211,153]:[248,113,113];oe.setFillColor(21,26,46),oe.setDrawColor(St[0],St[1],St[2]),oe.roundedRect(20+(xt+mt)*2,Ge,xt,lt,2,2,"FD"),oe.setFontSize(8),oe.setTextColor(St[0],St[1],St[2]),oe.text("LUCRO REAL",22+(xt+mt)*2,Ge+5),oe.setFontSize(12),oe.setFont("helvetica","bold"),oe.setTextColor(St[0],St[1],St[2]),oe.text(ft(Xe),22+(xt+mt)*2,Ge+12),oe.setFontSize(7),oe.setFont("helvetica","normal"),oe.setTextColor(148,163,184),oe.text("Recebido - Gastos",22+(xt+mt)*2,Ge+18),Ge+=30,oe.setFontSize(10),oe.setFont("helvetica","bold"),oe.setTextColor(96,165,250),oe.text("PROGRESSO DE GASTOS",20,Ge),Ge+=5;const Ze=140,Bt=8,pt=20;oe.setFillColor(11,18,32),oe.roundedRect(pt,Ge,Ze,Bt,2,2,"F");const ar=Ze*Me/100;ar>0&&(oe.setFillColor(248,113,113),oe.roundedRect(pt,Ge,ar,Bt,2,2,"F")),oe.setFontSize(11),oe.setFont("helvetica","bold"),oe.setTextColor(248,113,113),oe.text(`${Me.toFixed(1)}%`,pt+Ze+5,Ge+6),Ge+=18,oe.setFontSize(11),oe.setFont("helvetica","bold"),oe.setTextColor(96,165,250),oe.text("DETALHAMENTO DOS GASTOS",20,Ge),oe.setFontSize(8),oe.setFont("helvetica","normal"),oe.setTextColor(148,163,184),oe.text(`Total de ${be.gastos.length} lanamento(s)`,120,Ge),Ge+=7,oe.setFillColor(96,165,250),oe.rect(15,Ge,180,10,"F"),oe.setFontSize(9),oe.setFont("helvetica","bold"),oe.setTextColor(255,255,255),oe.text("DATA",18,Ge+6),oe.text("CATEGORIA",42,Ge+6),oe.text("DESCRIO",80,Ge+6),oe.text("VALOR",170,Ge+6),Ge+=10,be.gastos.forEach((at,ne)=>{Ge>260&&(oe.addPage(),Ge=20,oe.setFillColor(96,165,250),oe.rect(15,Ge,180,10,"F"),oe.setFontSize(9),oe.setFont("helvetica","bold"),oe.setTextColor(255,255,255),oe.text("DATA",18,Ge+6),oe.text("CATEGORIA",42,Ge+6),oe.text("DESCRIO",80,Ge+6),oe.text("VALOR",170,Ge+6),Ge+=10),ne%2===0?oe.setFillColor(26,31,58):oe.setFillColor(21,26,46),oe.rect(15,Ge,180,10,"F"),oe.setDrawColor(96,165,250),oe.setLineWidth(1),oe.line(15,Ge,15,Ge+10),oe.setFontSize(8),oe.setFont("helvetica","normal"),oe.setTextColor(148,163,184),oe.text(new Date(at.data.replace(/-/g,"/")).toLocaleDateString("pt-BR"),18,Ge+6),oe.setTextColor(167,139,250),oe.setFont("helvetica","bold"),oe.text(at.categoria.substring(0,20),42,Ge+6),oe.setTextColor(230,238,248),oe.setFont("helvetica","normal");const dt=at.descricao.length>40?at.descricao.substring(0,37)+"...":at.descricao;oe.text(dt,80,Ge+6),oe.setTextColor(248,113,113),oe.setFont("helvetica","bold"),oe.text(ft(at.valor),190,Ge+6,{align:"right"}),Ge+=10}),Ge+=2,oe.setFillColor(7,16,41),oe.rect(15,Ge,180,12,"F"),oe.setDrawColor(96,165,250),oe.setLineWidth(2),oe.line(15,Ge,195,Ge),oe.setFontSize(10),oe.setFont("helvetica","bold"),oe.setTextColor(230,238,248),oe.text("TOTAL DE GASTOS:",18,Ge+8),oe.setFontSize(11),oe.setTextColor(248,113,113),oe.text(ft(ot),190,Ge+8,{align:"right"});const nr=oe.getNumberOfPages();for(let at=1;at<=nr;at++)oe.setPage(at),oe.setFillColor(7,16,41),oe.rect(0,282,210,15,"F"),oe.setFontSize(8),oe.setTextColor(148,163,184),oe.text("Peperaio Comunicao Visual",15,290),oe.text(`Pgina ${at} de ${nr}`,195,290,{align:"right"});const Qe=`relatorio-obra-${be.nome.replace(/\s+/g,"-").toLowerCase()}-${new Date().getTime()}.pdf`;await IT(oe,Qe)},gt=a.filter(be=>!be.finalizada),we=a.filter(be=>be.finalizada),Je=(be,oe)=>{const Be=be.gastos.reduce((Me,Ge)=>Me+Ge.valor,0),ct=be.valor_recebido||0,ot=ct-Be;be.orcamento-Be;const rt=be.orcamento-ct,Xe=be.cardVinculado??null;return s.jsxs("div",{className:`obras-card ${be.finalizada?"finalizada":""}`,style:{animationDelay:`${oe*.1}s`},children:[s.jsxs("div",{className:"obras-card-header",children:[s.jsxs("div",{className:"obras-card-title-section",children:[s.jsxs("div",{className:"obras-card-title-row",children:[s.jsx("h3",{className:"obras-card-title",children:be.nome}),Xe&&s.jsxs("span",{className:"obras-badge obras-badge-vinculada",children:[s.jsx(Ax,{className:"h-3 w-3"}),"Vinculada"]})]}),be.finalizada&&s.jsxs("div",{className:"obras-badge",children:[s.jsx(Mn,{}),"Finalizada"]})]}),s.jsxs("div",{className:"obras-card-actions",children:[s.jsx("button",{className:"obras-btn-icon export",onClick:()=>Ve(be),title:"Exportar PDF",children:s.jsx(_h,{className:"h-4 w-4"})}),!be.finalizada&&t&&s.jsx("button",{className:"obras-btn-icon finish",onClick:()=>wt(be),title:"Finalizar obra",children:s.jsx(Mn,{className:"h-4 w-4"})}),e&&s.jsx("button",{className:"obras-btn-icon delete",onClick:()=>{ge(be.id),xe(be)},title:"Excluir obra",children:s.jsx(zn,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"obras-stats",children:[s.jsxs("div",{className:"obras-stat-item",children:[s.jsx("span",{className:"obras-stat-label",children:"Oramento Total"}),s.jsx("span",{className:"obras-stat-value",children:ft(be.orcamento)})]}),s.jsxs("div",{className:"obras-stat-item",children:[s.jsx("span",{className:"obras-stat-label",children:"Total Gastos"}),s.jsx("span",{className:"obras-stat-value negative",children:ft(Be)})]}),s.jsxs("div",{className:"obras-stat-item",children:[s.jsx("span",{className:"obras-stat-label",children:"Valor Recebido"}),s.jsx("span",{className:"obras-stat-value positive",children:ft(ct)})]}),!be.finalizada&&s.jsxs("div",{className:"obras-stat-item",children:[s.jsx("span",{className:"obras-stat-label",children:"A Receber do Cliente"}),s.jsx("span",{className:`obras-stat-value ${rt>0?"warning":"positive"}`,children:ft(rt)})]}),be.finalizada&&s.jsxs("div",{className:"obras-stat-item",children:[s.jsx("span",{className:"obras-stat-label",children:"Lucro Final"}),s.jsx("span",{className:`obras-stat-value ${ot>=0?"positive":"negative"}`,children:ft(ot)})]}),Xe&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"obras-stat-item",children:[s.jsx("span",{className:"obras-stat-label",children:"Saldo Card Vinculado"}),s.jsx("span",{className:"obras-stat-value positive",children:ft(Xe.saldo_atual)})]}),s.jsxs("div",{className:"obras-stat-item",children:[s.jsx("span",{className:"obras-stat-label",children:"Gasto Card (Usurio)"}),s.jsx("span",{className:"obras-stat-value negative",children:ft(Xe.total_gasto)})]})]})]}),!be.finalizada&&r&&s.jsxs("button",{className:"obras-btn obras-btn-pagamento",onClick:()=>{C(be),v(!0)},children:[s.jsx(sr,{className:"h-4 w-4"}),"Registrar Pagamento"]}),Xe&&n&&!be.finalizada&&s.jsxs("button",{className:"obras-btn obras-btn-transfer",onClick:()=>{M({obra:be,card:Xe}),ae(""),F(!0)},children:[s.jsx(uh,{className:"h-4 w-4"}),"Enviar Verba"]}),s.jsxs("div",{className:"obras-gastos-section",children:[s.jsxs("div",{className:"obras-gastos-header",children:[s.jsxs("span",{className:"obras-gastos-title",children:["Gastos (",be.gastos.length,")"]}),be.gastos.length>0&&s.jsx("span",{className:"obras-gastos-total",children:ft(Be)})]}),Array.isArray(be.gastos)&&be.gastos.length>0?s.jsx("div",{className:"obras-gastos-list",children:be.gastos.map(Me=>s.jsxs("div",{className:"obras-gasto-item",children:[s.jsxs("div",{className:"obras-gasto-info",children:[s.jsx("div",{className:"obras-gasto-categoria",children:Me.categoria}),s.jsx("div",{className:"obras-gasto-descricao",children:Me.descricao})]}),s.jsxs("div",{className:"obras-gasto-actions",children:[s.jsx("span",{className:"obras-gasto-valor",children:ft(Me.valor)}),t&&!be.finalizada&&s.jsx("button",{className:"obras-btn-icon edit",onClick:()=>Fe(be.id,Me),title:"Editar gasto",children:s.jsx(tc,{className:"h-3 w-3"})}),e&&!be.finalizada&&s.jsx("button",{className:"obras-btn-icon delete",onClick:()=>de(be.id,Me.id),title:"Excluir gasto",children:s.jsx(zn,{className:"h-3 w-3"})})]})]},Me.id))}):s.jsx("div",{className:"obras-empty-gastos",children:"Nenhum gasto registrado"}),r&&!be.finalizada&&s.jsxs("button",{className:"obras-btn obras-btn-add-gasto",onClick:()=>{x(be.id),T(null),Q({categoria:"",descricao:"",valor:""}),g(!0)},children:[s.jsx(vn,{className:"h-4 w-4"}),"Adicionar Gasto"]})]})]},be.id)},V=()=>{const be=[...gt,...we],oe=be.length;we.length;const Be=be.reduce((Qe,at)=>Qe+at.orcamento,0),ct=be.reduce((Qe,at)=>Qe+at.gastos.reduce((ne,dt)=>ne+dt.valor,0),0),ot=be.reduce((Qe,at)=>Qe+(at.valor_recebido||0),0),rt=we.reduce((Qe,at)=>Qe+(at.lucro||0),0),Xe=we.length>0?rt/we.length:0,Me=oe>0?ct/oe:0,Ge=oe>0?Be/oe:0,xt=Ge>0?Xe/Ge*100:0;gt.length;const lt=oe>0?we.length/oe*100:0,mt=gt.reduce((Qe,at)=>{const ne=at.gastos.reduce((dt,Tt)=>dt+Tt.valor,0);return Qe+(at.orcamento-ne)},0);be.slice(0,10).map(Qe=>({nome:Qe.nome.length>15?Qe.nome.substring(0,15)+"...":Qe.nome,gastos:Qe.gastos.reduce((at,ne)=>at+ne.valor,0),orcamento:Qe.orcamento,lucro:Qe.orcamento-Qe.gastos.reduce((at,ne)=>at+ne.valor,0)}));const St=[...we].sort((Qe,at)=>(at.lucro||0)-(Qe.lucro||0)).slice(0,5),Ze=[...be].map(Qe=>({...Qe,totalGastos:Qe.gastos.reduce((at,ne)=>at+ne.valor,0)})).sort((Qe,at)=>at.totalGastos-Qe.totalGastos).slice(0,5),pt=["Material","Combustvel","Alimentao","Funcionrio","Frete"].map(Qe=>{const at=be.reduce((dt,Tt)=>{const Kt=Tt.gastos.filter(dr=>dr.categoria===Qe).reduce((dr,yt)=>dr+yt.valor,0);return dt+Kt},0),ne=be.reduce((dt,Tt)=>dt+Tt.gastos.filter(Kt=>Kt.categoria===Qe).length,0);return{categoria:Qe,total:at,quantidade:ne,percentual:ct>0?at/ct*100:0}}).sort((Qe,at)=>at.total-Qe.total),ar={Material:"",Combustvel:"",Alimentao:"",Funcionrio:"",Frete:""},nr={Material:"#60a5fa",Combustvel:"#f59e0b",Alimentao:"#34d399",Funcionrio:"#a78bfa",Frete:"#f87171"};return s.jsxs("div",{className:"analytics-container",children:[s.jsxs("div",{className:"analytics-metrics-grid",children:[s.jsxs("div",{className:"metric-card metric-primary",children:[s.jsx("div",{className:"metric-icon",children:""}),s.jsxs("div",{className:"metric-content",children:[s.jsx("span",{className:"metric-label",children:"Lucro Total"}),s.jsx("span",{className:"metric-value",children:ft(rt)}),s.jsxs("span",{className:"metric-subtitle",children:[we.length," obras finalizadas"]})]})]}),s.jsxs("div",{className:"metric-card metric-success",children:[s.jsx("div",{className:"metric-icon",children:""}),s.jsxs("div",{className:"metric-content",children:[s.jsx("span",{className:"metric-label",children:"Lucro Mdio/Obra"}),s.jsx("span",{className:"metric-value",children:ft(Xe)}),s.jsxs("span",{className:"metric-subtitle",children:["Margem: ",xt.toFixed(1),"%"]})]})]}),s.jsxs("div",{className:"metric-card metric-warning",children:[s.jsx("div",{className:"metric-icon",children:""}),s.jsxs("div",{className:"metric-content",children:[s.jsx("span",{className:"metric-label",children:"Lucro Projetado (Ativas)"}),s.jsx("span",{className:"metric-value",children:ft(mt)}),s.jsxs("span",{className:"metric-subtitle",children:[gt.length," obras em andamento"]})]})]}),s.jsxs("div",{className:"metric-card metric-info",children:[s.jsx("div",{className:"metric-icon",children:""}),s.jsxs("div",{className:"metric-content",children:[s.jsx("span",{className:"metric-label",children:"Taxa de Concluso"}),s.jsxs("span",{className:"metric-value",children:[lt.toFixed(1),"%"]}),s.jsxs("span",{className:"metric-subtitle",children:[we.length,"/",oe," concludas"]})]})]})]}),s.jsxs("div",{className:"analytics-charts-grid",children:[s.jsxs("div",{className:"analytics-card",children:[s.jsxs("h3",{className:"analytics-card-title",children:[s.jsx("span",{children:""}),"Top 5 Obras Mais Lucrativas"]}),s.jsx("div",{className:"ranking-list",children:St.length>0?St.map((Qe,at)=>s.jsxs("div",{className:"ranking-item",children:[s.jsx("div",{className:"ranking-position",children:at+1}),s.jsxs("div",{className:"ranking-info",children:[s.jsx("span",{className:"ranking-name",children:Qe.nome}),s.jsxs("span",{className:"ranking-subtitle",children:["Lucro: ",ft(Qe.lucro||0)]})]}),s.jsxs("div",{className:"ranking-value positive",children:[((Qe.lucro||0)/Qe.orcamento*100).toFixed(1),"%"]})]},Qe.id)):s.jsx("div",{className:"analytics-empty",children:"Finalize obras para ver o ranking"})})]}),s.jsxs("div",{className:"analytics-card",children:[s.jsxs("h3",{className:"analytics-card-title",children:[s.jsx("span",{children:""}),"Top 5 Obras com Mais Gastos"]}),s.jsx("div",{className:"ranking-list",children:Ze.length>0?Ze.map((Qe,at)=>s.jsxs("div",{className:"ranking-item",children:[s.jsx("div",{className:"ranking-position danger",children:at+1}),s.jsxs("div",{className:"ranking-info",children:[s.jsx("span",{className:"ranking-name",children:Qe.nome}),s.jsxs("span",{className:"ranking-subtitle",children:[Qe.gastos.length," gastos registrados"]})]}),s.jsx("div",{className:"ranking-value negative",children:ft(Qe.totalGastos)})]},Qe.id)):s.jsx("div",{className:"analytics-empty",children:"Nenhum gasto registrado ainda"})})]}),s.jsxs("div",{className:"analytics-card full-width",children:[s.jsxs("h3",{className:"analytics-card-title",children:[s.jsx("span",{children:""}),"Resumo Financeiro Geral"]}),s.jsxs("div",{className:"financial-summary",children:[s.jsxs("div",{className:"summary-item",children:[s.jsx("div",{className:"summary-bar",children:s.jsx("div",{className:"summary-bar-fill orcamento",style:{width:"100%"}})}),s.jsxs("div",{className:"summary-info",children:[s.jsx("span",{className:"summary-label",children:"Total Orado"}),s.jsx("span",{className:"summary-value",children:ft(Be)})]})]}),s.jsxs("div",{className:"summary-item",children:[s.jsx("div",{className:"summary-bar",children:s.jsx("div",{className:"summary-bar-fill recebido",style:{width:`${Be>0?ot/Be*100:0}%`}})}),s.jsxs("div",{className:"summary-info",children:[s.jsx("span",{className:"summary-label",children:"Total Recebido"}),s.jsx("span",{className:"summary-value positive",children:ft(ot)})]})]}),s.jsxs("div",{className:"summary-item",children:[s.jsx("div",{className:"summary-bar",children:s.jsx("div",{className:"summary-bar-fill gasto",style:{width:`${Be>0?ct/Be*100:0}%`}})}),s.jsxs("div",{className:"summary-info",children:[s.jsx("span",{className:"summary-label",children:"Total em Gastos"}),s.jsx("span",{className:"summary-value negative",children:ft(ct)})]})]})]})]}),s.jsxs("div",{className:"analytics-card full-width categoria-card",children:[s.jsxs("h3",{className:"analytics-card-title",children:[s.jsx("span",{children:""}),"Distribuio de Gastos por Categoria"]}),s.jsx("div",{className:"categorias-grid",children:pt.map((Qe,at)=>s.jsxs("div",{className:"categoria-item",style:{animationDelay:`${at*.1}s`,borderColor:`${nr[Qe.categoria]}40`},children:[s.jsxs("div",{className:"categoria-header",children:[s.jsx("div",{className:"categoria-icon",style:{background:`${nr[Qe.categoria]}20`},children:s.jsx("span",{style:{fontSize:"2rem"},children:ar[Qe.categoria]})}),s.jsxs("div",{className:"categoria-info",children:[s.jsx("h4",{className:"categoria-nome",style:{color:nr[Qe.categoria]},children:Qe.categoria}),s.jsxs("span",{className:"categoria-quantidade",children:[Qe.quantidade," ",Qe.quantidade===1?"gasto":"gastos"]})]})]}),s.jsxs("div",{className:"categoria-valor-container",children:[s.jsx("span",{className:"categoria-valor",style:{color:nr[Qe.categoria]},children:ft(Qe.total)}),s.jsxs("span",{className:"categoria-percentual",children:[Qe.percentual.toFixed(1),"% do total"]})]}),s.jsx("div",{className:"categoria-progress",children:s.jsx("div",{className:"categoria-progress-fill",style:{width:`${Qe.percentual}%`,background:`linear-gradient(90deg, ${nr[Qe.categoria]}80, ${nr[Qe.categoria]})`}})}),Qe.total>0&&s.jsxs("div",{className:"categoria-stats",children:[s.jsxs("div",{className:"categoria-stat",children:[s.jsx("span",{className:"stat-label",children:"Mdia/Gasto"}),s.jsx("span",{className:"stat-value",children:ft(Qe.quantidade>0?Qe.total/Qe.quantidade:0)})]}),s.jsxs("div",{className:"categoria-stat",children:[s.jsx("span",{className:"stat-label",children:"Participao"}),s.jsxs("span",{className:"stat-value",style:{color:nr[Qe.categoria]},children:[Qe.percentual.toFixed(0),"%"]})]})]})]},Qe.categoria))}),ct===0&&s.jsx("div",{className:"analytics-empty",children:"Nenhum gasto registrado ainda. Adicione gastos s obras para ver a distribuio por categoria."})]}),s.jsxs("div",{className:"analytics-card insights-card full-width",children:[s.jsxs("h3",{className:"analytics-card-title",children:[s.jsx("span",{children:""}),"Insights & Previses Inteligentes"]}),s.jsxs("div",{className:"insights-grid",children:[s.jsxs("div",{className:"insight-item",children:[s.jsx("div",{className:"insight-icon",children:""}),s.jsxs("div",{className:"insight-content",children:[s.jsx("h4",{children:"Preo Ideal Sugerido"}),s.jsxs("p",{children:["Com base no gasto mdio de ",s.jsx("strong",{children:ft(Me)})," por obra, sugere-se orar em mdia ",s.jsx("strong",{children:ft(Me*1.5)})," para manter uma margem de lucro saudvel de 50%."]})]})]}),s.jsxs("div",{className:"insight-item",children:[s.jsx("div",{className:"insight-icon",children:""}),s.jsxs("div",{className:"insight-content",children:[s.jsx("h4",{children:"Performance Atual"}),s.jsx("p",{children:xt>=40?s.jsxs(s.Fragment,{children:["Excelente! Sua margem mdia de ",s.jsxs("strong",{children:[xt.toFixed(1),"%"]})," est acima do ideal."]}):xt>=25?s.jsxs(s.Fragment,{children:["Bom trabalho! Margem de ",s.jsxs("strong",{children:[xt.toFixed(1),"%"]}),"  saudvel para o setor."]}):s.jsxs(s.Fragment,{children:["Ateno! Margem de ",s.jsxs("strong",{children:[xt.toFixed(1),"%"]})," pode ser melhorada. Revise seus custos ou reajuste preos."]})})]})]}),s.jsxs("div",{className:"insight-item",children:[s.jsx("div",{className:"insight-icon",children:""}),s.jsxs("div",{className:"insight-content",children:[s.jsx("h4",{children:"Meta de Faturamento"}),s.jsxs("p",{children:["Se concluir todas as obras ativas, o faturamento projetado  de"," ",s.jsx("strong",{children:ft(ot+mt)}),", com lucro adicional estimado em ",s.jsx("strong",{children:ft(mt)}),"."]})]})]}),s.jsxs("div",{className:"insight-item",children:[s.jsx("div",{className:"insight-icon",children:""}),s.jsxs("div",{className:"insight-content",children:[s.jsx("h4",{children:"Eficincia Operacional"}),s.jsx("p",{children:oe>0&&s.jsxs(s.Fragment,{children:["Voc est gerenciando ",s.jsxs("strong",{children:[oe," obras"]})," com um ticket mdio de ",s.jsx("strong",{children:ft(Ge)}),".",lt>=50?" tima taxa de concluso!":" Foque em finalizar mais obras!"]})})]})]}),s.jsxs("div",{className:"insight-item",children:[s.jsx("div",{className:"insight-icon",children:""}),s.jsxs("div",{className:"insight-content",children:[s.jsx("h4",{children:"Anlise de Categorias"}),s.jsx("p",{children:pt.length>0&&pt[0].total>0?s.jsxs(s.Fragment,{children:["Sua categoria com maior gasto  ",s.jsx("strong",{children:pt[0].categoria})," (",pt[0].percentual.toFixed(1),"% do total).",pt[0].percentual>40?s.jsx(s.Fragment,{children:" Considere negociar melhores preos ou buscar fornecedores alternativos para reduzir custos."}):s.jsx(s.Fragment,{children:" Boa distribuio de gastos entre as categorias!"})]}):s.jsx(s.Fragment,{children:"Registre gastos categorizados para obter insights sobre onde seu dinheiro est sendo investido."})})]})]})]})]})]})]})};return c?s.jsx("div",{className:"obras-container",children:s.jsx("div",{style:{textAlign:"center",padding:"3rem",color:"#94a3b8"},children:"Carregando obras..."})}):s.jsxs("div",{className:"obras-container",children:[s.jsxs("div",{className:"obras-header",children:[s.jsxs("div",{className:"obras-header-content",children:[s.jsx("h1",{children:"Obras"}),s.jsx("p",{children:"Gerenciamento de obras e seus gastos"})]}),s.jsx("div",{className:"obras-header-actions",children:r&&s.jsxs(gn,{open:d,onOpenChange:h,children:[s.jsx(ec,{asChild:!0,children:s.jsxs("button",{className:"obras-btn obras-btn-primary",children:[s.jsx(vn,{className:"h-4 w-4"}),"Nova Obra"]})}),s.jsxs(nn,{className:"obras-dialog-content","aria-describedby":"dialog-description-obra",children:[s.jsxs(Ss,{children:[s.jsx(Es,{className:"obras-dialog-title",children:"Nova Obra"}),s.jsx(Jl,{className:"obras-dialog-description",id:"dialog-description-obra",children:"Preencha os dados para cadastrar uma nova obra."})]}),s.jsxs("form",{onSubmit:He,className:"obras-form",children:[s.jsxs("div",{className:"obras-form-field",children:[s.jsx("label",{children:"Nome da Obra"}),s.jsx("input",{value:R.nome,onChange:be=>H({...R,nome:be.target.value}),required:!0})]}),s.jsxs("div",{className:"obras-form-field",children:[s.jsx("label",{children:"Oramento Inicial"}),s.jsx("input",{type:"number",step:"0.01",value:R.orcamento,onChange:be=>H({...R,orcamento:be.target.value}),required:!0})]}),s.jsx("button",{type:"submit",className:"obras-btn obras-btn-primary",children:"Criar Obra"})]})]})]})})]}),s.jsx("div",{className:"obras-tabs",children:s.jsxs(o0,{defaultValue:"ativas",className:"w-full",children:[s.jsxs(i0,{children:[s.jsx(el,{value:"ativas",children:"Obras Ativas"}),s.jsx(el,{value:"finalizadas",children:"Obras Finalizadas"}),s.jsx(el,{value:"analytics",children:" Analytics"})]}),s.jsx(tl,{value:"ativas",children:gt.length>0?s.jsx("div",{className:"obras-grid",children:gt.map((be,oe)=>Je(be,oe))}):s.jsx("div",{className:"obras-empty-state",children:"Nenhuma obra ativa"})}),s.jsx(tl,{value:"finalizadas",children:we.length>0?s.jsx("div",{className:"obras-grid",children:we.map((be,oe)=>Je(be,oe))}):s.jsx("div",{className:"obras-empty-state",children:"Nenhuma obra finalizada"})}),s.jsx(tl,{value:"analytics",children:V()})]})}),s.jsx(gn,{open:z,onOpenChange:be=>{F(be),be||(M(null),ae(""))},children:s.jsxs(nn,{className:"obras-dialog-content","aria-describedby":"dialog-description-verba",children:[s.jsxs(Ss,{children:[s.jsx(Es,{className:"obras-dialog-title",children:"Enviar Verba"}),s.jsx(Jl,{className:"obras-dialog-description",id:"dialog-description-verba",children:"Informe o valor que deseja disponibilizar para o card vinculado. O valor ser debitado do caixa e registrado como gasto da obra."})]}),s.jsxs("form",{onSubmit:De,className:"obras-form",children:[P&&s.jsxs("div",{className:"obras-pagamento-info",children:[s.jsxs("div",{className:"obras-info-row",children:[s.jsx("span",{children:"Obra:"}),s.jsx("strong",{children:P.obra.nome})]}),s.jsxs("div",{className:"obras-info-row",children:[s.jsx("span",{children:"Saldo do Card:"}),s.jsx("strong",{className:"positive",children:ft(P.card.saldo_atual)})]}),s.jsxs("div",{className:"obras-info-row",children:[s.jsx("span",{children:"Gasto do Card:"}),s.jsx("strong",{className:"negative",children:ft(P.card.total_gasto)})]})]}),s.jsxs("div",{className:"obras-form-field",children:[s.jsx(Rn,{children:"Valor da Verba"}),s.jsx(lr,{type:"number",step:"0.01",min:"0",value:fe,onChange:be=>ae(be.target.value),required:!0,placeholder:"0,00"})]}),s.jsxs($a,{type:"submit",className:"w-full obras-btn-submit",children:[s.jsx(uh,{className:"h-4 w-4"}),"Confirmar Envio"]})]})]})}),s.jsx(gn,{open:w,onOpenChange:v,children:s.jsxs(nn,{className:"obras-dialog-content","aria-describedby":"dialog-description-pagamento",children:[s.jsxs(Ss,{children:[s.jsx(Es,{className:"obras-dialog-title",children:"Registrar Pagamento Parcial"}),s.jsx(Jl,{className:"obras-dialog-description",id:"dialog-description-pagamento",children:"Registre o valor recebido da obra. O pagamento ser lanado como entrada no caixa."})]}),s.jsxs("form",{onSubmit:zt,className:"obras-form",children:[_&&s.jsxs("div",{className:"obras-pagamento-info",children:[s.jsxs("div",{className:"obras-info-row",children:[s.jsx("span",{children:"Obra:"}),s.jsx("strong",{children:_.nome})]}),s.jsxs("div",{className:"obras-info-row",children:[s.jsx("span",{children:"Oramento:"}),s.jsx("strong",{children:ft(_.orcamento)})]}),s.jsxs("div",{className:"obras-info-row",children:[s.jsx("span",{children:"J Recebido:"}),s.jsx("strong",{className:"positive",children:ft(_.valor_recebido||0)})]}),s.jsxs("div",{className:"obras-info-row",children:[s.jsx("span",{children:"Total Gastos:"}),s.jsx("strong",{className:"negative",children:ft(_.gastos.reduce((be,oe)=>be+oe.valor,0))})]}),s.jsxs("div",{className:"obras-info-row highlight",children:[s.jsx("span",{children:"A Receber do Cliente:"}),s.jsx("strong",{className:"warning",children:ft(_.orcamento-(_.valor_recebido||0))})]})]}),s.jsxs("div",{className:"obras-form-field",children:[s.jsx(Rn,{children:"Valor do Pagamento"}),s.jsx(lr,{type:"number",step:"0.01",value:D,onChange:be=>$(be.target.value),required:!0,placeholder:"0,00"})]}),s.jsxs($a,{type:"submit",className:"w-full obras-btn-submit",children:[s.jsx(sr,{className:"h-4 w-4"}),"Registrar Pagamento"]})]})]})}),s.jsx(gn,{open:se,onOpenChange:q,children:s.jsxs(nn,{className:"obras-dialog-content obras-dialog-finalizacao","aria-describedby":"dialog-description-finalizacao",children:[s.jsxs(Ss,{children:[s.jsxs(Es,{className:"obras-dialog-title",children:[s.jsx(Mn,{className:"h-5 w-5"}),"Finalizar Obra"]}),s.jsx(Jl,{className:"obras-dialog-description",id:"dialog-description-finalizacao",children:"Informe o valor restante que foi recebido para finalizar a obra. O valor ser lanado no caixa e a obra ser marcada como concluda."})]}),s.jsxs("form",{onSubmit:bt,className:"obras-form",children:[me&&s.jsxs("div",{className:"obras-finalizacao-info",children:[s.jsxs("div",{className:"obras-info-section",children:[s.jsx("h4",{children:"Resumo da Obra"}),s.jsxs("div",{className:"obras-info-row",children:[s.jsx("span",{children:"Nome da Obra:"}),s.jsx("strong",{children:me.nome})]}),s.jsxs("div",{className:"obras-info-row",children:[s.jsx("span",{children:"Oramento Total:"}),s.jsx("strong",{children:ft(me.orcamento)})]}),s.jsxs("div",{className:"obras-info-row",children:[s.jsx("span",{children:"Total em Gastos:"}),s.jsx("strong",{className:"negative",children:ft(me.gastos.reduce((be,oe)=>be+oe.valor,0))})]}),s.jsxs("div",{className:"obras-info-row",children:[s.jsx("span",{children:"J Recebido:"}),s.jsx("strong",{className:"positive",children:ft(me.valor_recebido||0)})]}),s.jsxs("div",{className:"obras-info-row highlight",children:[s.jsx("span",{children:"A Receber do Cliente:"}),s.jsx("strong",{className:"warning",children:ft(me.orcamento-(me.valor_recebido||0))})]})]}),s.jsxs("div",{className:"obras-info-section lucro-projetado",children:[s.jsx("h4",{children:"Lucro Projetado ao Finalizar"}),s.jsx("div",{className:"obras-lucro-display",children:ft((me.valor_recebido||0)+parseFloat(te.replace(",",".")||"0")-me.gastos.reduce((be,oe)=>be+oe.valor,0))}),s.jsx("p",{className:"obras-lucro-hint",children:"Este  o lucro final considerando o valor restante informado abaixo"})]})]}),s.jsxs("div",{className:"obras-form-field",children:[s.jsx(Rn,{children:"Valor Restante Recebido"}),s.jsx(lr,{type:"number",step:"0.01",value:te,onChange:be=>I(be.target.value),placeholder:"0,00",required:!0}),s.jsx("span",{className:"field-hint",children:"Informe 0 se j recebeu todo o pagamento da obra"})]}),s.jsxs("div",{className:"obras-form-actions",children:[s.jsx($a,{type:"button",variant:"outline",onClick:()=>{q(!1),I("")},className:"obras-btn-cancel",children:"Cancelar"}),s.jsxs($a,{type:"submit",className:"obras-btn-submit obras-btn-finalize",children:[s.jsx(Mn,{className:"h-4 w-4"}),"Finalizar Obra"]})]})]})]})}),s.jsx(gn,{open:p,onOpenChange:be=>{g(be),be||(T(null),Q({categoria:"",descricao:"",valor:""}))},children:s.jsxs(nn,{className:"obras-dialog-content","aria-describedby":"dialog-description-gasto",children:[s.jsxs(Ss,{children:[s.jsx(Es,{className:"obras-dialog-title",children:L?"Editar Gasto":"Adicionar Gasto"}),s.jsx(Jl,{className:"obras-dialog-description",id:"dialog-description-gasto",children:"Preencha os dados para cadastrar ou editar um gasto de obra."})]}),s.jsxs("form",{onSubmit:tt,className:"obras-form",children:[s.jsxs("div",{className:"obras-form-field",children:[s.jsx("label",{children:"Categoria do Gasto"}),s.jsxs("select",{value:J.categoria,onChange:be=>Q({...J,categoria:be.target.value}),required:!0,className:"obras-select",children:[s.jsx("option",{value:"",children:"Selecione uma categoria"}),s.jsx("option",{value:"Material",children:" Material"}),s.jsx("option",{value:"Combustvel",children:" Combustvel"}),s.jsx("option",{value:"Alimentao",children:" Alimentao"}),s.jsx("option",{value:"Funcionrio",children:" Funcionrio"}),s.jsx("option",{value:"Frete",children:" Frete"})]})]}),s.jsxs("div",{className:"obras-form-field",children:[s.jsx("label",{children:"Descrio"}),s.jsx("input",{value:J.descricao,onChange:be=>Q({...J,descricao:be.target.value}),required:!0})]}),s.jsxs("div",{className:"obras-form-field",children:[s.jsx("label",{children:"Valor"}),s.jsx("input",{type:"number",step:"0.01",value:J.valor,onChange:be=>Q({...J,valor:be.target.value}),required:!0})]}),s.jsx("button",{type:"submit",className:"obras-btn obras-btn-primary",children:L?"Salvar Alteraes":"Adicionar Gasto"})]})]})}),s.jsx(gn,{open:!!ue,onOpenChange:be=>{be||(ge(null),xe(null))},children:s.jsxs(nn,{className:"obras-dialog-content obras-dialog-delete","aria-describedby":"dialog-description-delete-obra",children:[s.jsxs(Ss,{children:[s.jsxs(Es,{className:"obras-dialog-title delete-title",children:[s.jsx(zn,{className:"h-5 w-5"}),"Confirmar Excluso de Obra"]}),s.jsx(Jl,{className:"obras-dialog-description",id:"dialog-description-delete-obra",children:"Esta ao no pode ser desfeita. Todos os gastos associados a esta obra tambm sero removidos."})]}),s.jsxs("div",{className:"obras-delete-content",children:[le&&s.jsxs("div",{className:"obras-delete-info",children:[s.jsxs("div",{className:"obras-info-row",children:[s.jsx("span",{children:"Obra:"}),s.jsx("strong",{children:le.nome})]}),s.jsxs("div",{className:"obras-info-row",children:[s.jsx("span",{children:"Oramento:"}),s.jsx("strong",{children:ft(le.orcamento)})]}),s.jsxs("div",{className:"obras-info-row",children:[s.jsx("span",{children:"Gastos:"}),s.jsxs("strong",{children:[le.gastos.length," registro(s)"]})]})]}),s.jsx("div",{className:"obras-delete-warning",children:" Tem certeza que deseja excluir esta obra permanentemente?"}),s.jsxs("div",{className:"obras-form-actions",children:[s.jsx($a,{type:"button",variant:"outline",onClick:()=>{ge(null),xe(null)},className:"obras-btn-cancel",children:"Cancelar"}),s.jsxs($a,{type:"button",onClick:ke,className:"obras-btn-delete",children:[s.jsx(zn,{className:"h-4 w-4"}),"Sim, Excluir Obra"]})]})]})]})})]})}const MT=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),zT=async(t,e)=>{try{if(MT()){const r=t.output("blob"),n=new File([r],e,{type:"application/pdf"});if(navigator.share)try{await navigator.share({files:[n],title:"Extrato do Caixa",text:"Extrato financeiro gerado pelo sistema PEPERAIO"}),pe.success("PDF compartilhado com sucesso!")}catch(a){a.name!=="AbortError"&&(console.error("Erro ao compartilhar:",a),pe.error("Erro ao compartilhar PDF"))}else{const a=URL.createObjectURL(r);window.open(a,"_blank"),pe.info("PDF aberto em nova aba"),setTimeout(()=>URL.revokeObjectURL(a),6e4)}}else t.save(e),pe.success("PDF exportado com sucesso!")}catch(r){console.error("Erro ao exportar PDF:",r),pe.error("Erro ao exportar PDF. Tente novamente.")}},jg=10;function BT(){const{canCreate:t,canDelete:e}=ui(),[r,n]=k.useState([]),[a,i]=k.useState([]),[c,u]=k.useState([]),[d,h]=k.useState(!1),[p,g]=k.useState(!1),[w,v]=k.useState(!1),[S,x]=k.useState({isOpen:!1,id:null}),[_,C]=k.useState("data"),[L,T]=k.useState(""),[R,H]=k.useState(""),[J,Q]=k.useState(1),[D,$]=k.useState(0),[G,z]=k.useState(0),[F,P]=k.useState({valor:"",origem:"",data:new Date().toISOString().split("T")[0],observacao:"",categoria:""}),[M,fe]=k.useState({valor:"",origem:"",data:new Date().toISOString().split("T")[0],observacao:"",categoria:""}),[ae,se]=k.useState({nome:"",tipo:"ambos"});k.useEffect(()=>{Ne(),me(),q(),te()},[]);const q=async()=>{const{data:V}=await Pe.from("recebiveis").select("*"),oe=(V||[]).reduce((rt,Xe)=>rt+(Number(Xe.valor_total)||0)-(Number(Xe.valor_pago)||0),0);$(oe);const{data:Be}=await Pe.from("dividas").select("*"),ot=(Be||[]).filter(rt=>rt.status!=="quitado").reduce((rt,Xe)=>rt+(Xe.valorRestante??Xe.valor??0),0);z(ot)},me=()=>{Pe.from("categorias").select("*").then(({data:V,error:be})=>{!be&&V?u(V):pe.error("Erro ao buscar categorias!")})},Ne=()=>{Pe.from("transacoes").select("*").order("data",{ascending:!1}).order("created_at",{ascending:!1}).then(({data:V,error:be})=>{!be&&V?n(V):pe.error("Erro ao buscar transaes!")})},te=()=>{Pe.from("transacoes_excluidas").select("*").order("data_exclusao",{ascending:!1}).then(({data:V,error:be})=>{!be&&V&&i(V)})},I=V=>{V.preventDefault(),t&&(async()=>{const{error:be}=await Pe.from("transacoes").insert({tipo:"entrada",valor:parseFloat(F.valor),origem:F.origem,data:F.data,observacao:F.observacao,categoria:F.categoria});be?pe.error("Erro ao registrar entrada!"):(Ne(),pe.success("Entrada registrada com sucesso!"),P({valor:"",origem:"",data:new Date().toISOString().split("T")[0],observacao:"",categoria:""}),h(!1),Q(1))})()},Y=V=>{V.preventDefault(),t&&(async()=>{const{error:be}=await Pe.from("transacoes").insert({tipo:"saida",valor:parseFloat(M.valor),origem:M.origem,data:M.data,observacao:M.observacao,categoria:M.categoria});be?pe.error("Erro ao registrar sada!"):(Ne(),pe.success("Sada registrada com sucesso!"),fe({valor:"",origem:"",data:new Date().toISOString().split("T")[0],observacao:"",categoria:""}),g(!1),Q(1))})()},Z=V=>{V.preventDefault(),t&&(async()=>{const{error:be}=await Pe.from("categorias").insert({nome:ae.nome,tipo:ae.tipo});be?pe.error("Erro ao criar categoria!"):(me(),pe.success("Categoria criada com sucesso!"),se({nome:"",tipo:"ambos"}),v(!1))})()},ue=V=>{e&&(async()=>{const{error:be}=await Pe.from("categorias").delete().eq("id",V);be?pe.error("Erro ao remover categoria!"):(me(),pe.success("Categoria removida com sucesso!"))})()},ge=()=>r.reduce((V,be)=>be.tipo==="entrada"?V+be.valor:V-be.valor,0),le=()=>r.filter(V=>V.tipo==="entrada").reduce((V,be)=>V+be.valor,0),xe=()=>r.filter(V=>V.tipo==="saida").reduce((V,be)=>V+be.valor,0),ye=V=>{let be=r;if(V&&(be=be.filter(oe=>oe.tipo===V)),_==="data"&&L)be=be.filter(oe=>oe.data>=L);else if(_==="mes"&&R){const[oe,Be]=R.split("-");be=be.filter(ct=>{const ot=new Date(ct.data);return ot.getFullYear()===parseInt(oe)&&ot.getMonth()+1===parseInt(Be)})}return be.sort((oe,Be)=>new Date(Be.data).getTime()-new Date(oe.data).getTime())},ke=V=>{const be=(J-1)*jg,oe=be+jg;return V.slice(be,oe)};async function De(){const V=new Ft,be=V.internal.pageSize.getWidth(),oe=V.internal.pageSize.getHeight();let Be=we;const ct=document.querySelector('.caixa-tabs-list .caixa-tab-trigger[aria-selected="true"]');if(ct){const Ze=ct.textContent;Ze?.includes("Entradas")?Be=Ve:Ze?.includes("Sadas")?Be=gt:Be=we}if(_==="data"&&L)Be=Be.filter(Ze=>Ze.data===L);else if(_==="mes"&&R){const[Ze,Bt]=R.split("-");Be=Be.filter(pt=>{const ar=new Date(pt.data);return ar.getFullYear()===parseInt(Ze)&&ar.getMonth()+1===parseInt(Bt)})}const ot=Be.filter(Ze=>Ze.tipo==="entrada").reduce((Ze,Bt)=>Ze+Bt.valor,0),rt=Be.filter(Ze=>Ze.tipo==="saida").reduce((Ze,Bt)=>Ze+Bt.valor,0),Xe=ot-rt;V.setFillColor(15,23,42),V.rect(0,0,be,oe,"F"),V.setFillColor(7,16,41),V.rect(0,0,210,35,"F"),V.setFillColor(96,165,250),V.rect(0,0,210,3,"F"),V.setFontSize(24),V.setFont("helvetica","bold"),V.setTextColor(230,238,248),V.text("PEPERAIO",105,15,{align:"center"}),V.setFontSize(16),V.setFont("helvetica","normal"),V.text("Comunicao Visual",105,23,{align:"center"}),V.setFontSize(10),V.setTextColor(148,163,184),V.text("EXTRATO DO CAIXA",105,30,{align:"center"});let Me=45;V.setFillColor(21,26,46),V.setDrawColor(35,42,69),V.setLineWidth(.5),V.roundedRect(15,Me,180,50,3,3,"FD"),Me+=8,V.setFontSize(14),V.setFont("helvetica","bold"),V.setTextColor(96,165,250),V.text("Movimentaes Financeiras",20,Me),Me+=7,V.setFontSize(9),V.setFont("helvetica","normal"),V.setTextColor(148,163,184),V.text(`Data de Gerao: ${new Date().toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"})} s ${new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}`,20,Me),Me+=10;const Ge=54,xt=22,lt=6;V.setFillColor(21,26,46),V.setDrawColor(52,211,153),V.setLineWidth(1),V.roundedRect(20,Me,Ge,xt,2,2,"FD"),V.setFontSize(8),V.setTextColor(52,211,153),V.text("TOTAL ENTRADAS",22,Me+5),V.setFontSize(12),V.setFont("helvetica","bold"),V.setTextColor(52,211,153),V.text(ft(ot),22,Me+12),V.setFontSize(7),V.setFont("helvetica","normal"),V.setTextColor(148,163,184),V.text(`${Be.filter(Ze=>Ze.tipo==="entrada").length} lanamento(s)`,22,Me+18),V.setFillColor(21,26,46),V.setDrawColor(248,113,113),V.roundedRect(20+Ge+lt,Me,Ge,xt,2,2,"FD"),V.setFontSize(8),V.setTextColor(248,113,113),V.text("TOTAL SADAS",22+Ge+lt,Me+5),V.setFontSize(12),V.setFont("helvetica","bold"),V.setTextColor(248,113,113),V.text(ft(rt),22+Ge+lt,Me+12),V.setFontSize(7),V.setFont("helvetica","normal"),V.setTextColor(148,163,184),V.text(`${Be.filter(Ze=>Ze.tipo==="saida").length} lanamento(s)`,22+Ge+lt,Me+18);const mt=Xe>=0?[52,211,153]:[248,113,113];V.setFillColor(21,26,46),V.setDrawColor(mt[0],mt[1],mt[2]),V.roundedRect(20+(Ge+lt)*2,Me,Ge,xt,2,2,"FD"),V.setFontSize(8),V.setTextColor(mt[0],mt[1],mt[2]),V.text("SALDO FINAL",22+(Ge+lt)*2,Me+5),V.setFontSize(12),V.setFont("helvetica","bold"),V.setTextColor(mt[0],mt[1],mt[2]),V.text(ft(Xe),22+(Ge+lt)*2,Me+12),V.setFontSize(7),V.setFont("helvetica","normal"),V.setTextColor(148,163,184),V.text(Xe>=0?"Saldo positivo":"Saldo negativo",22+(Ge+lt)*2,Me+18),Me+=35,V.setFontSize(11),V.setFont("helvetica","bold"),V.setTextColor(96,165,250),V.text("DETALHAMENTO DAS TRANSAES",20,Me),V.setFontSize(8),V.setFont("helvetica","normal"),V.setTextColor(148,163,184),V.text(`Total de ${Be.length} transao(es)`,120,Me),Me+=7,V.setFillColor(96,165,250),V.rect(15,Me,180,10,"F"),V.setFontSize(9),V.setFont("helvetica","bold"),V.setTextColor(255,255,255),V.text("DATA",18,Me+6),V.text("ORIGEM",38,Me+6),V.text("CATEGORIA",70,Me+6),V.text("TIPO",110,Me+6),V.text("VALOR",170,Me+6),Me+=10,(Be||[]).forEach((Ze,Bt)=>{Me>260&&(V.addPage(),V.setFillColor(15,23,42),V.rect(0,0,be,oe,"F"),Me=20,V.setFillColor(96,165,250),V.rect(15,Me,180,10,"F"),V.setFontSize(8),V.setFont("helvetica","normal"),V.setTextColor(148,163,184),V.text(`Total de ${Be.length} transao(es)`,120,Me),V.text("ORIGEM",38,Me+6),V.text("CATEGORIA",70,Me+6),V.text("TIPO",110,Me+6),V.text("VALOR",170,Me+6),Me+=10),Bt%2===0?V.setFillColor(26,31,58):V.setFillColor(21,26,46);const pt=Ze.observacao?16:10;V.rect(15,Me,180,pt,"F"),Ze.tipo==="entrada"?V.setDrawColor(52,211,153):V.setDrawColor(248,113,113),V.setLineWidth(1),V.line(15,Me,15,Me+pt),V.setFontSize(8),V.setFont("helvetica","normal"),V.setTextColor(148,163,184),V.text(new Date(Ze.data.replace(/-/g,"/")).toLocaleDateString("pt-BR"),18,Me+6),V.setTextColor(230,238,248),V.setFont("helvetica","normal");const ar=Ze.origem||"",nr=ar.length>15?ar.substring(0,12)+"...":ar;V.text(nr,38,Me+6),V.setTextColor(167,139,250),V.setFont("helvetica","bold");const Qe=Ze.categoria||"",at=Qe.length>18?Qe.substring(0,15)+"...":Qe;if(V.text(at,70,Me+6),Ze.tipo==="entrada"?(V.setTextColor(52,211,153),V.text("Entrada",110,Me+6)):(V.setTextColor(248,113,113),V.text("Sada",110,Me+6)),V.setFont("helvetica","bold"),V.text((Ze.tipo==="entrada"?"+":"-")+ft(Ze.valor),190,Me+6,{align:"right"}),Ze.observacao){V.setFontSize(7),V.setFont("helvetica","italic"),V.setTextColor(100,116,139);const ne=Ze.observacao.length>80?Ze.observacao.substring(0,77)+"...":Ze.observacao;V.text(`Obs: ${ne}`,18,Me+12)}Me+=pt}),Me+=2,V.setFillColor(7,16,41),V.rect(15,Me,180,18,"F"),V.setDrawColor(96,165,250),V.setLineWidth(2),V.line(15,Me,195,Me),V.setFontSize(9),V.setFont("helvetica","bold"),V.setTextColor(52,211,153),V.text("ENTRADAS:",18,Me+6),V.setFontSize(10),V.text(ft(ot),55,Me+6),V.setTextColor(248,113,113),V.setFontSize(9),V.text("SADAS:",18,Me+12),V.setFontSize(10),V.text(ft(rt),55,Me+12),V.setFontSize(10),V.setFont("helvetica","bold"),V.setTextColor(230,238,248),V.text("SALDO FINAL:",120,Me+9),V.setFontSize(12),V.setTextColor(mt[0],mt[1],mt[2]),V.text(ft(Xe),190,Me+9,{align:"right"});const St=V.getNumberOfPages();for(let Ze=1;Ze<=St;Ze++)V.setPage(Ze),V.setFillColor(7,16,41),V.rect(0,282,210,15,"F"),V.setFontSize(8),V.setTextColor(148,163,184),V.text("PEPERAIO - Comunicao Visual",105,290,{align:"center"}),V.text(`Pgina ${Ze} de ${St}`,190,290,{align:"right"});await zT(V,"extrato-caixa.pdf")}function He(V){return V.length?s.jsx("div",{className:"caixa-transactions-list",children:ke(V).map(be=>s.jsx("div",{className:`caixa-transaction-card ${be.tipo}`,children:s.jsxs("div",{className:"caixa-transaction-content",children:[s.jsxs("div",{className:"caixa-transaction-info",children:[s.jsx("span",{className:"caixa-transaction-date",children:new Date(be.data.replace(/-/g,"/")).toLocaleDateString("pt-BR")}),s.jsxs("div",{className:"caixa-transaction-details",children:[be.origem," - ",be.categoria]}),s.jsxs("div",{className:`caixa-transaction-value ${be.tipo}`,children:[be.tipo==="entrada"?"+":"-",ft(be.valor)]}),be.observacao&&s.jsx("div",{className:"caixa-transaction-obs",children:be.observacao})]}),e&&s.jsx("div",{className:"caixa-transaction-actions",children:s.jsx("button",{className:"caixa-delete-btn",title:"Excluir lanamento",onClick:()=>tt(be.id),children:s.jsx(zn,{className:"h-5 w-5"})})})]})},be.id))}):s.jsx("div",{className:"caixa-empty-state",children:"Nenhuma transao encontrada."})}function tt(V){e&&x({isOpen:!0,id:V})}async function Fe(){if(!S.id)return;const V=r.find(Be=>Be.id===S.id);if(!V){pe.error("Transao no encontrada!");return}const{error:be}=await Pe.from("transacoes_excluidas").insert({...V,data_exclusao:new Date().toISOString()});be&&console.error("Erro ao salvar no histrico:",be);const{error:oe}=await Pe.from("transacoes").delete().eq("id",S.id);oe?pe.error("Erro ao remover transao!"):(Ne(),te(),pe.success("Transao removida e salva no histrico!")),x({isOpen:!1,id:null})}function de(){x({isOpen:!1,id:null})}async function zt(V){if(!t){pe.error("Voc no tem permisso para restaurar transaes!");return}try{const{data_exclusao:be,excluido_por:oe,...Be}=V,{error:ct}=await Pe.from("transacoes").insert(Be);if(ct){console.error("Erro ao restaurar transao:",ct),pe.error("Erro ao restaurar transao!");return}const{error:ot}=await Pe.from("transacoes_excluidas").delete().eq("id",V.id);ot&&(console.error("Erro ao remover do histrico:",ot),pe.error("Transao restaurada, mas erro ao limpar histrico!")),Ne(),te(),pe.success("Transao restaurada com sucesso!")}catch(be){console.error("Erro ao reverter excluso:",be),pe.error("Erro ao reverter excluso!")}}function wt(V){return Math.max(1,Math.ceil(V.length/jg))}function bt(V){const be=wt(V);return be<=1?null:s.jsxs("div",{className:"caixa-pagination",children:[s.jsx("button",{className:"caixa-pagination-btn",disabled:J===1,onClick:()=>Q(oe=>Math.max(1,oe-1)),children:s.jsx(NE,{className:"h-5 w-5"})}),s.jsxs("span",{className:"caixa-pagination-info",children:["Pgina ",J," de ",be]}),s.jsx("button",{className:"caixa-pagination-btn",disabled:J===be,onClick:()=>Q(oe=>Math.min(be,oe+1)),children:s.jsx(SE,{className:"h-5 w-5"})})]})}const Ve=ye("entrada"),gt=ye("saida"),we=ye();le(),xe();const Je=V=>c.filter(be=>be.tipo===V||be.tipo==="ambos");return s.jsxs("div",{className:"caixa-container",children:[s.jsxs("div",{className:"caixa-summary-grid",children:[s.jsxs("div",{className:"caixa-summary-card saldo",children:[s.jsxs("div",{className:"caixa-summary-header",children:[s.jsx("span",{className:"caixa-summary-label",children:"Saldo do Caixa"}),s.jsx("div",{className:"caixa-summary-icon blue",children:s.jsx(Kc,{})})]}),s.jsx("div",{className:`caixa-summary-value ${ge()<0?"red":""}`,children:ft(ge())})]}),s.jsxs("div",{className:"caixa-summary-card receber",children:[s.jsxs("div",{className:"caixa-summary-header",children:[s.jsx("span",{className:"caixa-summary-label",children:"Total a Receber"}),s.jsx("div",{className:"caixa-summary-icon green",children:s.jsx(al,{})})]}),s.jsx("div",{className:"caixa-summary-value green",children:ft(D)})]}),s.jsxs("div",{className:"caixa-summary-card dividas",children:[s.jsxs("div",{className:"caixa-summary-header",children:[s.jsx("span",{className:"caixa-summary-label",children:"Dvidas Ativas"}),s.jsx("div",{className:"caixa-summary-icon red",children:s.jsx(u2,{})})]}),s.jsx("div",{className:"caixa-summary-value red",children:ft(G)})]})]}),s.jsxs("div",{className:"caixa-header",children:[s.jsxs("div",{className:"caixa-header-content",children:[s.jsx("h1",{children:"Caixa"}),s.jsx("p",{children:"Controle de fluxo financeiro"})]}),s.jsxs("div",{className:"caixa-header-actions",children:[s.jsxs("button",{className:"caixa-btn caixa-btn-outline",onClick:De,children:[s.jsx(_h,{className:"h-4 w-4"}),"Exportar"]}),t&&s.jsxs(s.Fragment,{children:[s.jsxs(gn,{open:d,onOpenChange:h,children:[s.jsx(ec,{asChild:!0,children:s.jsxs("button",{className:"caixa-btn caixa-btn-entrada",children:[s.jsx(vn,{className:"h-4 w-4"}),"Entrada"]})}),s.jsxs(nn,{className:"caixa-dialog-content",children:[s.jsx(Ss,{children:s.jsx(Es,{className:"caixa-dialog-title",children:"Cadastrar Entrada"})}),s.jsxs("form",{onSubmit:I,className:"caixa-form",children:[s.jsxs("div",{className:"caixa-form-field",children:[s.jsx("label",{children:"Valor"}),s.jsx("input",{type:"number",step:"0.01",value:F.valor,onChange:V=>P({...F,valor:V.target.value}),required:!0})]}),s.jsxs("div",{className:"caixa-form-field",children:[s.jsx("label",{children:"Origem"}),s.jsx("input",{value:F.origem,onChange:V=>P({...F,origem:V.target.value}),required:!0})]}),s.jsxs("div",{className:"caixa-form-field",children:[s.jsx("label",{children:"Data"}),s.jsx("input",{type:"date",value:F.data,onChange:V=>P({...F,data:V.target.value}),required:!0})]}),s.jsxs("div",{className:"caixa-form-field",children:[s.jsx("label",{children:"Categoria"}),s.jsxs(rd,{value:F.categoria,onValueChange:V=>P({...F,categoria:V}),required:!0,children:[s.jsx(ad,{children:s.jsx(nd,{placeholder:"Selecione uma categoria"})}),s.jsx(sd,{children:Je("entrada").map(V=>s.jsx(ni,{value:V.nome,children:V.nome},V.id))})]})]}),s.jsxs("div",{className:"caixa-form-field",children:[s.jsx("label",{children:"Observao (opcional)"}),s.jsx("textarea",{value:F.observacao,onChange:V=>P({...F,observacao:V.target.value}),rows:3})]}),s.jsx("button",{type:"submit",className:"caixa-btn caixa-btn-primary",children:"Registrar Entrada"})]})]})]}),s.jsxs(gn,{open:p,onOpenChange:g,children:[s.jsx(ec,{asChild:!0,children:s.jsxs("button",{className:"caixa-btn caixa-btn-saida",children:[s.jsx(u2,{className:"h-4 w-4"}),"Sada"]})}),s.jsxs(nn,{className:"caixa-dialog-content",children:[s.jsx(Ss,{children:s.jsx(Es,{className:"caixa-dialog-title",children:"Cadastrar Sada"})}),s.jsxs("form",{onSubmit:Y,className:"caixa-form",children:[s.jsxs("div",{className:"caixa-form-field",children:[s.jsx("label",{children:"Valor"}),s.jsx("input",{type:"number",step:"0.01",value:M.valor,onChange:V=>fe({...M,valor:V.target.value}),required:!0})]}),s.jsxs("div",{className:"caixa-form-field",children:[s.jsx("label",{children:"Destino"}),s.jsx("input",{value:M.origem,onChange:V=>fe({...M,origem:V.target.value}),required:!0})]}),s.jsxs("div",{className:"caixa-form-field",children:[s.jsx("label",{children:"Data"}),s.jsx("input",{type:"date",value:M.data,onChange:V=>fe({...M,data:V.target.value}),required:!0})]}),s.jsxs("div",{className:"caixa-form-field",children:[s.jsx("label",{children:"Categoria"}),s.jsxs(rd,{value:M.categoria,onValueChange:V=>fe({...M,categoria:V}),required:!0,children:[s.jsx(ad,{children:s.jsx(nd,{placeholder:"Selecione uma categoria"})}),s.jsx(sd,{children:Je("saida").map(V=>s.jsx(ni,{value:V.nome,children:V.nome},V.id))})]})]}),s.jsxs("div",{className:"caixa-form-field",children:[s.jsx("label",{children:"Observao (opcional)"}),s.jsx("textarea",{value:M.observacao,onChange:V=>fe({...M,observacao:V.target.value}),rows:3})]}),s.jsx("button",{type:"submit",className:"caixa-btn caixa-btn-primary",children:"Registrar Sada"})]})]})]}),s.jsxs(gn,{open:w,onOpenChange:v,children:[s.jsx(ec,{asChild:!0,children:s.jsxs("button",{className:"caixa-btn caixa-btn-outline",children:[s.jsx(mC,{className:"h-4 w-4"}),"Categorias"]})}),s.jsxs(nn,{className:"caixa-dialog-content large",children:[s.jsx(Ss,{children:s.jsx(Es,{className:"caixa-dialog-title",children:"Gerenciar Categorias"})}),s.jsxs("div",{children:[s.jsxs("form",{onSubmit:Z,className:"caixa-categoria-form",children:[s.jsx("h3",{children:"Nova Categoria"}),s.jsxs("div",{className:"caixa-categoria-grid",children:[s.jsxs("div",{className:"caixa-form-field",children:[s.jsx("label",{children:"Nome"}),s.jsx("input",{value:ae.nome,onChange:V=>se({...ae,nome:V.target.value}),required:!0})]}),s.jsxs("div",{className:"caixa-form-field",children:[s.jsx("label",{children:"Tipo"}),s.jsxs(rd,{value:ae.tipo,onValueChange:V=>se({...ae,tipo:V}),children:[s.jsx(ad,{children:s.jsx(nd,{})}),s.jsxs(sd,{children:[s.jsx(ni,{value:"entrada",children:"Entrada"}),s.jsx(ni,{value:"saida",children:"Sada"}),s.jsx(ni,{value:"ambos",children:"Ambos"})]})]})]})]}),s.jsx("button",{type:"submit",className:"caixa-btn caixa-btn-primary",children:"Adicionar Categoria"})]}),s.jsx("div",{className:"caixa-categorias-list",children:c.map(V=>s.jsxs("div",{className:"caixa-categoria-item",children:[s.jsxs("div",{className:"caixa-categoria-info",children:[s.jsx("h4",{children:V.nome}),s.jsx("p",{children:V.tipo==="ambos"?"Entrada e Sada":V.tipo==="entrada"?"Entrada":"Sada"})]}),e&&s.jsx("button",{className:"caixa-delete-btn",onClick:()=>ue(V.id),children:s.jsx(zn,{className:"h-4 w-4"})})]},V.id))})]})]})]})]})]})]}),s.jsxs("div",{className:"caixa-filter-card",children:[s.jsxs("div",{className:"caixa-filter-buttons",children:[s.jsx("button",{className:`caixa-btn ${_==="data"?"caixa-btn-primary":"caixa-btn-outline"}`,onClick:()=>{C("data"),H(""),Q(1)},children:"Filtrar por Data"}),s.jsx("button",{className:`caixa-btn ${_==="mes"?"caixa-btn-primary":"caixa-btn-outline"}`,onClick:()=>{C("mes"),T(""),Q(1)},children:"Filtrar por Ms"})]}),s.jsxs("div",{className:"caixa-filter-inputs",children:[_==="data"&&s.jsxs("div",{className:"caixa-filter-field",children:[s.jsx("label",{children:"Filtrar a partir de:"}),s.jsx("input",{type:"date",value:L,onChange:V=>{T(V.target.value),Q(1)}})]}),_==="mes"&&s.jsxs("div",{className:"caixa-filter-field",children:[s.jsx("label",{children:"Selecione o ms:"}),s.jsx("input",{type:"month",value:R,onChange:V=>{H(V.target.value),Q(1)}})]}),(L||R)&&s.jsx("button",{className:"caixa-btn caixa-btn-outline",onClick:()=>{T(""),H(""),Q(1)},children:"Limpar Filtro"})]})]}),s.jsx("div",{className:"caixa-tabs",children:s.jsxs(o0,{defaultValue:"todas",className:"w-full",onValueChange:()=>Q(1),children:[s.jsxs(i0,{className:"caixa-tabs-list",children:[s.jsx(el,{value:"todas",className:"caixa-tab-trigger",children:"Todas"}),s.jsxs(el,{value:"entradas",className:"caixa-tab-trigger",children:["Entradas (",Ve.length,")"]}),s.jsxs(el,{value:"saidas",className:"caixa-tab-trigger",children:["Sadas (",gt.length,")"]}),s.jsxs(el,{value:"historico",className:"caixa-tab-trigger",children:[s.jsx(l2,{size:16}),s.jsxs("span",{children:["Histrico (",a.length,")"]})]})]}),s.jsxs(tl,{value:"todas",className:"space-y-4",children:[He(we),bt(we)]}),s.jsxs(tl,{value:"entradas",className:"space-y-4",children:[He(Ve),bt(Ve)]}),s.jsxs(tl,{value:"saidas",className:"space-y-4",children:[He(gt),bt(gt)]}),s.jsx(tl,{value:"historico",className:"space-y-4",children:s.jsx("div",{className:"caixa-historico",children:a.length===0?s.jsxs("div",{className:"caixa-empty",children:[s.jsx(l2,{size:48,style:{opacity:.3,margin:"0 auto 1rem"}}),s.jsx("p",{children:"Nenhum item excludo ainda"})]}):a.map(V=>s.jsxs("div",{className:"caixa-historico-item",children:[s.jsxs("div",{className:"caixa-historico-header",children:[s.jsxs("span",{className:`caixa-historico-tipo ${V.tipo}`,children:[V.tipo==="entrada"?s.jsx(al,{size:16}):s.jsx(ha,{size:16}),V.tipo.toUpperCase()]}),s.jsxs("span",{className:"caixa-historico-data-exclusao",children:["Excludo em: ",new Date(V.data_exclusao).toLocaleDateString("pt-BR")]})]}),s.jsxs("div",{className:"caixa-historico-content",children:[s.jsxs("div",{children:[s.jsx("strong",{children:V.origem}),V.categoria&&s.jsx("span",{className:"caixa-tag",children:V.categoria}),s.jsx("p",{className:"caixa-historico-obs",children:V.observacao}),s.jsxs("small",{children:["Data original: ",new Date(V.data).toLocaleDateString("pt-BR")]})]}),s.jsx("div",{className:"caixa-historico-valor",children:ft(V.valor)})]}),s.jsx("div",{className:"caixa-historico-actions",children:s.jsxs("button",{className:"caixa-btn-reverter",onClick:()=>zt(V),title:"Restaurar transao",children:[s.jsx(oC,{size:16}),"Reverter"]})})]},V.id))})})]})}),s.jsx(Tx,{isOpen:S.isOpen,title:"Confirmar Excluso",message:"Tem certeza que deseja excluir esta transao? Ela ser movida para o histrico.",onConfirm:Fe,onCancel:de,confirmText:"Sim, excluir",cancelText:"Cancelar"})]})}function UT(){async function t(){const{data:F,error:P}=await Pe.from("recebiveis").select("id, cliente, valor_total, valor_pago, data_criacao");if(P){pe.error("Erro ao buscar recebveis"),i([]);return}const{data:M,error:fe}=await Pe.from("pagamentos_recebivel").select("id, recebivel_id, valor, data");fe&&pe.error("Erro ao buscar pagamentos");const ae=(F||[]).map(se=>({...se,valor_total:typeof se.valor_total=="number"?se.valor_total:Number(se.valor_total)||0,valor_pago:typeof se.valor_pago=="number"?se.valor_pago:Number(se.valor_pago)||0,pagamentos:(M||[]).filter(q=>q.recebivel_id===se.id)}));i(ae)}async function e(){const{data:F,error:P}=await Pe.from("obras").select("id, nome, orcamento, finalizada, gastos_obra(valor)").eq("finalizada",!1);if(P){pe.error("Erro ao buscar obras pendentes"),u([]);return}u(F||[])}const{canCreate:r,canDelete:n}=ui(),[a,i]=k.useState([]),[c,u]=k.useState([]),[d,h]=k.useState(!1),[p,g]=k.useState(!1),[w,v]=k.useState(null),[S,x]=k.useState({cliente:"",valor_total:""}),[_,C]=k.useState("");k.useEffect(()=>{t(),e()},[]);const L=async F=>{if(F.preventDefault(),!r)return;const P={cliente:S.cliente,valor_total:parseFloat(S.valor_total),valor_pago:0,data_criacao:new Date().toISOString().split("T")[0]},{data:M,error:fe}=await Pe.from("recebiveis").insert([P]).select();if(fe){pe.error("Erro ao adicionar recebvel");return}await t(),pe.success("Conta a receber adicionada com sucesso!"),x({cliente:"",valor_total:""}),h(!1)},T=async F=>{if(F.preventDefault(),!r||!w)return;const P=parseFloat(_),M=a.find(me=>me.id===w);if(!M)return;const fe=(M.valor_total||0)-(M.valor_pago||0);if(P>fe){pe.error("Valor excede o montante restante!");return}const ae={recebivel_id:w,valor:P,data:new Date().toISOString().split("T")[0]},{error:se}=await Pe.from("pagamentos_recebivel").insert([ae]);if(se){pe.error("Erro ao registrar pagamento");return}const{error:q}=await Pe.from("recebiveis").update({valor_pago:(M.valor_pago||0)+P}).eq("id",w);if(q){pe.error("Erro ao atualizar recebvel");return}await Pe.from("transacoes").insert({tipo:"entrada",valor:P,origem:`Recebimento - ${M.cliente}`,data:new Date().toISOString().split("T")[0],observacao:"Pagamento parcial de cliente"}),await t(),pe.success("Pagamento registrado com sucesso!"),C(""),g(!1),v(null)},R=async(F,P)=>{if(!n)return;const M=a.find(q=>q.id===F);if(!M)return;const fe=M.pagamentos?.find(q=>q.id===P);if(!fe)return;const{error:ae}=await Pe.from("pagamentos_recebivel").delete().eq("id",P);if(ae){pe.error("Erro ao remover pagamento");return}await Pe.from("transacoes").delete().eq("origem",`Recebimento - ${M.cliente}`).eq("valor",fe.valor).eq("data",fe.data);const{error:se}=await Pe.from("recebiveis").update({valor_pago:(M.valor_pago||0)-fe.valor}).eq("id",F);if(se){pe.error("Erro ao atualizar recebvel");return}await t(),pe.success("Pagamento removido com sucesso!")},H=a.filter(F=>F.valor_pago<F.valor_total),J=a.filter(F=>(F.valor_pago||0)>=(F.valor_total||0)),Q=a.reduce((F,P)=>F+(P.valor_total||0),0),D=a.reduce((F,P)=>F+(P.valor_pago||0),0),$=Q-D,G=c.reduce((F,P)=>{const M=(P.gastos_obra||[]).reduce((ae,se)=>ae+(se.valor||0),0),fe=P.orcamento-M;return F+fe},0),z=(F,P)=>{const M=(F.valor_total||0)-(F.valor_pago||0),fe=(F.valor_pago||0)/(F.valor_total||1)*100,ae=(F.valor_pago||0)>=(F.valor_total||0);return s.jsxs("div",{className:`recebivel-card ${ae?"quitado":"ativo"}`,children:[s.jsxs("div",{className:"recebivel-card-header",children:[s.jsx("h3",{className:"recebivel-card-title",children:F.cliente}),n&&s.jsx("button",{className:"recebivel-btn-delete",onClick:()=>se(F.id),title:"Apagar recebvel",children:s.jsx(zn,{size:18})})]}),s.jsxs("div",{className:"recebivel-info",children:[s.jsxs("div",{className:"recebivel-info-row",children:[s.jsx("span",{className:"recebivel-info-label",children:"Valor Total"}),s.jsx("span",{className:"recebivel-info-value total",children:ft(F.valor_total)})]}),s.jsxs("div",{className:"recebivel-info-row",children:[s.jsx("span",{className:"recebivel-info-label",children:"Valor Pago"}),s.jsx("span",{className:"recebivel-info-value pago",children:ft(F.valor_pago)})]}),!ae&&s.jsxs("div",{className:"recebivel-info-row",children:[s.jsx("span",{className:"recebivel-info-label",children:"Restante"}),s.jsx("span",{className:"recebivel-info-value restante",children:ft(M)})]})]}),s.jsxs("div",{className:"recebivel-progress-section",children:[s.jsxs("div",{className:"recebivel-progress-header",children:[s.jsx("span",{className:"recebivel-progress-label",children:"Progresso"}),s.jsxs("span",{className:"recebivel-progress-percentage",children:[fe.toFixed(1),"%"]})]}),s.jsx("div",{className:"recebivel-progress-bar",children:s.jsx("div",{className:"recebivel-progress-fill",style:{width:`${Math.min(fe,100)}%`}})})]}),s.jsxs("div",{className:"recebivel-pagamentos-section",children:[s.jsxs("div",{className:"recebivel-pagamentos-header",children:[s.jsxs("span",{className:"recebivel-pagamentos-title",children:["Pagamentos (",Array.isArray(F.pagamentos)?F.pagamentos.length:0,")"]}),r&&!ae&&s.jsxs("button",{className:"recebivel-btn-add-pagamento",onClick:()=>{v(F.id),g(!0)},children:[s.jsx(vn,{size:14}),"Adicionar"]})]}),Array.isArray(F.pagamentos)&&F.pagamentos.length>0&&s.jsx("div",{className:"recebivel-pagamentos-list",children:F.pagamentos.map(q=>s.jsxs("div",{className:"recebivel-pagamento-item",children:[s.jsxs("div",{className:"recebivel-pagamento-info",children:[s.jsx("div",{className:"recebivel-pagamento-valor",children:ft(q.valor)}),s.jsx("div",{className:"recebivel-pagamento-data",children:new Date(q.data.replace(/-/g,"/")).toLocaleDateString("pt-BR")})]}),n&&!ae&&s.jsx("button",{className:"recebivel-btn-delete-pagamento",onClick:()=>R(F.id,q.id),title:"Remover pagamento",children:s.jsx(zn,{size:14})})]},q.id))})]})]},F.id);async function se(q){if(!n)return;await Pe.from("pagamentos_recebivel").delete().eq("recebivel_id",q),await Pe.from("transacoes").delete().eq("origem",`Recebimento - ${a.find(Ne=>Ne.id===q)?.cliente||""}`);const{error:me}=await Pe.from("recebiveis").delete().eq("id",q);if(me){pe.error("Erro ao apagar recebvel");return}await t(),pe.success("Recebvel apagado com sucesso!")}};return s.jsxs("div",{className:"receber-container",children:[s.jsxs("div",{className:"receber-header",children:[s.jsxs("div",{className:"receber-header-content",children:[s.jsx("h1",{children:"A Receber"}),s.jsx("p",{children:"Gerencie contas de clientes e pagamentos"})]}),r&&s.jsxs(gn,{open:d,onOpenChange:h,children:[s.jsx(ec,{asChild:!0,children:s.jsxs("button",{className:"receber-btn receber-btn-primary",children:[s.jsx(vn,{size:20}),"Nova Conta"]})}),s.jsxs(nn,{className:"receber-dialog-content",children:[s.jsxs(Ss,{children:[s.jsx(Es,{className:"receber-dialog-title",children:"Nova Conta a Receber"}),s.jsx(Jl,{className:"receber-dialog-description",children:"Preencha os dados para adicionar uma nova conta a receber de cliente."})]}),s.jsxs("form",{onSubmit:L,children:[s.jsxs("div",{className:"receber-form-field",children:[s.jsx(Rn,{children:"Cliente"}),s.jsx(lr,{value:S.cliente,onChange:F=>x({...S,cliente:F.target.value}),required:!0,placeholder:"Nome do cliente"})]}),s.jsxs("div",{className:"receber-form-field",children:[s.jsx(Rn,{children:"Valor Total"}),s.jsx(lr,{type:"number",step:"0.01",value:S.valor_total,onChange:F=>x({...S,valor_total:F.target.value}),required:!0,placeholder:"0,00"})]}),s.jsx($a,{type:"submit",className:"w-full",children:"Adicionar Conta"})]})]})]})]}),s.jsxs("div",{className:"receber-summary",children:[s.jsx("div",{className:"receber-summary-card total",children:s.jsxs("div",{className:"receber-summary-header",children:[s.jsx("div",{className:"receber-summary-icon",children:s.jsx(al,{size:24})}),s.jsxs("div",{className:"receber-summary-info",children:[s.jsx("h3",{children:"Total a Receber"}),s.jsx("p",{children:ft(Q)})]})]})}),s.jsx("div",{className:"receber-summary-card recebido",children:s.jsxs("div",{className:"receber-summary-header",children:[s.jsx("div",{className:"receber-summary-icon",children:s.jsx(Mn,{size:24})}),s.jsxs("div",{className:"receber-summary-info",children:[s.jsx("h3",{children:"Total Recebido"}),s.jsx("p",{children:ft(D)})]})]})}),s.jsx("div",{className:"receber-summary-card pendente",children:s.jsxs("div",{className:"receber-summary-header",children:[s.jsx("div",{className:"receber-summary-icon",children:s.jsx(wh,{size:24})}),s.jsxs("div",{className:"receber-summary-info",children:[s.jsx("h3",{children:"Total Pendente"}),s.jsx("p",{children:ft($)})]})]})}),s.jsx("div",{className:"receber-summary-card obras-pendentes",children:s.jsxs("div",{className:"receber-summary-header",children:[s.jsx("div",{className:"receber-summary-icon",children:s.jsx(Pa,{size:24})}),s.jsxs("div",{className:"receber-summary-info",children:[s.jsx("h3",{children:"Obras Pendentes"}),s.jsx("p",{children:ft(G)})]})]})})]}),c.length>0&&s.jsxs("div",{className:"receber-obras-section",children:[s.jsxs("div",{className:"receber-obras-header",children:[s.jsx("h2",{children:"Obras em Andamento"}),s.jsx("p",{children:"Valores de obras no finalizadas"})]}),s.jsx("div",{className:"receber-obras-grid",children:c.map(F=>{const P=(F.gastos_obra||[]).reduce((ae,se)=>ae+(se.valor||0),0),M=F.orcamento-P,fe=F.orcamento>0?P/F.orcamento*100:0;return s.jsxs("div",{className:"receber-obra-card",children:[s.jsx("div",{className:"receber-obra-icon",children:s.jsx(Pa,{size:20})}),s.jsxs("div",{className:"receber-obra-info",children:[s.jsx("h3",{children:F.nome}),s.jsxs("div",{className:"receber-obra-valores",children:[s.jsxs("div",{className:"receber-obra-valor-principal",children:[s.jsx("span",{className:"receber-obra-label",children:"A Receber:"}),s.jsx("p",{className:"receber-obra-valor",children:ft(M)})]}),s.jsxs("div",{className:"receber-obra-detalhes",children:[s.jsxs("div",{className:"receber-obra-detalhe",children:[s.jsx("span",{children:"Oramento:"}),s.jsx("span",{children:ft(F.orcamento)})]}),s.jsxs("div",{className:"receber-obra-detalhe",children:[s.jsx("span",{children:"Gastos:"}),s.jsxs("span",{className:"gastos-valor",children:["-",ft(P)]})]})]})]}),s.jsxs("div",{className:"receber-obra-progress",children:[s.jsx("div",{className:"receber-obra-progress-bar",children:s.jsx("div",{className:"receber-obra-progress-fill",style:{width:`${fe}%`}})}),s.jsxs("span",{className:"receber-obra-progress-text",children:[fe.toFixed(1),"% gasto"]})]}),s.jsx("span",{className:"receber-obra-badge",children:"Em Andamento"})]})]},F.id)})})]}),s.jsxs(o0,{defaultValue:"ativos",className:"receber-tabs",children:[s.jsxs(i0,{children:[s.jsxs(el,{value:"ativos",children:["Ativos (",H.length,")"]}),s.jsxs(el,{value:"quitados",children:["Quitados (",J.length,")"]})]}),s.jsx(tl,{value:"ativos",children:H.length>0?s.jsx("div",{className:"receber-grid",children:H.map((F,P)=>z(F))}):s.jsxs("div",{className:"receber-empty",children:[s.jsx("div",{className:"receber-empty-icon",children:s.jsx(sr,{size:40})}),s.jsx("h3",{children:"Nenhuma conta ativa"}),s.jsx("p",{children:"Adicione uma nova conta a receber para comear"})]})}),s.jsx(tl,{value:"quitados",children:J.length>0?s.jsx("div",{className:"receber-grid",children:J.map((F,P)=>z(F))}):s.jsxs("div",{className:"receber-empty",children:[s.jsx("div",{className:"receber-empty-icon",children:s.jsx(Mn,{size:40})}),s.jsx("h3",{children:"Nenhuma conta quitada"}),s.jsx("p",{children:"Contas quitadas aparecero aqui"})]})})]}),s.jsx(gn,{open:p,onOpenChange:g,children:s.jsxs(nn,{className:"receber-dialog-content",children:[s.jsxs(Ss,{children:[s.jsx(Es,{className:"receber-dialog-title",children:"Registrar Pagamento"}),s.jsx(Jl,{className:"receber-dialog-description",children:"Informe o valor do pagamento para registrar na conta selecionada."})]}),s.jsxs("form",{onSubmit:T,children:[s.jsxs("div",{className:"receber-form-field",children:[s.jsx(Rn,{children:"Valor do Pagamento"}),s.jsx(lr,{type:"number",step:"0.01",value:_,onChange:F=>C(F.target.value),required:!0,placeholder:"0,00"}),w&&s.jsxs("p",{className:"receber-form-hint",children:["Restante:"," ",ft((a.find(F=>F.id===w)?.valor_total||0)-(a.find(F=>F.id===w)?.valor_pago||0))]})]}),s.jsxs($a,{type:"submit",className:"w-full",children:[s.jsx(sr,{size:18,style:{marginRight:"0.5rem"}}),"Registrar Pagamento"]})]})]})})]})}function qT({className:t,...e}){return s.jsx("div",{"data-slot":"card",className:An("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border backdrop-blur-sm transition-all duration-300",t),...e})}function $T({className:t,...e}){return s.jsx("div",{"data-slot":"card-content",className:An("px-6 [&:last-child]:pb-6",t),...e})}function _p({className:t,...e}){return s.jsx("textarea",{"data-slot":"textarea",className:An("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}function A_(t,e,r,n,a){n=n||{};var i=1.15,c=a.internal.scaleFactor,u=a.internal.getFontSize()/c,d=a.getLineHeightFactor?a.getLineHeightFactor():i,h=u*d,p=/\r\n|\r|\n/g,g="",w=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(g=typeof t=="string"?t.split(p):t,w=g.length||1),r+=u*(2-i),n.valign==="middle"?r-=w/2*h:n.valign==="bottom"&&(r-=w*h),n.halign==="center"||n.halign==="right"){var v=u;if(n.halign==="center"&&(v*=.5),g&&w>=1){for(var S=0;S<g.length;S++)a.text(g[S],e-a.getStringUnitWidth(g[S])*v,r),r+=h;return a}e-=a.getStringUnitWidth(t)*v}return n.halign==="justify"?a.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(t,e,r),a}var nb={},ud=(function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:nb=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,a,i;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var c=this.jsPDFDocument.internal.getFont(),u=c.fontStyle,d=c.fontName;if(e.font&&(d=e.font),e.fontStyle){u=e.fontStyle;var h=this.getFontList()[d];h&&h.indexOf(u)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(h[0]),u=h[0])}if(this.jsPDFDocument.setFont(d,u),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var p=t.unifyColor(e.fillColor);p&&(n=this.jsPDFDocument).setFillColor.apply(n,p),p=t.unifyColor(e.textColor),p&&(a=this.jsPDFDocument).setTextColor.apply(a,p),p=t.unifyColor(e.lineColor),p&&(i=this.jsPDFDocument).setDrawColor.apply(i,p),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,a,i){return this.jsPDFDocument.rect(e,r,n,a,i)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return nb||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t})(),gv=function(t,e){return gv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},gv(t,e)};function k_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");gv(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var P_=(function(t){k_(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e})(Array);function VT(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function WT(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function Np(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,c){return Math.max(i,c)},0);return a}function O_(t,e,r,n){var a=e.settings.tableLineWidth,i=e.settings.tableLineColor;t.applyStyles({lineWidth:a,lineColor:i});var c=L_(a,!1);c&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,c)}function L_(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function qp(t,e){var r,n,a,i;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(a=t.right)!==null&&a!==void 0?a:e,bottom:(i=t.bottom)!==null&&i!==void 0?i:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function T_(t,e){var r=qp(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function HT(t,e,r,n,a){var i={},c=1.3333333333333333,u=Sg(e,function(T){return a.getComputedStyle(T).backgroundColor});u!=null&&(i.fillColor=u);var d=Sg(e,function(T){return a.getComputedStyle(T).color});d!=null&&(i.textColor=d);var h=KT(n,r);h&&(i.cellPadding=h);var p="borderTopColor",g=c*r,w=n.borderTopWidth;if(n.borderBottomWidth===w&&n.borderRightWidth===w&&n.borderLeftWidth===w){var v=(parseFloat(w)||0)/g;v&&(i.lineWidth=v)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/g,right:(parseFloat(n.borderRightWidth)||0)/g,bottom:(parseFloat(n.borderBottomWidth)||0)/g,left:(parseFloat(n.borderLeftWidth)||0)/g},i.lineWidth.top||(i.lineWidth.right?p="borderRightColor":i.lineWidth.bottom?p="borderBottomColor":i.lineWidth.left&&(p="borderLeftColor"));var S=Sg(e,function(T){return a.getComputedStyle(T)[p]});S!=null&&(i.lineColor=S);var x=["left","right","center","justify"];x.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),x=["middle","bottom","top"],x.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var _=parseInt(n.fontSize||"");isNaN(_)||(i.fontSize=_/c);var C=GT(n);C&&(i.fontStyle=C);var L=(n.fontFamily||"").toLowerCase();return t.indexOf(L)!==-1&&(i.font=L),i}function GT(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function Sg(t,e){var r=R_(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function R_(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:R_(t.parentElement,e):r}function KT(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),a=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,i=r.map(function(u){return parseInt(u||"0")/n}),c=qp(i,0);return a>c.top&&(c.top=a),a>c.bottom&&(c.bottom=a),c}function D_(t,e,r,n,a){var i,c;n===void 0&&(n=!1),a===void 0&&(a=!1);var u;typeof e=="string"?u=r.document.querySelector(e):u=e;var d=Object.keys(t.getFontList()),h=t.scaleFactor(),p=[],g=[],w=[];if(!u)return console.error("Html table could not be found with input: ",e),{head:p,body:g,foot:w};for(var v=0;v<u.rows.length;v++){var S=u.rows[v],x=(c=(i=S?.parentElement)===null||i===void 0?void 0:i.tagName)===null||c===void 0?void 0:c.toLowerCase(),_=YT(d,h,r,S,n,a);_&&(x==="thead"?p.push(_):x==="tfoot"?w.push(_):g.push(_))}return{head:p,body:g,foot:w}}function YT(t,e,r,n,a,i){for(var c=new P_(n),u=0;u<n.cells.length;u++){var d=n.cells[u],h=r.getComputedStyle(d);if(a||h.display!=="none"){var p=void 0;i&&(p=HT(t,d,e,h,r)),c.push({rowSpan:d.rowSpan,colSpan:d.colSpan,styles:p,_element:d,content:JT(d)})}}var g=r.getComputedStyle(n);if(c.length>0&&(a||g.display!=="none"))return c}function JT(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function XT(t,e,r){for(var n=0,a=[t,e,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function rl(t,e,r,n,a){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),c=1;c<arguments.length;c++){var u=arguments[c];if(u!=null)for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(i[d]=u[d])}return i}function I_(t,e){var r=new ud(t),n=r.getDocumentOptions(),a=r.getGlobalOptions();XT(a,n,e);var i=rl({},a,n,e),c;typeof window<"u"&&(c=window);var u=QT(a,n,e),d=ZT(a,n,e),h=eR(r,i),p=rR(r,i,c);return{id:e.tableId,content:p,hooks:d,styles:u,settings:h}}function QT(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(d){if(d==="columnStyles"){var h=t[d],p=e[d],g=r[d];n.columnStyles=rl({},h,p,g)}else{var w=[t,e,r],v=w.map(function(S){return S[d]||{}});n[d]=rl({},v[0],v[1],v[2])}},i=0,c=Object.keys(n);i<c.length;i++){var u=c[i];a(u)}return n}function ZT(t,e,r){for(var n=[t,e,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,c=n;i<c.length;i++){var u=c[i];u.didParseCell&&a.didParseCell.push(u.didParseCell),u.willDrawCell&&a.willDrawCell.push(u.willDrawCell),u.didDrawCell&&a.didDrawCell.push(u.didDrawCell),u.willDrawPage&&a.willDrawPage.push(u.willDrawPage),u.didDrawPage&&a.didDrawPage.push(u.didDrawPage)}return a}function eR(t,e){var r,n,a,i,c,u,d,h,p,g,w,v,S=qp(e.margin,40/t.scaleFactor()),x=(r=tR(t,e.startY))!==null&&r!==void 0?r:S.top,_;e.showFoot===!0?_="everyPage":e.showFoot===!1?_="never":_=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var C;e.showHead===!0?C="everyPage":e.showHead===!1?C="never":C=(a=e.showHead)!==null&&a!==void 0?a:"everyPage";var L=(i=e.useCss)!==null&&i!==void 0?i:!1,T=e.theme||(L?"plain":"striped"),R=!!e.horizontalPageBreak,H=(c=e.horizontalPageBreakRepeat)!==null&&c!==void 0?c:null;return{includeHiddenHtml:(u=e.includeHiddenHtml)!==null&&u!==void 0?u:!1,useCss:L,theme:T,startY:x,margin:S,pageBreak:(d=e.pageBreak)!==null&&d!==void 0?d:"auto",rowPageBreak:(h=e.rowPageBreak)!==null&&h!==void 0?h:"auto",tableWidth:(p=e.tableWidth)!==null&&p!==void 0?p:"auto",showHead:C,showFoot:_,tableLineWidth:(g=e.tableLineWidth)!==null&&g!==void 0?g:0,tableLineColor:(w=e.tableLineColor)!==null&&w!==void 0?w:200,horizontalPageBreak:R,horizontalPageBreakRepeat:H,horizontalPageBreakBehaviour:(v=e.horizontalPageBreakBehaviour)!==null&&v!==void 0?v:"afterAllRows"}}function tR(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),a=t.pageNumber(),i=!1;if(r&&r.startPageNumber){var c=r.startPageNumber+r.pageNumber-1;i=c===a}return typeof e=="number"?e:(e==null||e===!1)&&i&&r?.finalY!=null?r.finalY+20/n:null}function rR(t,e,r){var n=e.head||[],a=e.body||[],i=e.foot||[];if(e.html){var c=e.includeHiddenHtml;if(r){var u=D_(t,e.html,r,c,e.useCss)||{};n=u.head||n,a=u.body||n,i=u.foot||n}else console.error("Cannot parse html in non browser environment")}var d=e.columns||nR(n,a,i);return{columns:d,head:n,body:a,foot:i}}function nR(t,e,r){var n=t[0]||e[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var c=1,u;Array.isArray(n)?u=n[parseInt(i)]:u=n[i],typeof u=="object"&&!Array.isArray(u)&&(c=u?.colSpan||1);for(var d=0;d<c;d++){var h=void 0;Array.isArray(n)?h=a.length:h=i+(d>0?"_".concat(d):"");var p={dataKey:h};a.push(p)}}),a}var vv=(function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t})(),aR=(function(t){k_(e,t);function e(r,n,a,i,c,u){var d=t.call(this,r,n,u)||this;return d.cell=a,d.row=i,d.column=c,d.section=i.section,d}return e})(vv),sR=(function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,a,i,c){for(var u=0,d=r;u<d.length;u++){var h=d[u],p=new aR(e,this,n,a,i,c),g=h(p)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],g)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new vv(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new vv(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t})(),F_=(function(){function t(e,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=e,e instanceof P_&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(a,i){var c=n.cells[i.index];if(!c)return 0;var u=r.getLineHeight(c.styles.fontSize),d=c.padding("vertical"),h=d+u;return h>a?h:a},0)},t})(),M_=(function(){function t(e,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var i=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,i=(a=e.content)!==null&&a!==void 0?a:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var c=i!=null?""+i:"",u=/\r\n|\r|\n/g;this.text=c.split(u)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/e*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=qp(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t})(),oR=(function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,a=e.allRows();n<a.length;n++){var i=a[n],c=i.cells[this.index];c&&typeof c.styles.cellWidth=="number"&&(r=Math.max(r,c.styles.cellWidth))}return r},t})();function iR(t,e){lR(t,e);var r=[],n=0;e.columns.forEach(function(i){var c=i.getMaxCustomCellWidth(e);c?i.width=c:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=e.getWidth(t.pageSize().width)-n;a&&(a=yv(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=yv(r,a,function(i){return i.minWidth})),a=Math.abs(a),!e.settings.horizontalPageBreak&&a>.1/t.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),uR(e),dR(e,t),cR(e)}function lR(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,a=T_(t,e);e.allRows().forEach(function(i){for(var c=0,u=e.columns;c<u.length;c++){var d=u[c],h=i.cells[d.index];if(h){var p=e.hooks.didParseCell;e.callCellHooks(t,p,h,i,d,null);var g=h.padding("horizontal");h.contentWidth=Np(h.text,h.styles,t)+g;var w=Np(h.text.join(" ").split(/[^\S\u00A0]+/),h.styles,t);if(h.minReadableWidth=w+h.padding("horizontal"),typeof h.styles.cellWidth=="number")h.minWidth=h.styles.cellWidth,h.wrappedWidth=h.styles.cellWidth;else if(h.styles.cellWidth==="wrap"||n===!0)h.contentWidth>a?(h.minWidth=a,h.wrappedWidth=a):(h.minWidth=h.contentWidth,h.wrappedWidth=h.contentWidth);else{var v=10/r;h.minWidth=h.styles.minCellWidth||v,h.wrappedWidth=h.contentWidth,h.minWidth>h.wrappedWidth&&(h.wrappedWidth=h.minWidth)}}}}),e.allRows().forEach(function(i){for(var c=0,u=e.columns;c<u.length;c++){var d=u[c],h=i.cells[d.index];if(h&&h.colSpan===1)d.wrappedWidth=Math.max(d.wrappedWidth,h.wrappedWidth),d.minWidth=Math.max(d.minWidth,h.minWidth),d.minReadableWidth=Math.max(d.minReadableWidth,h.minReadableWidth);else{var p=e.styles.columnStyles[d.dataKey]||e.styles.columnStyles[d.index]||{},g=p.cellWidth||p.minCellWidth;g&&typeof g=="number"&&(d.minWidth=g,d.wrappedWidth=g)}h&&(h.colSpan>1&&!d.minWidth&&(d.minWidth=h.minWidth),h.colSpan>1&&!d.wrappedWidth&&(d.wrappedWidth=h.minWidth))}})}function yv(t,e,r){for(var n=e,a=t.reduce(function(v,S){return v+S.wrappedWidth},0),i=0;i<t.length;i++){var c=t[i],u=c.wrappedWidth/a,d=n*u,h=c.width+d,p=r(c),g=h<p?p:h;e-=g-c.width,c.width=g}if(e=Math.round(e*1e10)/1e10,e){var w=t.filter(function(v){return e<0?v.width>r(v):!0});w.length&&(e=yv(w,e,r))}return e}function cR(t){for(var e={},r=1,n=t.allRows(),a=0;a<n.length;a++)for(var i=n[a],c=0,u=t.columns;c<u.length;c++){var d=u[c],h=e[d.index];if(r>1)r--,delete i.cells[d.index];else if(h)h.cell.height+=i.height,r=h.cell.colSpan,delete i.cells[d.index],h.left--,h.left<=1&&delete e[d.index];else{var p=i.cells[d.index];if(!p)continue;if(p.height=i.height,p.rowSpan>1){var g=n.length-a,w=p.rowSpan>g?g:p.rowSpan;e[d.index]={cell:p,left:w,row:i}}}}}function uR(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],a=null,i=0,c=0,u=0;u<t.columns.length;u++){var d=t.columns[u];if(c-=1,c>1&&t.columns[u+1])i+=d.width,delete n.cells[d.index];else if(a){var h=a;delete n.cells[d.index],a=null,h.width=d.width+i}else{var h=n.cells[d.index];if(!h)continue;if(c=h.colSpan,i=0,h.colSpan>1){a=h,i+=d.width;continue}h.width=d.width+i}}}function dR(t,e){for(var r={count:0,height:0},n=0,a=t.allRows();n<a.length;n++){for(var i=a[n],c=0,u=t.columns;c<u.length;c++){var d=u[c],h=i.cells[d.index];if(h){e.applyStyles(h.styles,!0);var p=h.width-h.padding("horizontal");if(h.styles.overflow==="linebreak")h.text=e.splitTextToSize(h.text,p+1/e.scaleFactor(),{fontSize:h.styles.fontSize});else if(h.styles.overflow==="ellipsize")h.text=ab(h.text,p,h.styles,e,"...");else if(h.styles.overflow==="hidden")h.text=ab(h.text,p,h.styles,e,"");else if(typeof h.styles.overflow=="function"){var g=h.styles.overflow(h.text,p);typeof g=="string"?h.text=[g]:h.text=g}h.contentHeight=h.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var w=h.contentHeight/h.rowSpan;h.rowSpan>1&&r.count*r.height<w*h.rowSpan?r={height:w,count:h.rowSpan}:r&&r.count>0&&r.height>w&&(w=r.height),w>i.height&&(i.height=w)}}r.count--}}function ab(t,e,r,n,a){return t.map(function(i){return hR(i,e,r,n,a)})}function hR(t,e,r,n,a){var i=1e4*n.scaleFactor();if(e=Math.ceil(e*i)/i,e>=Np(t,r,n))return t;for(;e<Np(t+a,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+a}function z_(t,e){var r=new ud(t),n=fR(e,r.scaleFactor()),a=new sR(e,n);return iR(r,a),r.applyStyles(r.userStyles),a}function fR(t,e){var r=t.content,n=mR(r.columns);if(r.head.length===0){var a=sb(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=sb(n,"foot");a&&r.foot.push(a)}var i=t.settings.theme,c=t.styles;return{columns:n,head:Eg("head",r.head,n,c,i,e),body:Eg("body",r.body,n,c,i,e),foot:Eg("foot",r.foot,n,c,i,e)}}function Eg(t,e,r,n,a,i){var c={},u=e.map(function(d,h){for(var p=0,g={},w=0,v=0,S=0,x=r;S<x.length;S++){var _=x[S];if(c[_.index]==null||c[_.index].left===0)if(v===0){var C=void 0;Array.isArray(d)?C=d[_.index-w-p]:C=d[_.dataKey];var L={};typeof C=="object"&&!Array.isArray(C)&&(L=C?.styles||{});var T=gR(t,_,h,a,n,i,L),R=new M_(C,T,t);g[_.dataKey]=R,g[_.index]=R,v=R.colSpan-1,c[_.index]={left:R.rowSpan-1,times:v}}else v--,w++;else c[_.index].left--,v=c[_.index].times,p++}return new F_(d,h,t,g)});return u}function sb(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var a=pR(e,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function pR(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function mR(t){return t.map(function(e,r){var n,a;return typeof e=="object"?a=(n=e.dataKey)!==null&&n!==void 0?n:r:a=r,new oR(a,e,r)})}function gR(t,e,r,n,a,i,c){var u=WT(n),d;t==="head"?d=a.headStyles:t==="body"?d=a.bodyStyles:t==="foot"&&(d=a.footStyles);var h=rl({},u.table,u[t],a.styles,d),p=a.columnStyles[e.dataKey]||a.columnStyles[e.index]||{},g=t==="body"?p:{},w=t==="body"&&r%2===0?rl({},u.alternateRow,a.alternateRowStyles):{},v=VT(i),S=rl({},v,h,w,g);return rl(S,c)}function vR(t,e,r){var n;r===void 0&&(r={});var a=T_(t,e),i=new Map,c=[],u=[],d=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?d=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(d=[e.settings.horizontalPageBreakRepeat]),d.forEach(function(w){var v=e.columns.find(function(S){return S.dataKey===w||S.index===w});v&&!i.has(v.index)&&(i.set(v.index,!0),c.push(v.index),u.push(e.columns[v.index]),a-=v.wrappedWidth)});for(var h=!0,p=(n=r?.start)!==null&&n!==void 0?n:0;p<e.columns.length;){if(i.has(p)){p++;continue}var g=e.columns[p].wrappedWidth;if(h||a>=g)h=!1,c.push(p),u.push(e.columns[p]),a-=g;else break;p++}return{colIndexes:c,columns:u,lastIndex:p-1}}function yR(t,e){for(var r=[],n=0;n<e.columns.length;n++){var a=vR(t,e,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function B_(t,e){var r=e.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},c=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),u=n+a.bottom+c;if(r.pageBreak==="avoid"){var d=e.body,h=d.reduce(function(w,v){return w+v.height},0);u+=h}var p=new ud(t);(r.pageBreak==="always"||r.startY!=null&&u>p.pageSize().height)&&(q_(p),i.y=a.top),e.callWillDrawPageHooks(p,i);var g=rl({},i);e.startPageNumber=p.pageNumber(),r.horizontalPageBreak?bR(p,e,g,i):(p.applyStyles(p.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(w){return cl(p,e,w,i,e.columns)}),p.applyStyles(p.userStyles),e.body.forEach(function(w,v){var S=v===e.body.length-1;jp(p,e,w,S,g,i,e.columns)}),p.applyStyles(p.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(w){return cl(p,e,w,i,e.columns)})),O_(p,e,g,i),e.callEndPageHooks(p,i),e.finalY=i.y,t.lastAutoTable=e,p.applyStyles(p.userStyles)}function bR(t,e,r,n){var a=yR(t,e),i=e.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(h,p){t.applyStyles(t.userStyles),p>0?fh(t,e,r,n,h.columns,!0):ob(t,e,n,h.columns),xR(t,e,r,n,h.columns),Cg(t,e,n,h.columns)});else for(var c=-1,u=a[0],d=function(){var h=c;if(u){t.applyStyles(t.userStyles);var p=u.columns;c>=0?fh(t,e,r,n,p,!0):ob(t,e,n,p),h=ib(t,e,c+1,n,p),Cg(t,e,n,p)}var g=h-c;a.slice(1).forEach(function(w){t.applyStyles(t.userStyles),fh(t,e,r,n,w.columns,!0),ib(t,e,c+1,n,w.columns,g),Cg(t,e,n,w.columns)}),c=h};c<e.body.length-1;)d()}function ob(t,e,r,n){var a=e.settings;t.applyStyles(t.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&e.head.forEach(function(i){return cl(t,e,i,r,n)})}function xR(t,e,r,n,a){t.applyStyles(t.userStyles),e.body.forEach(function(i,c){var u=c===e.body.length-1;jp(t,e,i,u,r,n,a)})}function ib(t,e,r,n,a,i){t.applyStyles(t.userStyles),i=i??e.body.length;var c=Math.min(r+i,e.body.length),u=-1;return e.body.slice(r,c).forEach(function(d,h){var p=r+h===e.body.length-1,g=U_(t,e,p,n);d.canEntireRowFit(g,a)&&(cl(t,e,d,n,a),u=r+h)}),u}function Cg(t,e,r,n){var a=e.settings;t.applyStyles(t.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&e.foot.forEach(function(i){return cl(t,e,i,r,n)})}function wR(t,e,r){var n=r.getLineHeight(t.styles.fontSize),a=t.padding("vertical"),i=Math.floor((e-a)/n);return Math.max(0,i)}function _R(t,e,r,n){var a={};t.spansMultiplePages=!0,t.height=0;for(var i=0,c=0,u=r.columns;c<u.length;c++){var d=u[c],h=t.cells[d.index];if(h){Array.isArray(h.text)||(h.text=[h.text]);var p=new M_(h.raw,h.styles,h.section);p=rl(p,h),p.text=[];var g=wR(h,e,n);h.text.length>g&&(p.text=h.text.splice(g,h.text.length));var w=n.scaleFactor(),v=n.getLineHeightFactor();h.contentHeight=h.getContentHeight(w,v),h.contentHeight>=e&&(h.contentHeight=e,p.styles.minCellHeight-=e),h.contentHeight>t.height&&(t.height=h.contentHeight),p.contentHeight=p.getContentHeight(w,v),p.contentHeight>i&&(i=p.contentHeight),a[d.index]=p}}var S=new F_(t.raw,-1,t.section,a,!0);S.height=i;for(var x=0,_=r.columns;x<_.length;x++){var d=_[x],p=S.cells[d.index];p&&(p.height=S.height);var h=t.cells[d.index];h&&(h.height=t.height)}return S}function NR(t,e,r,n){var a=t.pageSize().height,i=n.settings.margin,c=i.top+i.bottom,u=a-c;e.section==="body"&&(u-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var d=e.getMinimumRowHeight(n.columns,t),h=d<r;if(d>u)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!h)return!1;var p=e.hasRowSpan(n.columns),g=e.getMaxCellHeight(n.columns)>u;return g?(p&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(p||n.settings.rowPageBreak==="avoid")}function jp(t,e,r,n,a,i,c){var u=U_(t,e,n,i);if(r.canEntireRowFit(u,c))cl(t,e,r,i,c);else if(NR(t,r,u,e)){var d=_R(r,u,e,t);cl(t,e,r,i,c),fh(t,e,a,i,c),jp(t,e,d,n,a,i,c)}else fh(t,e,a,i,c),jp(t,e,r,n,a,i,c)}function cl(t,e,r,n,a){n.x=e.settings.margin.left;for(var i=0,c=a;i<c.length;i++){var u=c[i],d=r.cells[u.index];if(!d){n.x+=u.width;continue}t.applyStyles(d.styles),d.x=n.x,d.y=n.y;var h=e.callCellHooks(t,e.hooks.willDrawCell,d,r,u,n);if(h===!1){n.x+=u.width;continue}jR(t,d,n);var p=d.getTextPos();A_(d.text,p.x,p.y,{halign:d.styles.halign,valign:d.styles.valign,maxWidth:Math.ceil(d.width-d.padding("left")-d.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,d,r,u,n),n.x+=u.width}n.y+=r.height}function jR(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=L_(n.lineWidth,n.fillColor);a&&t.rect(e.x,r.y,e.width,e.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),SR(t,e,r,n.lineWidth))}function SR(t,e,r,n){var a,i,c,u;n.top&&(a=r.x,i=r.y,c=r.x+e.width,u=r.y,n.right&&(c+=.5*n.right),n.left&&(a-=.5*n.left),d(n.top,a,i,c,u)),n.bottom&&(a=r.x,i=r.y+e.height,c=r.x+e.width,u=r.y+e.height,n.right&&(c+=.5*n.right),n.left&&(a-=.5*n.left),d(n.bottom,a,i,c,u)),n.left&&(a=r.x,i=r.y,c=r.x,u=r.y+e.height,n.top&&(i-=.5*n.top),n.bottom&&(u+=.5*n.bottom),d(n.left,a,i,c,u)),n.right&&(a=r.x+e.width,i=r.y,c=r.x+e.width,u=r.y+e.height,n.top&&(i-=.5*n.top),n.bottom&&(u+=.5*n.bottom),d(n.right,a,i,c,u));function d(h,p,g,w,v){t.getDocument().setLineWidth(h),t.getDocument().line(p,g,w,v,"S")}}function U_(t,e,r,n){var a=e.settings.margin.bottom,i=e.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-a}function fh(t,e,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!i&&e.foot.forEach(function(u){return cl(t,e,u,n,a)}),e.callEndPageHooks(t,n);var c=e.settings.margin;O_(t,e,r,n),q_(t),e.pageNumber++,n.x=c.left,n.y=c.top,r.y=c.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(u){return cl(t,e,u,n,a)}),t.applyStyles(t.userStyles))}function q_(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function ER(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],a=I_(this,n),i=z_(this,a);return B_(this,i),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,a){A_(e,r,n,a,this)},t.API.autoTableSetDefaults=function(e){return ud.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){ud.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new ud(this),i=D_(a,e,window,r,!1),c=i.head,u=i.body,d=((n=c[0])===null||n===void 0?void 0:n.map(function(h){return h.content}))||[];return{columns:d,rows:u,data:u}}}var Ag;function $_(t,e){var r=I_(t,e),n=z_(t,r);B_(t,n)}try{if(typeof window<"u"&&window){var lb=window,cb=lb.jsPDF||((Ag=lb.jspdf)===null||Ag===void 0?void 0:Ag.jsPDF);cb&&ER(cb)}}catch(t){console.error("Could not apply autoTable plugin",t)}const CR=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),AR=async(t,e)=>{try{if(CR()){const r=t.output("blob"),n=new File([r],e,{type:"application/pdf"});if(navigator.share)try{await navigator.share({files:[n],title:"Proposta Comercial",text:"Proposta gerada pelo sistema PEPERAIO"}),pe.success("PDF compartilhado com sucesso!")}catch(a){a.name!=="AbortError"&&(console.error("Erro ao compartilhar:",a),pe.error("Erro ao compartilhar PDF"))}else{const a=URL.createObjectURL(r);window.open(a,"_blank"),pe.info("PDF aberto em nova aba"),setTimeout(()=>URL.revokeObjectURL(a),6e4)}}else t.save(e),pe.success("PDF exportado com sucesso!")}catch(r){console.error("Erro ao exportar PDF:",r),pe.error("Erro ao exportar PDF. Tente novamente.")}},Er=20,ti=20,ph=210,kR=297,PR=ph-Er*2,V_=kR-ti,Ji=t=>{t.setFont("helvetica","bold"),t.setFontSize(24),t.text("PEPERAIO",Er,ti),t.setFont("brush script mt","italic"),t.setFontSize(12),t.text("Comunicao Visual",Er,ti+7);const e=ph-Er;t.setFont("helvetica","normal"),t.setFontSize(10),t.text("Isaac Peperaio  Marcos Peperaio",e,ti,{align:"right"}),t.text("62 98427-4856      61 98196-6308",e,ti+5,{align:"right"}),t.setLineWidth(2),t.setDrawColor(0,128,0),t.line(Er,ti+15,ph-Er,ti+15),t.setDrawColor(255,0,0),t.line(Er,ti+18,ph-Er,ti+18)},Hl=(t,e,r,n=10,a="normal")=>{let i=r;t.setFontSize(n),t.setFont("helvetica",a);const c=n*.7;return t.splitTextToSize(e,PR).forEach(d=>{i>V_-10&&(t.addPage(),Ji(t),i=ti+35);const h=d.trim();h.match(/^(\d+(\.\d+)?(\s)?(\.|-))/)||h.endsWith(":")?t.setFont("helvetica","bold"):t.setFont("helvetica",a),t.text(d,Er,i),i+=c}),i},OR=()=>({clienteNome:"ENF CLINIC",clienteContato:"Elizeu",clienteCnpj:"",clienteEndereco:"",propostaNumero:"2025 570-R04",dataEmissao:new Date().toLocaleDateString("pt-BR"),escopoFornecimento:`Descrio do Servio:
Estruturao completa de uma marquise com as seguintes dimenses:
Largura: 8,06 metros
Altura: 1,50 metro
Comprimento (avano): 1,10 metro

Composio e Materiais:
Cobertura em telhas galvalume 25 mm, garantindo alta durabilidade e resistncia.
Revestimento em ACM 3 mm, com garantia de 5 anos.
Letras caixa em PVC expandido 20 mm, iluminadas com LED, conforme o projeto fornecido pelo cliente.
Revestimento das colunas frontais da loja em ACM, acompanhando o mesmo padro esttico da marquise.

Cores definidas:
Fachada: ACM na cor bege fosco;
Testeira superior da fachada: ACM na cor chocolate.

Prazo de Execuo:
10 (dez) dias teis aps a formalizao do contrato e pagamento da entrada.
`,condicoesPagamento:`Condies de Pagamento:
50% de entrada no ato da contratao;
50% restante ao trmino da obra, podendo ser dividido conforme condies previamente acordadas entre as partes.
`,priceItems:[{id:"1",descricao:"Material e mo de Obra.",qtde:"1",valor:"15300.00"}],valorTotalExtenso:"Quinze mil e trezentos reais",prazoGarantiaMeses:"60",dataBaseProposta:new Date().toLocaleDateString("pt-BR"),prazoEntrega:"10 dias teis"});function LR(){const[t,e]=k.useState(OR),[r,n]=k.useState(null),[a,i]=k.useState(!0);k.useEffect(()=>{(async()=>{try{const{data:w,error:v}=await Pe.from("propostas_sequencia").select("ultimo_numero").eq("id",1).single();v||!w?(console.error("Erro ao buscar preview do nmero:",v),n(570)):n(w.ultimo_numero+1)}catch(w){console.error("Erro ao carregar preview do nmero:",w),n(570)}finally{i(!1)}})()},[]),k.useEffect(()=>{if(r!==null){const w=`${new Date().getFullYear()} ${r}-R01`;e(v=>({...v,propostaNumero:w}))}},[r]);const c=()=>{const g={id:Date.now().toString(),descricao:"Novo item",qtde:"1",valor:"0.00"};e(w=>({...w,priceItems:[...w.priceItems,g]}))},u=g=>{e(w=>({...w,priceItems:w.priceItems.filter(v=>v.id!==g)}))},d=(g,w,v)=>{e(S=>({...S,priceItems:S.priceItems.map(x=>x.id===g?{...x,[w]:v}:x)}))},h=g=>{const w=parseInt(g);return{1:"um",2:"dois",3:"trs",4:"quatro",5:"cinco",6:"seis",7:"sete",8:"oito",9:"nove",10:"dez",11:"onze",12:"doze",13:"treze",14:"quatorze",15:"quinze",16:"dezesseis",17:"dezessete",18:"dezoito",19:"dezenove",20:"vinte",24:"vinte e quatro",30:"trinta",36:"trinta e seis",48:"quarenta e oito",60:"sessenta",72:"setenta e dois",84:"oitenta e quatro",96:"noventa e seis",120:"cento e vinte"}[w]||g},p=async()=>{const w=t.priceItems.reduce((x,_)=>{const C=parseFloat(_.valor||"0"),L=parseInt(_.qtde||"1",10);return x+C*L},0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});if(!t.clienteNome||!t.clienteContato||!t.propostaNumero||!t.escopoFornecimento||t.priceItems.length===0||!t.valorTotalExtenso||!t.dataBaseProposta||!t.prazoEntrega){pe.error("Erro: Preencha todos os campos obrigatrios (*)");return}let v,S;try{const{data:x,error:_}=await Pe.rpc("get_next_numero_sequencial");if(_){console.error("Erro ao obter nmero sequencial:",_),pe.error("Erro ao gerar nmero da proposta!");return}v=x,S=`${new Date().getFullYear()} ${v}-R01`,e(L=>({...L,propostaNumero:S})),n(v+1)}catch(x){console.error("Erro ao obter nmero sequencial:",x),pe.error("Erro ao gerar nmero da proposta!");return}try{const{data:x,error:_}=await Pe.from("propostas").insert({cliente_nome:t.clienteNome,cliente_contato:t.clienteContato,cliente_cnpj:t.clienteCnpj||null,cliente_endereco:t.clienteEndereco||null,proposta_numero:S,numero_sequencial:v,numero_revisao:1,data_emissao:t.dataEmissao,escopo_fornecimento:t.escopoFornecimento,condicoes_pagamento:t.condicoesPagamento,price_items:t.priceItems,valor_total_extenso:t.valorTotalExtenso,prazo_garantia_meses:t.prazoGarantiaMeses,data_base_proposta:t.dataBaseProposta,prazo_entrega:t.prazoEntrega,finalizada:!1}).select();if(_){console.error("Erro ao salvar proposta:",_),pe.error("Erro ao salvar proposta no banco de dados!");return}pe.success("Proposta salva com sucesso!")}catch(x){console.error("Erro ao salvar proposta:",x),pe.error("Erro ao salvar proposta!");return}try{const x=new Ft("p","mm","a4");let _=0;Ji(x),_=70,x.setFont("helvetica","bold"),x.setFontSize(12),x.text(`Proposta: ${S} - Tcnica e Comercial`,Er,_),_+=15,x.setFont("helvetica","normal"),x.setFontSize(11),x.text("DE: PEPERAIO COMUNICAO VISUAL",Er,_),_+=7,x.text(`PARA: ${t.clienteNome.toUpperCase()}`,Er,_),_+=7,t.clienteCnpj&&t.clienteCnpj.trim()!==""&&(x.text(`CNPJ: ${t.clienteCnpj}`,Er,_),_+=7),t.clienteEndereco&&t.clienteEndereco.trim()!==""&&(x.text(`Endereo: ${t.clienteEndereco}`,Er,_),_+=7),x.text(`Emisso: ${t.dataEmissao}`,Er,_),_+=15,x.setFont("helvetica","bold");const C="********** PROPOSTA TCNICA E COMERCIAL ***********",L=x.getTextWidth(C),T=x.internal.pageSize.getWidth(),R=(T-L)/2;x.text(C,R,_),_+=15,x.setFont("helvetica","normal");const H=`Prezado senhor(a) ${t.clienteContato}, atendendo a sua consulta, temos a satisfao de apresentar-lhe nossa Proposta Tcnica / Comercial para o fornecimento de fachada em referncia, os quais sero construdos de acordo com as caractersticas tcnicas mencionadas na proposta tcnica.

Esperamos desta forma ter correspondido s suas expectativas e colocamo-nos ao seu inteiro dispor para quaisquer esclarecimentos complementares.`;_=Hl(x,H,_,11),_+=20,x.text("Atenciosamente;",Er,_),_+=60;const J=T/2;x.setFont("helvetica","bold"),x.text("Marcos Peperaio",J,_,{align:"center"}),_+=5,x.setFont("helvetica","normal"),x.text("Vendedor Tcnico/Comercial",J,_,{align:"center"}),_+=5,x.text("(61) 981966308",J,_,{align:"center"}),_+=5,x.text("E-mail: contato@peperaiovisual.com.br",J,_,{align:"center"}),x.addPage(),Ji(x),_=90,x.setFont("helvetica","bold"),x.setFontSize(16);const Q="Contedo!",D=x.getTextWidth(Q);x.text(Q,(ph-D)/2,_),_+=25,x.setFont("helvetica","bold"),x.setFontSize(12),["1  ESCOPO DE FORNECIMENTO","2  EXCLUSES / LISTA DE DESVIOS","3  NOTAS TCNICAS","4  PREOS","5  CONDIES GERAIS DE VENDAS","6  TERMO DE GARANTIA DE PRODUTOS ENGENHEIRADOS"].forEach(te=>{x.text(te,Er,_),_+=12}),x.addPage(),Ji(x),_=90,x.setFont("helvetica","bold"),x.setFontSize(14),x.text("1-ESCOPO DE FORNECIMENTO",Er,_),_+=10,_=Hl(x,t.escopoFornecimento||"---",_,11,"normal"),_+=10,x.setFont("helvetica","bold"),x.text("Valor Total do Servio:",Er,_),_+=7,x.setFont("helvetica","normal"),x.text(w,Er,_),_+=10,_=Hl(x,t.condicoesPagamento||"---",_,11,"normal"),x.addPage(),Ji(x),_=90,x.setFont("helvetica","bold"),x.setFontSize(14),x.text("2-EXCLUSES / LISTA DE DESVIOS",Er,_),_+=10,_=Hl(x,`2.1 no esto inclusos os services e materiais de instalao eltrica (externo aos paineis presentes nesta oferta), assim como a montagem e instalao dos mesmos;

2.2 nos ateremos apenas, as letras e painis apresentados no projeto, qualquer acrscimo de iluminao, ser cobrado a parte.

2.3 no esto inclusos no escopo de fornecimento quaisquer servios que no estejam relacionados nesta proposta

2.4 no estamos ofertando luminrias, ficando a cargo do cliente as escolhas das mesmas, se assim desejar, e caso queira nos contratar para tal, os valores no esto inclusos nesta proposta.

2.5 no sero fornecidos quaisquer materiais e servios que no estejam claramente mencionados no Item 1 desta proposta - Escopo de Fornecimento e/ou que no foram negociados entre as partes, tais como: Luminrias, forros, instalaes eltricas e outros.`,_,10,"normal"),_+=10,x.setFont("helvetica","bold"),x.setFontSize(14),x.text("3-NOTAS TCNICAS",Er,_),_+=10,_=Hl(x,`3.1 para elaborao da presente proposta consideramos as documentaes tcnicas e lista de materiais encaminhada nesta proposta

3.2 o material relacionado, possui garantia de 5 anos;

3.3 o projeto acima proposto, tem direitos autorais, sendo vedada a execuo do mesmo por terceiros, sendo passvel de multas previstas em lei

3.4 A garantia do servio se dar na mesma quantidade da garantia do material.

3.5 Quaisquer divergncias entre o ofertado e suas reais necessidades, podero ser ajustadas mediante novo contrato, para tal, reservamo-nos o direito de rever os preos e prazos de entrega.`,_,10,"normal"),_+=10,x.addPage(),Ji(x),_=90,x.setFont("helvetica","bold"),x.setFontSize(14),x.text("4-PREOS",Er,_),_+=15;const F=[["DESCRIO","QTDE","VL. UNIT.","VL. TOTAL"]],P=t.priceItems.map(te=>{const I=parseFloat(te.valor||"0"),Y=parseInt(te.qtde||"1",10),Z=I*Y;return[te.descricao,te.qtde,I.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),Z.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]});P.push([{content:"VALOR TOTAL:",styles:{fontStyle:"bold"}},"","",{content:w,styles:{fontStyle:"bold"}}]),$_(x,{head:F,body:P,startY:_,theme:"grid",headStyles:{fillColor:[220,220,220],textColor:[0,0,0]},styles:{fontSize:10,cellPadding:3},columnStyles:{0:{cellWidth:100},1:{cellWidth:20,halign:"center"},2:{cellWidth:30,halign:"right"},3:{cellWidth:30,halign:"right"}},didDrawPage:te=>{te.cursor&&(_=te.cursor.y)}}),_=_+10,x.setFont("helvetica","bold"),x.setFontSize(11),x.setTextColor(0,0,0),x.text("Importa a presente proposta o valor final total de ",Er,_);const fe=x.getTextWidth("Importa a presente proposta o valor final total de ");x.setTextColor(255,0,0),x.text(`${w} (${t.valorTotalExtenso})`,Er+fe,_),x.setTextColor(0,0,0),x.addPage(),Ji(x),_=90,x.setFont("helvetica","bold"),x.setFontSize(14),x.text("5-CONDIES GERAIS DE VENDA",Er,_),_+=10;const ae=`5.1 DATA BASE DA PROPOSTA: ${t.dataBaseProposta}

5.2 CONDIES DE PAGAMENTO:
50% na entrada e o restante na entrega.
Ou dividido no carto com os acrscimos da maquininha no ato
de contratao do servio.

5.3 IMPOSTOS:
Empresa optante pelo simples nacional, no destaca impostos como ICMS e IPI,
com todos os impostos inclusos para faturamento como Materiais
avulsos por;
Peperaio Comunicao Visual: CNPJ 34.004.933/0001-79.
Rua 05 Qd. 61 Lt. 02 Setor Santos Dumont - Goinia-GO.

5.4 PRAZO DE ENTREGA: ${t.prazoEntrega}

5.7 VALIDADE DESTA PROPOSTA: 10 dias da data de emisso.
Caso o cliente emita o "aceite" aps o prazo de validade,
os preos apresentados esto sujeitos a reajuste.
CANCELAMENTO - No caso de cancelamento pelo
cliente, posterior  aprovao da proposta, a Peperaio
Comunicao Visual emitir fatura, com vencimento a
vista, incluindo todas as despesas decorrentes,
deduzidos os valores at ento recebidos do cliente.
Em qualquer hiptese de resciso, as partes procedero a
um acerto de contas, considerando o valor dos servios
executados e/ou comprometidos e despesas decorrentes
da resciso para a Peperaio Comunicao Visual, contra o
valor dos pagamentos at ento recebidos por esta do
cliente.

5.8 CONDIES GERAIS DE FORNECIMENTO: Fazem
parte integrante da presente proposta as "Condies
Gerais de Fornecimento de Bens e Servios Peperaio",
que acompanham o presente.

5.9 ATRASO NO PAGAMENTO: Ocorrendo atraso no
pagamento, seja de parcela principal e/ou de reajuste, os
valores em atraso sero acrescidos de multa moratria
equivalente a 1,5% (um e meio por cento), bem como,
juros equivalentes a 2% (dois por cento) ao ms, pelo
prazo que perdurar o atraso.`;_=Hl(x,ae,_,10,"normal"),x.addPage(),Ji(x),_=90,x.setFont("helvetica","bold"),x.setFontSize(14),x.text("6-TERMO DE GARANTIA DE PRODUTOS ENGENHEIRADOS",Er,_),_+=10;const se=`1.  condio essencial para a validade desta garantia
que a compradora examine minuciosamente o produto
adquirido imediatamente aps a sua entrega, observando
atentamente as suas caractersticas e as instrues de
instalao, ajuste, operao e manuteno do mesmo.
O
produto ser considerado aceito e automaticamente
aprovado pela compradora, quando no ocorrer a
manifestao por escrito da compradora sobre e
problemas tcnicos ou arrependimento quando cabvel,
no prazo mximo de sete dias teis aps a data de
entrega.

2. O prazo total de garantia dos produtos  de ${t.prazoGarantiaMeses}
(${h(t.prazoGarantiaMeses)}) meses, contados da data de fornecimento da
Peperaio Comunicao Visual, comprovado atravs da
nota fiscal de compra do Material engenhado.

3. A garantia total acima  composta de: (a) tratando-se de
relao de consumo, os primeiros 90 (noventa) dias sero
considerados para fins de garantia a que se refere o inciso II
do art.
26 da Lei $8.078/90,$ e o restante do perodo ser
considerado como garantia contratual, nos termos do art.
50 da referida Lei; e (b) nos demais casos, os primeiros 30
(trinta) dias sero considerados para fins de garantia a que
se refere o caput do artigo 445 do Cdigo Civil Brasileiro.

4. em caso de defeito ou situaes inadequadas do
produto em garantia, os servios em garantia sero
realizados a critrio da Peperaio Comunicao Visual.

5. O produto, na ocorrncia de uma anomalia dever estar
disponvel para o fornecedor, pelo perodo necessrio para
a identificao da causa da anomalia e seus devidos
reparos.

6. A Peperaio Comunicao Visual examinar o produto ou
material com defeito, e, caso comprove a existncia de
defeito coberto pela garantia, reparar, modificar ou
substituir o material defeituoso, a seu critrio, sem custos
para a compradora, exceto os mencionados.

7. A responsabilidade da presente garantia se limita
exclusivamente ao reparo do produto fornecido, no se
responsabilizando a Peperaio Comunicao Visual por
danos a pessoas, a terceiros, a outros equipamentos ou
instalaes, lucros cessantes ou quaisquer outros danos
emergentes ou consequentes.

8. Outras despesas como fretes, embalagens, custos de
montagem e desmontagem, parametrizao, correro por
conta exclusiva da compradora, inclusive todos as despesas
de locomoo/estadia do pessoal de assistncia Tcnica e
eventuais horas extras, quando for necessrio e/ou
solicitado um atendimento nas instalaes do usurio.

9. A presente garantia no abrange o desgaste normal dos
produtos ou materiais, nem os danos decorrentes de
operao ou instalao indevida ou negligente em
desacordo com as especificaes tcnicas, parametrizao
incorreta, manuteno ou armazenagem inadequada,
instalaes de m qualidade ou influncias de natureza
qumica, eletroqumica, eltrica, mecnica ou atmosfrica.

10. Ficam excludas da responsabilidade por defeitos as
partes ou peas consideradas de consumo, tais como,
Luminrias, rels fototimer, protetores contra surtos, para
raios, etc.

11. A garantia extinguir-se-, independentemente de
qualquer aviso, se a compradora sem prvia autorizao
por escrito da Peperaio Comunicao Visual, fizer ou
mandar fazer por terceiros, quaisquer modificaes ou
reparos no produto ou equipamento que vier a
apresentar anomalia, ou qualquer modificao a gosto
ou critrio do cliente.

12. O direito  garantia ficar suspenso em caso de mora
ou inadimplemento de obrigaes da compradora para
com a Peperaio Comunicao Visual, nos termos do
disposto no artigo 476 do Cdigo Civil Brasileiro, sendo
que o lapso temporal da suspenso ser considerado
garantia decorrida, caso a compradora, posteriormente,
cumpra suas obrigaes para com a Peperaio Visual.

13. Quaisquer reparos, modificaes, substituies
decorrentes de defeitos de fabricao no
interrompem nem prorrogam o prazo desta garantia.

14. A garantia oferecida pela Peperaio Comunicao
Visual est condicionada  observncia destas
condies gerais, sendo este o nico termo de garantia
visto.`;_=Hl(x,se,_,10,"normal"),_>V_-50?(x.addPage(),Ji(x),_=90):_+=15,_=Hl(x,"Esperando haver atendido as suas expectativas permanecemos  sua disposio para quaisquer esclarecimentos, reviso ou alterao que se faam necessrios.",_,11,"normal"),_+=15,x.text("Cordialmente,",Er,_),_+=15,x.setFont("helvetica","bold"),x.text("Isaac Peperaio",Er,_),x.setFont("helvetica","normal");const me=x.getTextWidth("Isaac Peperaio ");x.text("(61) 981966308",Er+me,_),_+=5,x.text("Depto. Engenharia e Montagem",Er,_);const Ne=`Proposta_${S}_${t.clienteNome}.pdf`;AR(x,Ne)}catch(x){console.error("Erro ao gerar o PDF:",x),pe.error("Ocorreu um erro ao gerar o PDF. Verifique o console.")}};return s.jsxs("div",{className:"automacao-container",children:[s.jsxs("div",{className:"automacao-header",children:[s.jsxs("h1",{children:[s.jsx(Ps,{style:{display:"inline",marginRight:"0.5rem"}}),"Automao de Proposta Comercial"]}),s.jsx("p",{children:"Preencha os campos abaixo para gerar a proposta tcnica e comercial da PEPERAIO"})]}),s.jsx(qT,{className:"automacao-card",children:s.jsxs($T,{style:{padding:0},children:[s.jsxs("div",{className:"automacao-section",children:[s.jsxs("h3",{className:"automacao-section-title",children:[s.jsx(ol,{}),"Informaes do Cliente"]}),s.jsxs("div",{className:"automacao-form-field",children:[s.jsx("label",{children:"Nmero da Proposta (Gerado Automaticamente)"}),a?s.jsx(lr,{value:"Carregando prximo nmero...",disabled:!0,style:{background:"#0f1526",cursor:"wait"}}):s.jsx(lr,{value:t.propostaNumero,readOnly:!0,disabled:!0,style:{background:"#0f1526",cursor:"not-allowed",opacity:.7},title:"Este nmero  gerado automaticamente"})]}),s.jsxs("div",{className:"automacao-grid-2",children:[s.jsxs("div",{className:"automacao-form-field",children:[s.jsx("label",{children:"Nome do Cliente (Empresa) *"}),s.jsx(lr,{value:t.clienteNome,onChange:g=>e({...t,clienteNome:g.target.value}),placeholder:"Nome da Empresa Cliente"})]}),s.jsxs("div",{className:"automacao-form-field",children:[s.jsx("label",{children:"Nome do Contato (Prezado Sr/Sra) *"}),s.jsx(lr,{value:t.clienteContato,onChange:g=>e({...t,clienteContato:g.target.value}),placeholder:"Nome do Contato"})]})]}),s.jsxs("div",{className:"automacao-grid-2",children:[s.jsxs("div",{className:"automacao-form-field",children:[s.jsx("label",{children:"CNPJ do Cliente"}),s.jsx(lr,{value:t.clienteCnpj,onChange:g=>e({...t,clienteCnpj:g.target.value}),placeholder:"00.000.000/0000-00"})]}),s.jsxs("div",{className:"automacao-form-field",children:[s.jsx("label",{children:"Endereo do Cliente"}),s.jsx(lr,{value:t.clienteEndereco,onChange:g=>e({...t,clienteEndereco:g.target.value}),placeholder:"Rua, N, Bairro, Cidade - UF"})]})]}),s.jsxs("div",{className:"automacao-form-field",children:[s.jsx("label",{children:"Data de Emisso"}),s.jsx(lr,{value:t.dataEmissao,onChange:g=>e({...t,dataEmissao:g.target.value}),placeholder:"DD/MM/AAAA"})]})]}),s.jsxs("div",{className:"automacao-section",children:[s.jsxs("h3",{className:"automacao-section-title",children:[s.jsx(Ps,{}),"1. Escopo de Fornecimento"]}),s.jsx("p",{className:"automacao-section-description",children:"Digite ou cole o escopo completo aqui. Apenas quebras de linha sero mantidas (sem negrito ou cores)."}),s.jsx("div",{className:"automacao-form-field",children:s.jsx(_p,{value:t.escopoFornecimento,onChange:g=>e({...t,escopoFornecimento:g.target.value}),placeholder:"Descreva o servio...",rows:20,style:{minHeight:"200px"}})})]}),s.jsxs("div",{className:"automacao-section",children:[s.jsxs("h3",{className:"automacao-section-title",children:[s.jsx(sr,{}),"Condies de Pagamento"]}),s.jsx("div",{className:"automacao-form-field",children:s.jsx(_p,{value:t.condicoesPagamento,onChange:g=>e({...t,condicoesPagamento:g.target.value}),placeholder:"Descreva as condies de pagamento...",rows:5})})]}),s.jsxs("div",{className:"automacao-section",children:[s.jsxs("h3",{className:"automacao-section-title",children:[s.jsx(sr,{}),"4. Preos e Itens"]}),s.jsx("div",{className:"automacao-price-items",children:t.priceItems.map((g,w)=>s.jsxs("div",{className:"automacao-price-item",children:[s.jsxs("div",{className:"automacao-price-item-header",children:[s.jsxs("span",{className:"automacao-price-item-label",children:["Item ",w+1]}),s.jsxs("button",{onClick:()=>u(g.id),className:"automacao-price-item-remove",children:[s.jsx(zn,{size:14}),"Remover"]})]}),s.jsxs("div",{className:"automacao-price-item-fields",children:[s.jsxs("div",{className:"automacao-form-field",children:[s.jsx("label",{children:"Descrio do Item *"}),s.jsx(lr,{value:g.descricao,onChange:v=>d(g.id,"descricao",v.target.value),placeholder:"Material e mo de obra"})]}),s.jsxs("div",{className:"automacao-form-field",children:[s.jsx("label",{children:"Qtde *"}),s.jsx(lr,{type:"number",value:g.qtde,onChange:v=>d(g.id,"qtde",v.target.value),placeholder:"1"})]}),s.jsxs("div",{className:"automacao-form-field",children:[s.jsx("label",{children:"Valor (R$) *"}),s.jsx(lr,{type:"number",step:"0.01",value:g.valor,onChange:v=>d(g.id,"valor",v.target.value),placeholder:"15300.00"})]})]})]},g.id))}),s.jsxs("button",{onClick:c,className:"automacao-btn automacao-btn-add",children:[s.jsx(vn,{size:18}),"Adicionar Novo Item"]}),s.jsx("div",{className:"automacao-divider"}),s.jsxs("div",{className:"automacao-grid-2",children:[s.jsxs("div",{className:"automacao-form-field",children:[s.jsx("label",{children:"Valor Total por Extenso *"}),s.jsx(lr,{value:t.valorTotalExtenso,onChange:g=>e({...t,valorTotalExtenso:g.target.value}),placeholder:"Quinze mil e trezentos reais"})]}),s.jsxs("div",{className:"automacao-form-field",children:[s.jsx("label",{children:"Prazo de Garantia (meses) *"}),s.jsx(lr,{type:"number",value:t.prazoGarantiaMeses,onChange:g=>e({...t,prazoGarantiaMeses:g.target.value}),placeholder:"60"})]})]})]}),s.jsxs("div",{className:"automacao-section",children:[s.jsxs("h3",{className:"automacao-section-title",children:[s.jsx(ka,{}),"5. Condies Gerais de Venda"]}),s.jsxs("div",{className:"automacao-grid-2",children:[s.jsxs("div",{className:"automacao-form-field",children:[s.jsx("label",{children:"5.1 Data Base da Proposta *"}),s.jsx(lr,{value:t.dataBaseProposta,onChange:g=>e({...t,dataBaseProposta:g.target.value}),placeholder:"DD/MM/AAAA"})]}),s.jsxs("div",{className:"automacao-form-field",children:[s.jsx("label",{children:"5.4 Prazo de Entrega *"}),s.jsx(lr,{value:t.prazoEntrega,onChange:g=>e({...t,prazoEntrega:g.target.value}),placeholder:"10 dias teis"})]})]})]}),s.jsxs("button",{onClick:p,className:"automacao-btn automacao-btn-export",children:[s.jsx(_h,{size:22}),"Exportar Proposta Comercial"]})]})})]})}const TR=x5("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function RR({className:t,variant:e,asChild:r=!1,...n}){const a=r?Dx:"span";return s.jsx(a,{"data-slot":"badge",className:An(TR({variant:e}),t),...n})}const DR=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),IR=async(t,e)=>{try{if(DR()){const r=t.output("blob"),n=new File([r],e,{type:"application/pdf"});if(navigator.share)try{await navigator.share({files:[n],title:"Proposta Comercial",text:"Proposta gerada pelo sistema PEPERAIO"}),pe.success("PDF compartilhado com sucesso!")}catch(a){a.name!=="AbortError"&&(console.error("Erro ao compartilhar:",a),pe.error("Erro ao compartilhar PDF"))}else{const a=URL.createObjectURL(r);window.open(a,"_blank"),pe.info("PDF aberto em nova aba"),setTimeout(()=>URL.revokeObjectURL(a),6e4)}}else t.save(e),pe.success("PDF exportado com sucesso!")}catch(r){console.error("Erro ao exportar PDF:",r),pe.error("Erro ao exportar PDF. Tente novamente.")}},Dr=20,ri=20,mh=210,FR=297,MR=mh-Dr*2,W_=FR-ri,Xi=t=>{t.setFont("helvetica","bold"),t.setFontSize(24),t.text("PEPERAIO",Dr,ri),t.setFont("brush script mt","italic"),t.setFontSize(12),t.text("Comunicao Visual",Dr,ri+7);const e=mh-Dr;t.setFont("helvetica","normal"),t.setFontSize(10),t.text("Isaac Peperaio  Marcos Peperaio",e,ri,{align:"right"}),t.text("62 98427-4856      61 98196-6308",e,ri+5,{align:"right"}),t.setLineWidth(2),t.setDrawColor(0,128,0),t.line(Dr,ri+15,mh-Dr,ri+15),t.setDrawColor(255,0,0),t.line(Dr,ri+18,mh-Dr,ri+18)},Gl=(t,e,r,n=10,a="normal")=>{let i=r;return t.setFontSize(n),t.setFont("helvetica",a),t.splitTextToSize(e,MR).forEach(u=>{i>W_-10&&(t.addPage(),Xi(t),i=ri+35);const d=u.trim();d.match(/^(\d+(\.\d+)?(\s)?(\.|-))/)||d.endsWith(":")?t.setFont("helvetica","bold"):t.setFont("helvetica",a),t.text(u,Dr,i),i+=n*.5}),i};function zR(){const{canEdit:t,canDelete:e,canCreate:r}=ui(),[n,a]=k.useState([]),[i,c]=k.useState(!0),[u,d]=k.useState(!1),[h,p]=k.useState(!1),[g,w]=k.useState(null),[v,S]=k.useState("");k.useEffect(()=>{x()},[]);const x=async()=>{c(!0);const{data:G,error:z}=await Pe.from("propostas").select("*").order("created_at",{ascending:!1});z?(pe.error("Erro ao carregar propostas!"),console.error(z)):a(G||[]),c(!1)},_=async G=>{if(!e){pe.error("Voc no tem permisso para deletar!");return}const{error:z}=await Pe.from("propostas").delete().eq("id",G);z?pe.error("Erro ao deletar proposta!"):(a(F=>F.filter(P=>P.id!==G)),pe.success("Proposta deletada com sucesso!"))},C=async()=>{if(!g||!t)return;const G=g.numero_revisao+1,F=`${new Date().getFullYear()} ${g.numero_sequencial}-R${G.toString().padStart(2,"0")}`,{error:P}=await Pe.from("propostas").update({cliente_nome:g.cliente_nome,cliente_contato:g.cliente_contato,proposta_numero:F,numero_revisao:G,escopo_fornecimento:g.escopo_fornecimento,condicoes_pagamento:g.condicoes_pagamento,price_items:g.price_items,valor_total_extenso:g.valor_total_extenso,prazo_garantia_meses:g.prazo_garantia_meses}).eq("id",g.id);P?pe.error("Erro ao atualizar proposta!"):(x(),d(!1),pe.success(`Proposta atualizada! Nova reviso: R${G.toString().padStart(2,"0")}`))},L=()=>{if(!g)return;const G={id:Date.now().toString(),descricao:"Novo item",qtde:"1",valor:"0.00"};w({...g,price_items:[...g.price_items,G]})},T=G=>{g&&w({...g,price_items:g.price_items.filter(z=>z.id!==G)})},R=(G,z,F)=>{g&&w({...g,price_items:g.price_items.map(P=>P.id===G?{...P,[z]:F}:P)})},H=G=>G.reduce((z,F)=>{const P=parseFloat(F.valor||"0"),M=parseInt(F.qtde||"1",10);return z+P*M},0),J=async G=>{try{const F=H(G.price_items).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),P=new Ft("p","mm","a4");let M=0;Xi(P),M=70,P.setFont("helvetica","bold"),P.setFontSize(12),P.text(`Proposta: ${G.proposta_numero} - Tcnica e Comercial`,Dr,M),M+=15,P.setFont("helvetica","normal"),P.setFontSize(11),P.text("DE: PEPERAIO COMUNICAO VISUAL",Dr,M),M+=7,P.text(`PARA: ${G.cliente_nome.toUpperCase()}`,Dr,M),M+=7,P.text(`Emisso: ${G.data_emissao}`,Dr,M),M+=15,P.setFont("helvetica","bold");const fe="********** PROPOSTA TCNICA E COMERCIAL ***********",ae=P.getTextWidth(fe),se=P.internal.pageSize.getWidth(),q=(se-ae)/2;P.text(fe,q,M),M+=15,P.setFont("helvetica","normal");const me=`Prezado senhor(a) ${G.cliente_contato}, atendendo a sua consulta, temos a satisfao de apresentar-lhe nossa Proposta Tcnica / Comercial para o fornecimento de fachada em referncia, os quais sero construdos de acordo com as caractersticas tcnicas mencionadas na proposta tcnica.

Esperamos desta forma ter correspondido s suas expectativas e colocamo-nos ao seu inteiro dispor para quaisquer esclarecimentos complementares.`;M=Gl(P,me,M,11),M+=20,P.text("Atenciosamente;",Dr,M),M+=60;const Ne=se/2;P.setFont("helvetica","bold"),P.text("Marcos Peperaio",Ne,M,{align:"center"}),M+=5,P.setFont("helvetica","normal"),P.text("Vendedor Tcnico/Comercial",Ne,M,{align:"center"}),M+=5,P.text("(61) 981966308",Ne,M,{align:"center"}),M+=5,P.text("E-mail: contato@peperaiovisual.com.br",Ne,M,{align:"center"}),P.addPage(),Xi(P),M=90,P.setFont("helvetica","bold"),P.setFontSize(16);const te="Contedo!",I=P.getTextWidth(te);P.text(te,(mh-I)/2,M),M+=25,P.setFont("helvetica","bold"),P.setFontSize(12),["1  ESCOPO DE FORNECIMENTO","2  EXCLUSES / LISTA DE DESVIOS","3  NOTAS TCNICAS","4  PREOS","5  CONDIES GERAIS DE VENDAS","6  TERMO DE GARANTIA DE PRODUTOS ENGENHEIRADOS"].forEach(bt=>{P.text(bt,Dr,M),M+=12}),P.addPage(),Xi(P),M=90,P.setFont("helvetica","bold"),P.setFontSize(14),P.text("1-ESCOPO DE FORNECIMENTO",Dr,M),M+=10,M=Gl(P,G.escopo_fornecimento,M,11,"normal"),M+=10,P.setFont("helvetica","bold"),P.text("Valor Total do Servio:",Dr,M),M+=7,P.setFont("helvetica","normal"),P.text(F,Dr,M),M+=10,M=Gl(P,G.condicoes_pagamento,M,11,"normal"),P.addPage(),Xi(P),M=90,P.setFont("helvetica","bold"),P.setFontSize(14),P.text("2-EXCLUSES / LISTA DE DESVIOS",Dr,M),M+=10,M=Gl(P,`2.1 no esto inclusos os services e materiais de instalao eltrica (externo aos paineis presentes nesta oferta), assim como a montagem e instalao dos mesmos;

2.2 nos ateremos apenas, as letras e painis apresentados no projeto, qualquer acrscimo de iluminao, ser cobrado a parte.

2.3 no esto inclusos no escopo de fornecimento quaisquer servios que no estejam relacionados nesta proposta

2.4 no estamos ofertando luminrias, ficando a cargo do cliente as escolhas das mesmas, se assim desejar, e caso queira nos contratar para tal, os valores no esto inclusos nesta proposta.

2.5 no sero fornecidos quaisquer materiais e servios que no estejam claramente mencionados no Item 1 desta proposta - Escopo de Fornecimento e/ou que no foram negociados entre as partes, tais como: Luminrias, forros, instalaes eltricas e outros.`,M,10,"normal"),M+=10,P.setFont("helvetica","bold"),P.setFontSize(14),P.text("3-NOTAS TCNICAS",Dr,M),M+=10,M=Gl(P,`3.1 para elaborao da presente proposta consideramos as documentaes tcnicas e lista de materiais encaminhada nesta proposta

3.2 o material relacionado, possui garantia de 5 anos;

3.3 o projeto acima proposto, tem direitos autorais, sendo vedada a execuo do mesmo por terceiros, sendo passvel de multas previstas em lei

3.4 A garantia do servio se dar na mesma quantidade da garantia do material.

3.5 Quaisquer divergncias entre o ofertado e suas reais necessidades, podero ser ajustadas mediante novo contrato, para tal, reservamo-nos o direito de rever os preos e prazos de entrega.`,M,10,"normal"),P.addPage(),Xi(P),M=90,P.setFont("helvetica","bold"),P.setFontSize(14),P.text("4-PREOS",Dr,M),M+=15;const ge=[["DESCRIO","QTDE","VL. UNIT.","VL. TOTAL"]],le=G.price_items.map(bt=>{const Ve=parseFloat(bt.valor||"0"),gt=parseInt(bt.qtde||"1",10),we=Ve*gt;return[bt.descricao,bt.qtde,Ve.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),we.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]});le.push([{content:"VALOR TOTAL:",styles:{fontStyle:"bold"}},"","",{content:F,styles:{fontStyle:"bold"}}]),$_(P,{head:ge,body:le,startY:M,theme:"grid",styles:{fontSize:10,cellPadding:3},headStyles:{fillColor:[41,128,185],textColor:255,fontStyle:"bold"},didDrawPage:bt=>{bt.cursor&&(M=bt.cursor.y)}}),M=M+10,P.setFont("helvetica","bold"),P.setFontSize(11),P.setTextColor(0,0,0),P.text("Importa a presente proposta o valor final total de ",Dr,M);const ye=P.getTextWidth("Importa a presente proposta o valor final total de ");P.setTextColor(255,0,0),P.text(`${F} (${G.valor_total_extenso})`,Dr+ye,M),P.setTextColor(0,0,0),P.addPage(),Xi(P),M=90,P.setFont("helvetica","bold"),P.setFontSize(14),P.text("5-CONDIES GERAIS DE VENDA",Dr,M),M+=10;const ke=G.data_base_proposta||new Date().toLocaleDateString("pt-BR"),De=G.prazo_entrega||"10 dias teis",He=`5.1 DATA BASE DA PROPOSTA: ${ke}

5.2 CONDIES DE PAGAMENTO:
50% na entrada e o restante na entrega.
Ou dividido no carto com os acrscimos da maquininha no ato
de contratao do servio.

5.3 IMPOSTOS:
Empresa optante pelo simples nacional, no destaca impostos como ICMS e IPI,
com todos os impostos inclusos para faturamento como Materiais
avulsos por;
Peperaio Comunicao Visual: CNPJ 34.004.933/0001-79.
Rua 05 Qd. 61 Lt. 02 Setor Santos Dumont - Goinia-GO.

5.4 PRAZO DE ENTREGA: ${De}

5.7 VALIDADE DESTA PROPOSTA: 10 dias da data de emisso.
Caso o cliente emita o "aceite" aps o prazo de validade,
os preos apresentados esto sujeitos a reajuste.
CANCELAMENTO - No caso de cancelamento pelo
cliente, posterior  aprovao da proposta, a Peperaio
Comunicao Visual emitir fatura, com vencimento a
vista, incluindo todas as despesas decorrentes,
deduzidos os valores at ento recebidos do cliente.
Em qualquer hiptese de resciso, as partes procedero a
um acerto de contas, considerando o valor dos servios
executados e/ou comprometidos e despesas decorrentes
da resciso para a Peperaio Comunicao Visual, contra o
valor dos pagamentos at ento recebidos por esta do
cliente.

5.8 CONDIES GERAIS DE FORNECIMENTO: Fazem
parte integrante da presente proposta as "Condies
Gerais de Fornecimento de Bens e Servios Peperaio",
que acompanham o presente.

5.9 ATRASO NO PAGAMENTO: Ocorrendo atraso no
pagamento, seja de parcela principal e/ou de reajuste, os
valores em atraso sero acrescidos de multa moratria
equivalente a 1,5% (um e meio por cento), bem como,
juros equivalentes a 2% (dois por cento) ao ms, pelo
prazo que perdurar o atraso.`;M=Gl(P,He,M,10,"normal"),P.addPage(),Xi(P),M=90,P.setFont("helvetica","bold"),P.setFontSize(14),P.text("6-TERMO DE GARANTIA DE PRODUTOS ENGENHEIRADOS",Dr,M),M+=10;const Fe=`1.  condio essencial para a validade desta garantia
que a compradora examine minuciosamente o produto
adquirido imediatamente aps a sua entrega, observando
atentamente as suas caractersticas e as instrues de
instalao, ajuste, operao e manuteno do mesmo.
O produto ser considerado aceito e automaticamente
aprovado pela compradora, quando no ocorrer a
manifestao por escrito da compradora sobre e
problemas tcnicos ou arrependimento quando cabvel,
no prazo mximo de sete dias teis aps a data de
entrega.

2. O prazo total de garantia dos produtos  de ${G.prazo_garantia_meses||"60"}
meses, contados da data de fornecimento da
Peperaio Comunicao Visual, comprovado atravs da
nota fiscal de compra do Material engenhado.

3. A garantia total acima  composta de: (a) tratando-se de
relao de consumo, os primeiros 90 (noventa) dias sero
considerados para fins de garantia a que se refere o inciso II
do art. 26 da Lei 8.078/90, e o restante do perodo ser
considerado como garantia contratual, nos termos do art.
50 da referida Lei; e (b) nos demais casos, os primeiros 30
(trinta) dias sero considerados para fins de garantia a que
se refere o caput do artigo 445 do Cdigo Civil Brasileiro.

4. em caso de defeito ou situaes inadequadas do
produto em garantia, os servios em garantia sero
realizados a critrio da Peperaio Comunicao Visual.

5. O produto, na ocorrncia de uma anomalia dever estar
disponvel para o fornecedor, pelo perodo necessrio para
a identificao da causa da anomalia e seus devidos
reparos.

6. A Peperaio Comunicao Visual examinar o produto ou
material com defeito, e, caso comprove a existncia de
defeito coberto pela garantia, reparar, modificar ou
substituir o material defeituoso, a seu critrio, sem custos
para a compradora, exceto os mencionados.

7. A responsabilidade da presente garantia se limita
exclusivamente ao reparo do produto fornecido, no se
responsabilizando a Peperaio Comunicao Visual por
danos a pessoas, a terceiros, a outros equipamentos ou
instalaes, lucros cessantes ou quaisquer outros danos
emergentes ou consequentes.

8. Outras despesas como fretes, embalagens, custos de
montagem e desmontagem, parametrizao, correro por
conta exclusiva da compradora, inclusive todos as despesas
de locomoo/estadia do pessoal de assistncia Tcnica e
eventuais horas extras, quando for necessrio e/ou
solicitado um atendimento nas instalaes do usurio.

9. A presente garantia no abrange o desgaste normal dos
produtos ou materiais, nem os danos decorrentes de
operao ou instalao indevida ou negligente em
desacordo com as especificaes tcnicas, parametrizao
incorreta, manuteno ou armazenagem inadequada,
instalaes de m qualidade ou influncias de natureza
qumica, eletroqumica, eltrica, mecnica ou atmosfrica.

10. Ficam excludas da responsabilidade por defeitos as
partes ou peas consideradas de consumo, tais como,
Luminrias, rels fototimer, protetores contra surtos, para
raios, etc.

11. A garantia extinguir-se-, independentemente de
qualquer aviso, se a compradora sem prvia autorizao
por escrito da Peperaio Comunicao Visual, fizer ou
mandar fazer por terceiros, quaisquer modificaes ou
reparos no produto ou equipamento que vier a
apresentar anomalia, ou qualquer modificao a gosto
ou critrio do cliente.

12. O direito  garantia ficar suspenso em caso de mora
ou inadimplemento de obrigaes da compradora para
com a Peperaio Comunicao Visual, nos termos do
disposto no artigo 476 do Cdigo Civil Brasileiro, sendo
que o lapso temporal da suspenso ser considerado
garantia decorrida, caso a compradora, posteriormente,
cumpra suas obrigaes para com a Peperaio Visual.

13. Quaisquer reparos, modificaes, substituies
decorrentes de defeitos de fabricao no
interrompem nem prorrogam o prazo desta garantia.

14. A garantia oferecida pela Peperaio Comunicao
Visual est condicionada  observncia destas
condies gerais, sendo este o nico termo de garantia
visto.`;M=Gl(P,Fe,M,10,"normal"),M>W_-50?(P.addPage(),Xi(P),M=90):M+=15,M=Gl(P,"Esperando haver atendido as suas expectativas permanecemos  sua disposio para quaisquer esclarecimentos, reviso ou alterao que se faam necessrios.",M,11,"normal"),M+=15,P.text("Cordialmente,",Dr,M),M+=15,P.setFont("helvetica","bold"),P.text("Isaac Peperaio",Dr,M),P.setFont("helvetica","normal");const zt=P.getTextWidth("Isaac Peperaio ");P.text("(61) 981966308",Dr+zt,M),M+=5,P.text("Depto. Engenharia e Montagem",Dr,M);const wt=`Proposta_${G.proposta_numero.replace(/\s/g,"_")}.pdf`;await IR(P,wt)}catch(z){console.error(z),pe.error("Erro ao exportar PDF!")}},Q=async()=>{if(!e){pe.error("Voc no tem permisso para finalizar propostas!");return}if(!g||!v.trim()){pe.error("Digite um nome para a obra!");return}const G=H(g.price_items),{data:z,error:F}=await Pe.from("obras").insert({nome:v,orcamento:G,lucro:0,finalizada:!1}).select();if(F){pe.error("Erro ao criar obra!"),console.error(F);return}const{error:P}=await Pe.from("propostas").update({finalizada:!0}).eq("id",g.id);if(P){pe.error("Erro ao finalizar proposta!"),console.error(P);return}pe.success(`Obra "${v}" criada com sucesso!`),p(!1),S(""),x()};if(i)return s.jsx("div",{className:"propostas-container",children:s.jsxs("div",{className:"automacao-loading",children:[s.jsx("div",{className:"automacao-spinner"}),s.jsx("p",{className:"automacao-loading-text",children:"Carregando propostas..."})]})});const D=n.filter(G=>!G.finalizada),$=n.filter(G=>G.finalizada);return s.jsxs("div",{className:"propostas-container",children:[s.jsx("div",{className:"propostas-header",children:s.jsxs("div",{className:"propostas-header-content",children:[s.jsx("h1",{children:"Propostas Comerciais"}),s.jsx("p",{children:"Gerencie todas as propostas salvas no sistema"})]})}),s.jsxs("div",{className:"propostas-summary",children:[s.jsx("div",{className:"propostas-summary-card total",children:s.jsxs("div",{className:"propostas-summary-header",children:[s.jsx("div",{className:"propostas-summary-icon",children:s.jsx(Ps,{size:24})}),s.jsxs("div",{className:"propostas-summary-info",children:[s.jsx("h3",{children:"Total de Propostas"}),s.jsx("p",{children:n.length})]})]})}),s.jsx("div",{className:"propostas-summary-card ativas",children:s.jsxs("div",{className:"propostas-summary-header",children:[s.jsx("div",{className:"propostas-summary-icon",children:s.jsx(_h,{size:24})}),s.jsxs("div",{className:"propostas-summary-info",children:[s.jsx("h3",{children:"Propostas Ativas"}),s.jsx("p",{children:D.length})]})]})}),s.jsx("div",{className:"propostas-summary-card finalizadas",children:s.jsxs("div",{className:"propostas-summary-header",children:[s.jsx("div",{className:"propostas-summary-icon",children:s.jsx(Mn,{size:24})}),s.jsxs("div",{className:"propostas-summary-info",children:[s.jsx("h3",{children:"Propostas Finalizadas"}),s.jsx("p",{children:$.length})]})]})})]}),n.length===0?s.jsxs("div",{className:"propostas-empty",children:[s.jsx("div",{className:"propostas-empty-icon",children:s.jsx(Ps,{size:40})}),s.jsx("h3",{children:"Nenhuma proposta encontrada"}),s.jsx("p",{children:"As propostas salvas aparecero aqui"})]}):s.jsx("div",{className:"propostas-grid",children:n.map(G=>s.jsxs("div",{className:`proposta-card ${G.finalizada?"finalizada":"ativa"}`,children:[s.jsxs("div",{className:"proposta-card-header",children:[s.jsxs("div",{className:"proposta-card-title-section",children:[s.jsxs("h3",{className:"proposta-card-numero",children:[s.jsx(Ps,{}),G.proposta_numero]}),s.jsx("h2",{className:"proposta-card-cliente",children:G.cliente_nome})]}),s.jsx(RR,{className:`proposta-badge ${G.finalizada?"finalizada":"ativa"}`,children:G.finalizada?s.jsxs(s.Fragment,{children:[s.jsx(Mn,{}),"Finalizada"]}):"Ativa"})]}),s.jsxs("div",{className:"proposta-info",children:[s.jsxs("div",{className:"proposta-info-row",children:[s.jsxs("span",{className:"proposta-info-label",children:[s.jsx(ol,{size:16}),"Contato"]}),s.jsx("span",{className:"proposta-info-value",children:G.cliente_contato})]}),s.jsxs("div",{className:"proposta-info-row",children:[s.jsxs("span",{className:"proposta-info-label",children:[s.jsx(ka,{size:16}),"Emisso"]}),s.jsx("span",{className:"proposta-info-value",children:G.data_emissao})]}),s.jsxs("div",{className:"proposta-info-row",children:[s.jsxs("span",{className:"proposta-info-label",children:[s.jsx(sr,{size:16}),"Valor Total"]}),s.jsx("span",{className:"proposta-info-value highlight",children:ft(H(G.price_items))})]})]}),s.jsxs("div",{className:"proposta-card-actions",children:[s.jsx("button",{onClick:()=>{w(G),d(!0)},className:"propostas-btn-icon edit",title:"Editar Proposta",children:s.jsx(tc,{size:16})}),s.jsxs("button",{onClick:()=>J(G),className:"propostas-btn propostas-btn-pdf",children:[s.jsx(_h,{size:16}),"Exportar PDF"]}),!G.finalizada&&e&&s.jsxs("button",{onClick:()=>{w(G),p(!0)},className:"propostas-btn propostas-btn-finalizar",children:[s.jsx(Mn,{size:16}),"Finalizar"]}),e&&s.jsx("button",{onClick:()=>_(G.id),className:"propostas-btn-icon delete",title:"Excluir Proposta",children:s.jsx(zn,{size:16})})]})]},G.id))}),s.jsx(gn,{open:u,onOpenChange:d,children:s.jsxs(nn,{className:"propostas-dialog-content",children:[s.jsx("div",{className:"propostas-dialog-header",children:s.jsxs("h2",{className:"propostas-dialog-title",children:[s.jsx(tc,{}),"Editar Proposta"]})}),g&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"propostas-dialog-body",children:[s.jsxs("div",{className:"propostas-form-section",children:[s.jsxs("h3",{className:"propostas-form-section-title",children:[s.jsx(ol,{}),"Informaes do Cliente"]}),s.jsxs("div",{className:"propostas-form-grid",children:[s.jsxs("div",{className:"propostas-form-field",children:[s.jsx("label",{children:"Nome do Cliente"}),s.jsx(lr,{value:g.cliente_nome,onChange:G=>w({...g,cliente_nome:G.target.value})})]}),s.jsxs("div",{className:"propostas-form-field",children:[s.jsx("label",{children:"Contato"}),s.jsx(lr,{value:g.cliente_contato,onChange:G=>w({...g,cliente_contato:G.target.value})})]})]}),s.jsxs("div",{className:"propostas-form-field",children:[s.jsx("label",{children:"Nmero da Proposta"}),s.jsx(lr,{value:g.proposta_numero,readOnly:!0,disabled:!0,style:{background:"#0f1526",cursor:"not-allowed",opacity:.7},title:"Ao salvar, a reviso ser incrementada automaticamente"}),s.jsxs("p",{style:{color:"#94a3b8",fontSize:"0.8125rem",marginTop:"0.25rem"},children:["Reviso atual: R",g.numero_revisao.toString().padStart(2,"0"),"  Prxima reviso: R",(g.numero_revisao+1).toString().padStart(2,"0")]})]})]}),s.jsxs("div",{className:"propostas-form-section",children:[s.jsxs("h3",{className:"propostas-form-section-title",children:[s.jsx(Ps,{}),"Escopo e Condies"]}),s.jsxs("div",{className:"propostas-form-field full",children:[s.jsx("label",{children:"Escopo de Fornecimento"}),s.jsx(_p,{value:g.escopo_fornecimento,onChange:G=>w({...g,escopo_fornecimento:G.target.value}),rows:6})]}),s.jsxs("div",{className:"propostas-form-field full",children:[s.jsx("label",{children:"Condies de Pagamento"}),s.jsx(_p,{value:g.condicoes_pagamento,onChange:G=>w({...g,condicoes_pagamento:G.target.value}),rows:4})]})]}),s.jsxs("div",{className:"propostas-form-section",children:[s.jsxs("h3",{className:"propostas-form-section-title",children:[s.jsx(sr,{}),"Itens de Preo"]}),s.jsx("div",{className:"propostas-price-items",children:g.price_items.map((G,z)=>s.jsxs("div",{className:"propostas-price-item",children:[s.jsxs("div",{className:"propostas-price-item-header",children:[s.jsxs("span",{className:"propostas-price-item-label",children:["Item ",z+1]}),s.jsxs("button",{onClick:()=>T(G.id),className:"propostas-price-item-remove",children:[s.jsx(zn,{size:14}),"Remover"]})]}),s.jsxs("div",{className:"propostas-price-item-fields",children:[s.jsxs("div",{className:"propostas-form-field",children:[s.jsx("label",{children:"Descrio"}),s.jsx(lr,{placeholder:"Descrio do item",value:G.descricao,onChange:F=>R(G.id,"descricao",F.target.value)})]}),s.jsxs("div",{className:"propostas-form-field",children:[s.jsx("label",{children:"Qtde"}),s.jsx(lr,{type:"number",placeholder:"1",value:G.qtde,onChange:F=>R(G.id,"qtde",F.target.value)})]}),s.jsxs("div",{className:"propostas-form-field",children:[s.jsx("label",{children:"Valor (R$)"}),s.jsx(lr,{type:"number",step:"0.01",placeholder:"0.00",value:G.valor,onChange:F=>R(G.id,"valor",F.target.value)})]})]})]},G.id))}),s.jsxs("button",{onClick:L,className:"propostas-btn-add-item",children:[s.jsx(vn,{size:18}),"Adicionar Novo Item"]}),s.jsxs("p",{style:{color:"#34d399",fontSize:"1.1rem",fontWeight:"700",marginTop:"1rem"},children:["Valor Total: ",ft(H(g.price_items))]})]}),s.jsx("div",{className:"propostas-form-section",children:s.jsxs("div",{className:"propostas-form-grid",children:[s.jsxs("div",{className:"propostas-form-field",children:[s.jsx("label",{children:"Valor Total por Extenso"}),s.jsx(lr,{value:g.valor_total_extenso,onChange:G=>w({...g,valor_total_extenso:G.target.value})})]}),s.jsxs("div",{className:"propostas-form-field",children:[s.jsx("label",{children:"Prazo Garantia (meses)"}),s.jsx(lr,{type:"number",value:g.prazo_garantia_meses,onChange:G=>w({...g,prazo_garantia_meses:G.target.value})})]})]})})]}),s.jsxs("div",{className:"propostas-dialog-footer",children:[s.jsx($a,{variant:"outline",onClick:()=>d(!1),className:"propostas-btn",children:"Cancelar"}),s.jsx($a,{onClick:C,className:"propostas-btn propostas-btn-primary",children:"Salvar Alteraes"})]})]})]})}),s.jsx(gn,{open:h,onOpenChange:p,children:s.jsx(nn,{className:"propostas-dialog-content",style:{maxWidth:"520px"},children:g&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"propostas-dialog-header",children:s.jsxs("h2",{className:"propostas-dialog-title",children:[s.jsx(Mn,{style:{color:"#34d399"}}),"Finalizar Proposta"]})}),s.jsxs("div",{className:"propostas-dialog-body",children:[s.jsxs("div",{className:"propostas-finalizar-info",children:[s.jsxs("div",{className:"propostas-finalizar-badge",children:[s.jsx(Ps,{size:14}),"PROPOSTA"]}),s.jsx("h3",{style:{color:"#e6eef8",fontSize:"1.1rem",fontWeight:"700",marginBottom:"0.5rem"},children:g.proposta_numero}),s.jsxs("div",{className:"propostas-finalizar-details",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Cliente:"})," ",g.cliente_nome]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Contato:"})," ",g.cliente_contato]})]}),s.jsxs("div",{className:"propostas-finalizar-total",children:[s.jsx("span",{className:"propostas-finalizar-total-label",children:"Valor Total:"}),s.jsx("span",{className:"propostas-finalizar-total-value",children:ft(H(g.price_items))})]}),s.jsx("p",{style:{color:"#94a3b8",fontSize:"0.8125rem",marginTop:"0.5rem"},children:"Ser definido como oramento da obra"})]}),s.jsxs("div",{className:"propostas-form-field full",children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx(Pa,{size:16}),"Nome da Nova Obra *"]}),s.jsx(lr,{id:"nome-obra",placeholder:"Ex: Fachada ENF Clinic",value:v,onChange:G=>S(G.target.value),autoFocus:!0}),s.jsx("p",{style:{color:"#94a3b8",fontSize:"0.8125rem",marginTop:"0.25rem"},children:"Escolha um nome descritivo para esta obra"})]})]}),s.jsxs("div",{className:"propostas-dialog-footer",children:[s.jsx($a,{type:"button",variant:"outline",onClick:()=>{p(!1),S("")},className:"propostas-btn",children:"Cancelar"}),s.jsxs($a,{type:"button",onClick:Q,disabled:!v.trim(),className:"propostas-btn propostas-btn-finalizar",style:{background:v.trim()?"linear-gradient(135deg, #34d399 0%, #10b981 100%)":"#475569",opacity:v.trim()?1:.5,cursor:v.trim()?"pointer":"not-allowed"},children:[s.jsx(Mn,{size:16}),"Criar Obra"]})]})]})})})]})}function BR(){const{user:t,logout:e,updateUser:r}=Th(),n=Qs(),a=k.useRef(null),[i,c]=k.useState(!1),[u,d]=k.useState(!1),[h,p]=k.useState({nome:t?.nome||""}),[g,w]=k.useState(t?.avatar_url||""),[v,S]=k.useState(!1);k.useEffect(()=>{const L=document.querySelector(".minha-conta-particles");if(!L)return;const T=25,R=[];for(let H=0;H<T;H++){const J=document.createElement("div");J.className=`minha-conta-particle ${H%3===0?"small":H%3===1?"medium":"large"}`,J.style.left=`${Math.random()*100}%`,J.style.animationDuration=`${15+Math.random()*20}s`,J.style.animationDelay=`${Math.random()*5}s`,L.appendChild(J),R.push(J)}return()=>{R.forEach(H=>H.remove())}},[]);const x=()=>{e(),pe.success("Logout realizado com sucesso!"),n("/login")},_=L=>{L.preventDefault(),r({nome:h.nome}),pe.success("Nome atualizado com sucesso!"),c(!1)},C=async L=>{const T=L.target.files?.[0];if(!(!T||!t)){if(!T.type.startsWith("image/")){pe.error("Por favor, selecione uma imagem vlida");return}if(T.size>5*1024*1024){pe.error("A imagem deve ter no mximo 5MB");return}S(!0);try{const R=T.name.split(".").pop(),H=`avatar_${t.id}_${Date.now()}.${R}`,{data:J,error:Q}=await Pe.storage.from("avatars").upload(H,T,{cacheControl:"3600",upsert:!0});if(Q)throw Q;const{publicUrl:D}=Pe.storage.from("avatars").getPublicUrl(H).data;w(D),r({avatar_url:D}),pe.success("Foto atualizada com sucesso!")}catch{pe.error("Erro ao fazer upload do avatar")}S(!1)}};return t?s.jsxs("div",{className:"minha-conta-container",children:[s.jsx("div",{className:"minha-conta-particles"}),s.jsxs("div",{className:"minha-conta-content",children:[s.jsxs("div",{className:"minha-conta-header",children:[s.jsx("h1",{children:"Minha Conta"}),s.jsx("p",{children:"Gerencie suas informaes pessoais"})]}),s.jsxs("div",{className:"minha-conta-profile-card",children:[s.jsx("div",{className:"minha-conta-card-header",children:s.jsx("h2",{className:"minha-conta-card-title",children:"Informaes do Perfil"})}),s.jsxs("div",{className:"minha-conta-card-content",children:[s.jsxs("div",{className:"minha-conta-avatar-section",children:[s.jsxs("div",{className:"minha-conta-avatar-wrapper",children:[s.jsx("div",{className:"minha-conta-avatar",children:t.avatar_url?s.jsx("img",{src:t.avatar_url,alt:t.nome}):s.jsx("div",{className:"minha-conta-avatar-fallback",children:t.nome.charAt(0)})}),s.jsx("input",{ref:a,type:"file",accept:"image/*",onChange:C,style:{display:"none"}}),s.jsx("button",{className:"minha-conta-avatar-upload-btn",onClick:()=>a.current?.click(),disabled:v,children:v?s.jsx("div",{className:"minha-conta-spinner",style:{width:"20px",height:"20px",borderWidth:"2px"}}):s.jsx(gE,{size:20,color:"#fff"})})]}),s.jsxs("p",{className:"minha-conta-avatar-hint",children:["Clique no cone para selecionar uma foto",s.jsx("br",{}),"(Mximo 5MB)"]})]}),s.jsxs("div",{className:"minha-conta-info-section",children:[s.jsxs("div",{className:"minha-conta-info-item",children:[s.jsxs("div",{className:"minha-conta-info-content",children:[s.jsx("p",{className:"minha-conta-info-label",children:"Nome"}),s.jsx("p",{className:"minha-conta-info-value",children:t.nome})]}),s.jsxs(gn,{open:i,onOpenChange:c,children:[s.jsx(ec,{asChild:!0,children:s.jsx("button",{className:"minha-conta-edit-btn",children:s.jsx(tc,{size:18})})}),s.jsxs(nn,{className:"minha-conta-dialog-content",children:[s.jsx(Ss,{children:s.jsx(Es,{className:"minha-conta-dialog-title",children:"Editar Nome"})}),s.jsxs("form",{onSubmit:_,children:[s.jsxs("div",{className:"minha-conta-form-field",children:[s.jsx(Rn,{children:"Nome de Exibio"}),s.jsx(lr,{value:h.nome,onChange:L=>p({nome:L.target.value}),required:!0})]}),s.jsx($a,{type:"submit",className:"minha-conta-btn-submit",children:"Salvar Alteraes"})]})]})]})]}),s.jsx("div",{className:"minha-conta-info-item",children:s.jsxs("div",{className:"minha-conta-info-content",children:[s.jsx("p",{className:"minha-conta-info-label",children:"Email"}),s.jsx("p",{className:"minha-conta-info-value",children:t.email})]})}),s.jsx("div",{className:"minha-conta-info-item",children:s.jsxs("div",{className:"minha-conta-info-content",children:[s.jsx("p",{className:"minha-conta-info-label",children:"Permisso"}),s.jsxs("div",{className:`minha-conta-badge ${t.permissao==="admin"||t.permissao==="visualizador"?"proprietario":"viewer"}`,children:[s.jsx(dC,{size:16}),t.permissao==="admin"||t.permissao==="visualizador"?"Proprietrio":"Visualizador"]})]})})]}),s.jsxs("button",{className:"minha-conta-logout-btn",onClick:x,children:[s.jsx(kx,{size:20}),"Sair da Conta"]})]})]}),s.jsxs("div",{className:"minha-conta-info-card",children:[s.jsxs("h3",{children:[s.jsx(HE,{size:20}),"Sobre as Permisses"]}),s.jsxs("div",{className:"minha-conta-info-card-content",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Administrador:"})," Acesso completo ao sistema, pode criar, editar e excluir dados."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Visualizador:"})," Pode visualizar todos os dados, mas no pode fazer alteraes."]})]})]})]})]}):s.jsx("div",{className:"minha-conta-loading",children:"Carregando informaes do usurio..."})}function UR(){const t=Qs(),{isAdmin:e}=ui(),{cards:r,loading:n,transferirVerba:a,carregarCards:i}=Bv(),[c,u]=k.useState([]),[d,h]=k.useState([]),[p,g]=k.useState(!0),[w,v]=k.useState(!1),[S,x]=k.useState({obraId:"",funcionarioId:"",valorInicial:""}),_=r.filter(R=>R.status!=="FINALIZADO"&&R.status!=="CANCELADO");k.useEffect(()=>{if(!e)return;(async()=>{g(!0),await Promise.all([C(),L()]),g(!1)})()},[e]);const C=async()=>{const{data:R,error:H}=await Pe.from("obras").select("id, nome, orcamento, finalizada").order("nome");if(H){console.error("Erro ao carregar obras:",H),pe.error("Erro ao carregar obras disponveis");return}u((R||[]).filter(J=>!J.finalizada))},L=async()=>{const{data:R,error:H}=await Pe.from("usuarios").select("id, nome, email, permissao").eq("permissao","visualizador").order("nome");if(H){console.error("Erro ao carregar funcionrios:",H),pe.error("Erro ao carregar funcionrios");return}h((R||[]).map(J=>({id:J.id,nome:J.nome,email:J.email})))},T=async R=>{if(R.preventDefault(),!e)return;const{obraId:H,funcionarioId:J,valorInicial:Q}=S;if(!H||!J){pe.error("Selecione a obra e o funcionrio responsvel");return}try{v(!0);const{data:D,error:$}=await Pe.from("obras").select("*").eq("id",H).single();if($||!D)throw $||new Error("Obra no encontrada");const G=D.nome||D.titulo||"Obra",{data:z,error:F}=await Pe.from("cards_de_obra").select("*").eq("titulo",G).eq("id_visualizador_responsavel",J).limit(1);if(F)throw F;let P=z?.[0]??null;if(!P){const{data:ae,error:se}=await Pe.from("cards_de_obra").insert({id_visualizador_responsavel:J,titulo:G,nome_cliente:G,valor_venda_orcamento:D.orcamento||D.valor_venda_orcamento||0,saldo_atual:0,total_gasto:0,status:"EM_ANDAMENTO"}).select().single();if(se)throw se;P=ae}const M=Q.replace(",","."),fe=parseFloat(M)||0;fe>0&&P&&await a(P,fe),await i(),await C(),pe.success("Obra vinculada com sucesso!"),x({obraId:"",funcionarioId:"",valorInicial:""})}catch(D){console.error("Erro ao vincular obra:",D),pe.error("Erro ao vincular obra")}finally{v(!1)}};return e?s.jsxs("div",{className:"gestao-obras-page",children:[s.jsxs("div",{className:"gestao-header",children:[s.jsxs("div",{className:"gestao-header-content",children:[s.jsxs("h1",{children:[s.jsx("div",{className:"gestao-header-icon",children:s.jsx(Pa,{size:24})}),"Gesto de Obras"]}),s.jsx("p",{children:"Vincule obras aos responsveis e defina a verba inicial diretamente"})]}),s.jsxs("div",{className:"gestao-header-actions",children:[s.jsxs("button",{className:"obras-btn",onClick:()=>t("/obras"),children:[s.jsx(xh,{className:"h-4 w-4"}),"Voltar para Obras"]}),s.jsxs("button",{className:"obras-btn obras-btn-primary",onClick:()=>t("/cards-de-obra"),children:[s.jsx(dp,{className:"h-4 w-4"}),"Abrir Cards de Obra"]})]})]}),s.jsxs("div",{className:"gestao-obras-container",children:[s.jsx("h2",{className:"gestao-title",children:"Vincular obra ao funcionrio"}),s.jsx("p",{className:"gestao-info",children:"Selecione a obra ativa, o responsvel e (opcionalmente) defina o valor inicial a ser transferido para o card. A verba ser debitada do caixa, lanada como gasto da obra e o oramento ser atualizado automaticamente."}),p?s.jsx("div",{className:"gestao-loading",children:"Carregando obras e funcionrios"}):c.length===0?s.jsx("div",{className:"gestao-empty",children:"Nenhuma obra ativa disponvel para vinculao. Cadastre uma nova obra primeiro."}):s.jsxs("form",{className:"gestao-form",onSubmit:T,children:[s.jsxs("div",{className:"gestao-grid",children:[s.jsxs("div",{className:"gestao-field",children:[s.jsx(Rn,{children:"Obra"}),s.jsxs("select",{value:S.obraId,onChange:R=>x({...S,obraId:R.target.value}),required:!0,children:[s.jsx("option",{value:"",children:"Selecione uma obra"}),c.map(R=>s.jsx("option",{value:R.id,children:R.nome},R.id))]})]}),s.jsxs("div",{className:"gestao-field",children:[s.jsx(Rn,{children:"Funcionrio"}),s.jsxs("select",{value:S.funcionarioId,onChange:R=>x({...S,funcionarioId:R.target.value}),required:!0,children:[s.jsx("option",{value:"",children:"Selecione um funcionrio"}),d.map(R=>s.jsx("option",{value:R.id,children:R.nome||R.email},R.id))]})]}),s.jsxs("div",{className:"gestao-field",children:[s.jsx(Rn,{children:"Verba inicial (opcional)"}),s.jsx(lr,{type:"number",step:"0.01",min:"0",value:S.valorInicial,onChange:R=>x({...S,valorInicial:R.target.value}),placeholder:"0,00"})]})]}),s.jsxs("div",{className:"gestao-actions",children:[s.jsxs("button",{type:"submit",disabled:w,children:[s.jsx(Ax,{className:"h-4 w-4"}),w?"Vinculando...":"Vincular obra"]}),s.jsxs("button",{type:"button",onClick:()=>t("/cards-de-obra"),children:[s.jsx(dp,{className:"h-4 w-4"}),"Ir para Cards de Obra"]})]})]}),s.jsxs("div",{className:"gestao-stats",children:[s.jsxs("div",{className:"gestao-stat-card",children:[s.jsx("span",{className:"gestao-stat-label",children:"Obras Ativas"}),s.jsx("span",{className:"gestao-stat-value",children:c.length})]}),s.jsxs("div",{className:"gestao-stat-card",children:[s.jsx("span",{className:"gestao-stat-label",children:"Funcionrios"}),s.jsx("span",{className:"gestao-stat-value",children:d.length})]}),s.jsxs("div",{className:"gestao-stat-card",children:[s.jsx("span",{className:"gestao-stat-label",children:"Cards Ativos"}),s.jsx("span",{className:"gestao-stat-value",children:n?"...":_.length})]})]}),s.jsxs("ul",{className:"gestao-features",children:[s.jsx("li",{children:"Aps a vinculao, envie novas verbas pelo mdulo Obras > Enviar Verba"}),s.jsx("li",{children:"Os gastos lanados pelos colaboradores atualizam o card em tempo real"}),s.jsx("li",{children:"Finalize a obra aprovando o card correspondente no painel de cards"})]})]})]}):s.jsx("div",{className:"gestao-obras-page",children:s.jsxs("div",{className:"gestao-obras-container",children:[s.jsx("h2",{className:"gestao-title",children:"Acesso Restrito"}),s.jsx("p",{className:"gestao-info",children:"Voc no tem permisso para acessar esta pgina."}),s.jsxs($a,{variant:"outline",onClick:()=>t("/obras"),children:[s.jsx(xh,{className:"h-4 w-4"}),"Voltar para Obras"]})]})})}function qR(){const[t,e]=k.useState(!1),r=Qs(),a=ci().pathname,{isAdmin:i}=ui(),d=i?[{icon:c2,label:"Dashboard",href:"/dashboard"},{icon:Jf,label:"Funcionrios",href:"/funcionarios"},{icon:Ps,label:"Propostas",href:"/propostas"},{icon:Pa,label:"Obras",href:"/obras"},{icon:dp,label:"Gesto de Obras",href:"/gestao-obras"},{icon:Kc,label:"Caixa",href:"/caixa"},{icon:ME,label:"A Receber",href:"/receber"},{icon:ch,label:"Dvidas",href:"/dividas"},{icon:i2,label:"Automao PDF",href:"/automacao-pdf"},{icon:ol,label:"Minha Conta",href:"/minha-conta"}]:[{icon:c2,label:"Dashboard",href:"/dashboard"},{icon:dp,label:"Minhas Obras",href:"/minhas-obras"},{icon:Kc,label:"Caixa",href:"/caixa"},{icon:i2,label:"Automao PDF",href:"/automacao-pdf"},{icon:Ps,label:"Propostas",href:"/propostas"},{icon:ol,label:"Minha Conta",href:"/minha-conta"}];return s.jsxs("nav",{className:"peperaio-navbar",children:[s.jsxs("div",{className:"navbar-container",children:[s.jsxs("button",{className:`navbar-toggle ${t?"active":""}`,onClick:()=>e(!t),"aria-label":"Toggle menu","aria-expanded":t,children:[s.jsx("span",{className:"hamburger-line line1"}),s.jsx("span",{className:"hamburger-line line2"}),s.jsx("span",{className:"hamburger-line line3"})]}),s.jsx("h1",{className:"navbar-brand",children:"PEPERAIO"}),s.jsx("button",{className:"btn-trocar-dashboard",onClick:()=>r("/dashboard-selector"),title:"Trocar Dashboard",children:s.jsx(Ox,{size:20})})]}),t&&s.jsx("div",{className:"navbar-overlay",onClick:()=>e(!1)}),s.jsxs("aside",{className:`navbar-sidebar ${t?"open":""}`,children:[s.jsxs("div",{className:"sidebar-header",children:[s.jsx("h2",{className:"sidebar-title",children:"Menu"}),s.jsx("button",{className:"sidebar-close",onClick:()=>e(!1),"aria-label":"Fechar menu",children:s.jsx(Nh,{size:20})})]}),s.jsx("nav",{className:"sidebar-nav",children:d.map((h,p)=>{const g=a===h.href;return s.jsxs("button",{onClick:()=>{r(h.href),e(!1)},className:`nav-item ${g?"active":""}`,children:[s.jsx(h.icon,{size:20,strokeWidth:2}),s.jsx("span",{children:h.label}),g&&s.jsx("span",{className:"active-particle"})]},p)})}),s.jsx("div",{className:"sidebar-footer",children:s.jsx("p",{children:"Comunicao Visual"})})]})]})}const $R=({children:t})=>s.jsxs("div",{style:{display:"flex",flexDirection:"column",minHeight:"100dvh",width:"100%",background:"linear-gradient(180deg, #071029 0%, #071017 60%)",position:"relative",overflow:"hidden"},className:"webkit-fill-available",children:[s.jsx(qR,{}),s.jsx("main",{style:{flex:1,paddingTop:"calc(64px + env(safe-area-inset-top))",display:"flex",flexDirection:"column",width:"100%",minHeight:0,overflow:"auto",position:"relative"},children:s.jsx(Ep,{})})]});function VR(){const{user:t,loading:e}=Th();return e?s.jsx("div",{children:"Carregando..."}):t?s.jsx(Ep,{}):s.jsx(Nb,{to:"/login",replace:!0})}function WR(t={}){const{immediate:e=!1,onNeedRefresh:r,onOfflineReady:n,onRegistered:a,onRegisteredSW:i,onRegisterError:c}=t;let u,d,h;const p=async(w=!0)=>{await d,h?.()};async function g(){if("serviceWorker"in navigator){if(u=await oi(async()=>{const{Workbox:w}=await import("./workbox-window.prod.es5-CwtvwXb3.js");return{Workbox:w}},[]).then(({Workbox:w})=>new w("/sw.js",{scope:"/",type:"classic"})).catch(w=>{c?.(w)}),!u)return;h=()=>{u?.messageSkipWaiting()};{let w=!1;const v=()=>{w=!0,u?.addEventListener("controlling",S=>{S.isUpdate&&window.location.reload()}),r?.()};u.addEventListener("installed",S=>{typeof S.isUpdate>"u"?typeof S.isExternal<"u"&&S.isExternal?v():!w&&n?.():S.isUpdate||n?.()}),u.addEventListener("waiting",v)}u.register({immediate:e}).then(w=>{i?i("/sw.js",w):a?.(w)}).catch(w=>{c?.(w)})}}return d=g(),p}function HR(t={}){const{immediate:e=!0,onNeedRefresh:r,onOfflineReady:n,onRegistered:a,onRegisteredSW:i,onRegisterError:c}=t,[u,d]=k.useState(!1),[h,p]=k.useState(!1),[g]=k.useState(()=>WR({immediate:e,onOfflineReady(){p(!0),n?.()},onNeedRefresh(){d(!0),r?.()},onRegistered:a,onRegisteredSW:i,onRegisterError:c}));return{needRefresh:[u,d],offlineReady:[h,p],updateServiceWorker:g}}function GR(){const{offlineReady:[t],needRefresh:[e],updateServiceWorker:r}=HR({onRegistered(n){console.log("Service Worker registrado.")},onRegisterError(n){console.error("Erro no registro do Service Worker:",n)}});return ut.useEffect(()=>{e&&pe.info("Uma nova verso est disponvel!",{position:"bottom-center",duration:1e4,action:{label:"Recarregar",onClick:()=>{r(!0)}}})},[e,r]),ut.useEffect(()=>{t&&pe.success("App pronto para funcionar offline.")},[t]),null}function KR(){return s.jsx(k3,{children:s.jsx(P3,{children:s.jsxs(Hj,{children:[s.jsx(nE,{position:"top-right",richColors:!0}),s.jsx(GR,{}),s.jsxs(Nj,{children:[s.jsx(Tn,{path:"/login",element:s.jsx(EC,{})}),s.jsxs(Tn,{element:s.jsx(VR,{}),children:[s.jsx(Tn,{path:"/dashboard-selector",element:s.jsx(kC,{})}),s.jsxs(Tn,{element:s.jsx($R,{children:s.jsx(Ep,{})}),children:[s.jsx(Tn,{path:"/financeiro-pessoal",element:s.jsx(LC,{})}),s.jsx(Tn,{path:"/dividas-pessoais",element:s.jsx(TC,{})}),s.jsx(Tn,{path:"/minha-conta-pessoal",element:s.jsx(RC,{})}),s.jsx(Tn,{path:"/cards-de-obra",element:s.jsx(JC,{})}),s.jsx(Tn,{path:"/minhas-obras",element:s.jsx(XC,{})}),s.jsx(Tn,{path:"/gestao-obras",element:s.jsx(UR,{})}),s.jsx(Tn,{path:"/dashboard",element:s.jsx(AC,{})}),s.jsx(Tn,{path:"/funcionarios",element:s.jsx(C8,{})}),s.jsx(Tn,{path:"/dividas",element:s.jsx(A8,{})}),s.jsx(Tn,{path:"/obras",element:s.jsx(FT,{})}),s.jsx(Tn,{path:"/caixa",element:s.jsx(BT,{})}),s.jsx(Tn,{path:"/receber",element:s.jsx(UT,{})}),s.jsx(Tn,{path:"/automacao-pdf",element:s.jsx(LR,{})}),s.jsx(Tn,{path:"/propostas",element:s.jsx(zR,{})}),s.jsx(Tn,{path:"/minha-conta",element:s.jsx(BR,{})}),s.jsx(Tn,{path:"/",element:s.jsx(Nb,{to:"/dashboard-selector",replace:!0})})]})]})]})]})})})}ON.createRoot(document.getElementById("root")).render(s.jsx(KR,{}));export{Ir as _,YR as c,bv as g};
