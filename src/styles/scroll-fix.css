/* Estilos globais para scroll otimizado e safe areas */

/* Safe areas para dispositivos iOS */
:root {
  /* Padding seguro para conteúdo */
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
  --safe-left: env(safe-area-inset-left, 0px);
  --safe-right: env(safe-area-inset-right, 0px);
  
  /* Altura do tab bar com safe area */
  --tab-bar-height: calc(100px + env(safe-area-inset-bottom, 0px));
}

/* HTML e Body preenchem toda a tela */
html, body {
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
  overflow: hidden;
  position: fixed;
  overscroll-behavior: none;
}

/* Root div preenche toda a tela */
#root {
  width: 100%;
  height: 100%;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
}

/* Garante que o scroll funcione em todas as páginas */
* {
  -webkit-overflow-scrolling: touch;
  box-sizing: border-box;
}

/* Container principal com scroll habilitado */
main,
.dashboard-container,
.obras-hub,
.financeiro-hub,
[class*="-hub"],
[class*="page"] {
  overflow-y: auto !important;
  overflow-x: hidden !important;
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
  height: 100%;
}

/* Classe helper para fill-available */
.webkit-fill-available {
  height: 100vh;
  height: -webkit-fill-available;
}

/* Otimização para iOS - preenche toda a tela */
@supports (-webkit-touch-callout: none) {
  html {
    height: -webkit-fill-available;
  }
  
  body {
    min-height: 100vh;
    min-height: -webkit-fill-available;
  }
  
  #root {
    height: 100vh;
    height: -webkit-fill-available;
  }
  
  main {
    height: 100% !important;
    overflow-y: auto !important;
  }
  
  .webkit-fill-available {
    height: -webkit-fill-available !important;
  }
}

/* Otimização para Android e outros */
@supports not (-webkit-touch-callout: none) {
  html, body {
    height: 100vh;
    height: 100dvh;
  }
  
  #root {
    height: 100vh;
    height: 100dvh;
  }
}
