/* Mobile Viewport - Adaptação perfeita para todos os dispositivos */

/* Variáveis para diferentes dispositivos */
:root {
  /* iPhone X, XS, 11 Pro, 12 Mini, 13 Mini */
  --iphone-x-safe-top: 44px;
  --iphone-x-safe-bottom: 34px;
  
  /* iPhone XR, XS Max, 11, 11 Pro Max, 12, 13, 14, 15 */
  --iphone-notch-safe-top: 47px;
  --iphone-notch-safe-bottom: 34px;
  
  /* iPhone 14 Pro, 15 Pro - Dynamic Island */
  --iphone-island-safe-top: 59px;
  --iphone-island-safe-bottom: 34px;
}

/* Previne zoom indesejado no iOS */
input,
select,
textarea {
  font-size: 16px !important;
}

/* Remove bounce scroll no iOS */
body {
  overscroll-behavior-y: none;
  -webkit-overflow-scrolling: touch;
}

/* Container principal se adapta ao tamanho real do dispositivo */
#root {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

/* Adaptação para iOS PWA em fullscreen */
@media all and (display-mode: standalone) {
  body {
    padding-top: env(safe-area-inset-top, 0px);
  }
}

/* Adaptação para diferentes densidades de pixel */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .tab-bar-background {
    border-top-width: 0.5px;
  }
}

/* iPhone SE (1st gen) - 320px */
@media (max-width: 320px) {
  :root {
    --tab-bar-height: 90px;
  }
  
  .tab-bar-content {
    height: 90px !important;
  }
}

/* Dispositivos pequenos - 360px a 375px */
@media (min-width: 360px) and (max-width: 375px) {
  :root {
    --tab-bar-height: 95px;
  }
}

/* iPhone 12 Pro Max, 13 Pro Max, 14 Plus - 428px */
@media (min-width: 428px) {
  .tab-bar-content {
    padding: 0 28px 12px;
  }
}

/* Tablets */
@media (min-width: 768px) {
  .bottom-tab-bar {
    max-width: 600px;
    left: 50%;
    transform: translateX(-50%);
    border-radius: 24px 24px 0 0;
  }
}

/* Desktop */
@media (min-width: 1024px) {
  .bottom-tab-bar {
    max-width: 480px;
  }
}

/* Fix para Chrome no Android */
@supports not (-webkit-touch-callout: none) {
  body {
    height: 100vh;
    height: 100dvh;
  }
  
  #root {
    height: 100vh;
    height: 100dvh;
  }
}

/* Fix para Safari no iOS */
@supports (-webkit-touch-callout: none) {
  html {
    height: -webkit-fill-available;
  }
  
  body {
    height: 100vh;
    height: -webkit-fill-available;
  }
  
  #root {
    height: 100vh;
    height: -webkit-fill-available;
  }
}

/* Remove address bar scroll no Chrome mobile */
@media screen and (max-width: 767px) {
  body {
    min-height: 100vh;
    min-height: -webkit-fill-available;
  }
}

/* Previne problemas com teclado virtual */
@media (max-height: 500px) and (orientation: landscape) {
  .bottom-tab-bar {
    min-height: 70px;
  }
  
  main {
    padding-bottom: 70px !important;
  }
}

/* Notch/Dynamic Island específicos */
@supports (padding: env(safe-area-inset-top)) {
  /* iPhone com notch em landscape */
  @media (orientation: landscape) {
    body {
      padding-left: env(safe-area-inset-left, 0px);
      padding-right: env(safe-area-inset-right, 0px);
    }
  }
}
